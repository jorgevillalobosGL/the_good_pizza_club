"use strict";(self.webpackChunkthe_good_pizza_club=self.webpackChunkthe_good_pizza_club||[]).push([[106],{106:function(t,e,n){n.r(e),n.d(e,{AuthModule:function(){return M}});var i=n(8583),o=n(2694),s=n(7716);let r=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-auth"]],decls:6,vars:0,consts:[[1,"d-flex"],[1,"img-container"],["src","assets/images/welcome_main.png","alt","main-welcome",1,"logo"],[1,"auth-main-container","w-100"],[1,"comp-container"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._UZ(2,"img",2),s.qZA(),s.TgZ(3,"div",3),s.TgZ(4,"div",4),s._UZ(5,"router-outlet"),s.qZA(),s.qZA(),s.qZA())},directives:[o.lC],styles:[".auth-main-container[_ngcontent-%COMP%]{position:relative}.auth-main-container[_ngcontent-%COMP%]   .comp-container[_ngcontent-%COMP%]{padding:13.6875rem 6.875rem 0 15%}@media (max-width: 1199.98px){.auth-main-container[_ngcontent-%COMP%]{position:absolute}.img-container[_ngcontent-%COMP%]{min-height:75em}}@media (max-width: 767.98px){.auth-main-container[_ngcontent-%COMP%]   .comp-container[_ngcontent-%COMP%]{left:0}}"]}),t})();var c=n(665),a=n(9765),l=n(6782),g=n(7556),u=n(6069),p=n(5616);const d=[{path:"",component:r,children:[{path:"welcome",component:(()=>{class t{constructor(t){this.router=t}redirectTo(t){this.router.navigate([t])}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.F0))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-welcome"]],decls:8,vars:1,consts:[[1,"welcome-section"],[1,"txt-yellow","mb-0","pl-3"],[1,"txt-yellow","pl-3"],[1,"btn-content"],["label","LOG IN","width","224px",1,"btn-login",3,"isOutline","click"],["label","SIGN UP","width","224px",1,"btn-sign-in",3,"click"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"h2",1),s._uU(2,"WELCOME!"),s.qZA(),s.TgZ(3,"h3",2),s._uU(4,"Make yourself at home"),s.qZA(),s.TgZ(5,"div",3),s.TgZ(6,"sb-icon-button",4),s.NdJ("click",function(){return e.redirectTo("auth/login")}),s.qZA(),s.TgZ(7,"sb-icon-button",5),s.NdJ("click",function(){return e.redirectTo("auth/sign-up")}),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(6),s.Q6J("isOutline",!0))},directives:[p.Z],styles:[".welcome-section[_ngcontent-%COMP%]{padding-top:5.9375rem}.welcome-section[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{padding-top:1.875rem}.welcome-section[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%], .welcome-section[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .btn-sign-in[_ngcontent-%COMP%]{padding-left:.9375rem}"]}),t})()},{path:"login",component:(()=>{class t{constructor(t,e,n){this.router=t,this.formBuilder=e,this.authService=n,this.destroy$=new a.xQ}login(){const{email:t,password:e}=this.loginForm.getRawValue();this.authService.login(t,e).pipe((0,l.R)(this.destroy$)).subscribe(({user:t})=>{this.handleLogin(t)})}googleLogin(){this.authService.googleSignIn().pipe((0,l.R)(this.destroy$)).subscribe(({user:t})=>{this.handleLogin(t)})}facebookLogin(){this.authService.facebookSignIn().pipe((0,l.R)(this.destroy$)).subscribe(({user:t})=>{this.handleLogin(t)})}handleLogin(t){t&&this.router.navigate(["/home"])}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",c.kI.required],password:["",c.kI.required]})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.F0),s.Y36(c.qu),s.Y36(g.e))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-login"]],decls:17,vars:4,consts:[[1,"login-section"],[1,"txt-yellow","pb-4","pl-3"],[3,"formGroup"],[1,"txt-gray-6"],["type","email","formControlName","email"],[1,"txt-gray-6","pt-5"],["type","password","formControlName","password",3,"disableValidations"],[1,""],[1,"btn-login"],["label","LOG IN","type","success","width","345px",3,"click"],[1,"btn-google"],["label","LOG IN WITH GOOGLE","width","345px",3,"isOutline","click"],[1,"btn-facebook"],["label","LOG IN WITH FACEBOOK","width","345px",3,"isOutline","click"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"h3",1),s._uU(2,"Welcome back!"),s.qZA(),s.TgZ(3,"form",2),s.TgZ(4,"label",3),s._uU(5,"Email"),s.qZA(),s._UZ(6,"sb-text-input",4),s.TgZ(7,"label",5),s._uU(8,"Password"),s.qZA(),s._UZ(9,"sb-text-input",6),s.qZA(),s.TgZ(10,"div",7),s.TgZ(11,"div",8),s.TgZ(12,"sb-icon-button",9),s.NdJ("click",function(){return e.login()}),s.qZA(),s.qZA(),s.TgZ(13,"div",10),s.TgZ(14,"sb-icon-button",11),s.NdJ("click",function(){return e.googleLogin()}),s.qZA(),s.qZA(),s.TgZ(15,"div",12),s.TgZ(16,"sb-icon-button",13),s.NdJ("click",function(){return e.facebookLogin()}),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Q6J("formGroup",e.loginForm),s.xp6(6),s.Q6J("disableValidations",!0),s.xp6(5),s.Q6J("isOutline",!0),s.xp6(2),s.Q6J("isOutline",!0))},directives:[c._Y,c.JL,c.sg,u.Z,c.JJ,c.u,p.Z],styles:[".login-section[_ngcontent-%COMP%]{height:54.6875rem}.login-section[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{text-align:center;padding-top:5.9375rem}.login-section[_ngcontent-%COMP%]   .btn-google[_ngcontent-%COMP%]{text-align:center;padding-top:3.5rem}.login-section[_ngcontent-%COMP%]   .btn-facebook[_ngcontent-%COMP%]{text-align:center;padding-top:1.6875rem}"]}),t})()},{path:"sign-up",component:(()=>{class t{constructor(t,e,n){this.router=t,this.authService=e,this.formBuilder=n,this.isEmailValid=!1,this.isPasswordValid=!1,this.destroy$=new a.xQ}onSignUp(){if(this.isPasswordValid&&this.isEmailValid&&this.signUpForm.valid){const{email:t,password:e,name:n}=this.signUpForm.getRawValue();this.authService.createUser(t,e,n).pipe((0,l.R)(this.destroy$)).subscribe(({user:t})=>{this.handleSignUp(t)})}else this.nameState=this.name.invalid?"danger":"success"}onGoogleSignUp(){this.authService.googleSignIn().pipe((0,l.R)(this.destroy$)).subscribe(({user:t})=>{this.handleSignUp(t)})}onFaceBookSignUp(){this.authService.facebookSignIn().pipe((0,l.R)(this.destroy$)).subscribe(({user:t})=>{this.handleSignUp(t)})}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get name(){return this.signUpForm.get("name")}handleSignUp(t){t&&this.router.navigate(["/home"])}ngOnInit(){this.signUpForm=this.formBuilder.group({email:[""],password:[""],name:["",c.kI.required]})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.F0),s.Y36(g.e),s.Y36(c.qu))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-sign-in"]],decls:23,vars:5,consts:[[1,"sign-section"],[1,"txt-yellow","pb-4","pl-3"],[3,"formGroup"],[1,"txt-gray-6"],["formControlName","email","type","email",3,"isValid"],[1,"txt-gray-6","pt-5"],["formControlName","password","type","password",3,"isValid"],["formControlName","name","type","text","customErrorMessage","Name is required",3,"state"],["type","text"],[1,""],[1,"btn-sign"],["label","SIGN UP","type","success","width","345px",3,"isDisabled","click"],[1,"btn-google"],["label","SIGN UP WITH GOOGLE","width","345px",3,"isOutline","click"],[1,"btn-facebook"],["label","SIGN UP WITH FACEBOOK","width","345px",3,"isOutline","click"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"h3",1),s._uU(2,"Happy to have you!"),s.qZA(),s.TgZ(3,"form",2),s.TgZ(4,"label",3),s._uU(5,"Email"),s.qZA(),s.TgZ(6,"sb-text-input",4),s.NdJ("isValid",function(t){return e.isEmailValid=t}),s.qZA(),s.TgZ(7,"label",5),s._uU(8,"Password"),s.qZA(),s.TgZ(9,"sb-text-input",6),s.NdJ("isValid",function(t){return e.isPasswordValid=t}),s.qZA(),s.TgZ(10,"label",5),s._uU(11,"Name"),s.qZA(),s._UZ(12,"sb-text-input",7),s.TgZ(13,"label",5),s._uU(14,"Phone Number"),s.qZA(),s._UZ(15,"sb-text-input",8),s.qZA(),s.TgZ(16,"div",9),s.TgZ(17,"div",10),s.TgZ(18,"sb-icon-button",11),s.NdJ("click",function(){return e.onSignUp()}),s.qZA(),s.qZA(),s.TgZ(19,"div",12),s.TgZ(20,"sb-icon-button",13),s.NdJ("click",function(){return e.onGoogleSignUp()}),s.qZA(),s.qZA(),s.TgZ(21,"div",14),s.TgZ(22,"sb-icon-button",15),s.NdJ("click",function(){return e.onFaceBookSignUp()}),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Q6J("formGroup",e.signUpForm),s.xp6(9),s.Q6J("state",e.nameState),s.xp6(6),s.Q6J("isDisabled",!e.isEmailValid||!e.isPasswordValid),s.xp6(2),s.Q6J("isOutline",!0),s.xp6(2),s.Q6J("isOutline",!0))},directives:[c._Y,c.JL,c.sg,u.Z,c.JJ,c.u,p.Z],styles:[".sign-section[_ngcontent-%COMP%]{height:68.4375rem}.sign-section[_ngcontent-%COMP%]   .btn-sign[_ngcontent-%COMP%]{text-align:center;padding-top:4.1875rem}.sign-section[_ngcontent-%COMP%]   .btn-google[_ngcontent-%COMP%]{text-align:center;padding-top:3.5rem}.sign-section[_ngcontent-%COMP%]   .btn-facebook[_ngcontent-%COMP%]{text-align:center;padding-top:1.6875rem}"]}),t})()},{path:"",redirectTo:"welcome",pathMatch:"full"}]}];let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.Bz.forChild(d)],o.Bz]}),t})();var h=n(3071),b=n(4466);let Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[c.u5,b.m,i.ez,c.UX]]}),t})(),f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[c.u5,b.m,i.ez,c.UX]]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[c.u5,b.m,i.ez,c.UX]]}),t})();var w=n(6710),_=n(8379);const x=(0,w.Lq)({user:null},(0,w.on)(_.mQ,(t,{payload:e})=>Object.assign(Object.assign({},t),{user:e})));function v(t,e){return x(t,e)}const y=(0,w.ZF)("auth");(0,w.P1)(y,t=>t.user);var A=n(1601),T=n(9773),q=n(8002),U=n(5304),C=n(5917);let P=(()=>{class t{constructor(t,e){this.actions$=t,this.userService=e,this.createUser$=(0,A.GW)(()=>this.actions$.pipe((0,A.l4)(_.r4),(0,T.zg)(t=>this.userService.createUser(t.user).pipe((0,q.U)(()=>(0,_.MU)()),(0,U.K)(()=>(0,C.of)((0,_.W0)()))))))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(A.eX),s.LFG(h.K))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();const k=[Z,f,O];let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[g.e,h.K],imports:[[...k,i.ez,m,w.Aw.forFeature("auth",v),A.sQ.forFeature([P])]]}),t})()}}]);