"use strict";(self.webpackChunkthe_good_pizza_club=self.webpackChunkthe_good_pizza_club||[]).push([[121],{121:function(t,n,e){e.r(n),e.d(n,{AuthModule:function(){return A}});var i=e(8583),o=e(2340),s=e(665),c=e(5406),r=e(7716);let a=(()=>{class t{constructor(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-auth"]],decls:6,vars:0,consts:[[1,"d-flex"],[1,"img-container"],["src","/assets/images/welcome_main.png","alt","main-welcome",1,"logo"],[1,"auth-main-container","w-100"],[1,"comp-container"]],template:function(t,n){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._UZ(2,"img",2),r.qZA(),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r._UZ(5,"router-outlet"),r.qZA(),r.qZA(),r.qZA())},directives:[c.lC],styles:[".auth-main-container[_ngcontent-%COMP%]{position:relative}.auth-main-container[_ngcontent-%COMP%]   .comp-container[_ngcontent-%COMP%]{padding:219px 110px 0 15%}@media (max-width: 1199.98px){.auth-main-container[_ngcontent-%COMP%]{position:absolute}.img-container[_ngcontent-%COMP%]{min-height:75em}}@media (max-width: 767.98px){.auth-main-container[_ngcontent-%COMP%]   .comp-container[_ngcontent-%COMP%]{left:0}}"]}),t})();var l=e(9765),g=e(6782),u=e(8633),p=e(5229),d=e(357);let h=(()=>{class t{constructor(t,n,e){this.router=t,this.authService=n,this.formBuilder=e,this.destroy$=new l.xQ}login(){const{email:t,password:n}=this.loginForm.getRawValue();this.authService.login(t,n).pipe((0,g.R)(this.destroy$)).subscribe(({user:t})=>{this.handleLogin(t)})}googleLogin(){this.authService.googleSignIn().subscribe(({user:t})=>{this.handleLogin(t)})}facebookLogin(){this.authService.facebookSignIn().subscribe(({user:t})=>{this.handleLogin(t)})}handleLogin(t){t&&this.router.navigate(["/home"])}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",s.kI.required],password:["",s.kI.required]})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(r.Y36(c.F0),r.Y36(u.e),r.Y36(s.qu))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login"]],decls:17,vars:4,consts:[[1,"login-section"],[1,"txt-yellow","pb-4","pl-3"],[3,"formGroup"],[1,"txt-gray-6"],["type","email","formControlName","email"],[1,"txt-gray-6","pt-5"],["type","password","formControlName","password",3,"disableValidations"],[1,""],[1,"btn-login"],["label","LOG IN","type","success","width","345px",3,"click"],[1,"btn-google"],["label","LOG IN WITH GOOGLE","width","345px",3,"isOutline","click"],[1,"btn-facebook"],["label","LOG IN WITH FACEBOOK","width","345px",3,"isOutline","click"]],template:function(t,n){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h3",1),r._uU(2,"Welcome back!"),r.qZA(),r.TgZ(3,"form",2),r.TgZ(4,"label",3),r._uU(5,"Email"),r.qZA(),r._UZ(6,"sb-text-input",4),r.TgZ(7,"label",5),r._uU(8,"Password"),r.qZA(),r._UZ(9,"sb-text-input",6),r.qZA(),r.TgZ(10,"div",7),r.TgZ(11,"div",8),r.TgZ(12,"sb-icon-button",9),r.NdJ("click",function(){return n.login()}),r.qZA(),r.qZA(),r.TgZ(13,"div",10),r.TgZ(14,"sb-icon-button",11),r.NdJ("click",function(){return n.googleLogin()}),r.qZA(),r.qZA(),r.TgZ(15,"div",12),r.TgZ(16,"sb-icon-button",13),r.NdJ("click",function(){return n.facebookLogin()}),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(3),r.Q6J("formGroup",n.loginForm),r.xp6(6),r.Q6J("disableValidations",!0),r.xp6(5),r.Q6J("isOutline",!0),r.xp6(2),r.Q6J("isOutline",!0))},directives:[s._Y,s.JL,s.sg,p.Z,s.JJ,s.u,d.Z],styles:[".login-section[_ngcontent-%COMP%]{height:875px}.login-section[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%]{text-align:center;padding-top:95px}.login-section[_ngcontent-%COMP%]   .btn-google[_ngcontent-%COMP%]{text-align:center;padding-top:56px}.login-section[_ngcontent-%COMP%]   .btn-facebook[_ngcontent-%COMP%]{text-align:center;padding-top:27px}"]}),t})(),m=(()=>{class t{constructor(t,n,e){this.router=t,this.authService=n,this.formBuilder=e,this.isEmailValid=!1,this.isPasswordValid=!1,this.destroy$=new l.xQ}onSignUp(){if(this.isPasswordValid&&this.isEmailValid&&this.signUpForm.valid){const{email:t,password:n,name:e}=this.signUpForm.getRawValue();this.authService.createUser(t,n,e).pipe((0,g.R)(this.destroy$)).subscribe(({user:t})=>{this.handleSignUp(t)})}else this.nameState=this.name.invalid?"danger":"success"}onGoogleSignUp(){this.authService.googleSignIn().pipe((0,g.R)(this.destroy$)).subscribe(({user:t})=>{this.handleSignUp(t)})}onFaceBookSignUp(){this.authService.facebookSignIn().pipe((0,g.R)(this.destroy$)).subscribe(({user:t})=>{this.handleSignUp(t)})}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get name(){return this.signUpForm.get("name")}handleSignUp(t){t&&this.router.navigate(["/home"])}ngOnInit(){this.signUpForm=this.formBuilder.group({email:[""],password:[""],name:["",s.kI.required]})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(r.Y36(c.F0),r.Y36(u.e),r.Y36(s.qu))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-sign-in"]],decls:23,vars:5,consts:[[1,"sign-section"],[1,"txt-yellow","pb-4","pl-3"],[3,"formGroup"],[1,"txt-gray-6"],["formControlName","email","type","email",3,"isValid"],[1,"txt-gray-6","pt-5"],["formControlName","password","type","password",3,"isValid"],["formControlName","name","type","text","customErrorMessage","Name is required",3,"state"],["type","text"],[1,""],[1,"btn-sign"],["label","SIGN UP","type","success","width","345px",3,"isDisabled","click"],[1,"btn-google"],["label","SIGN UP WITH GOOGLE","width","345px",3,"isOutline","click"],[1,"btn-facebook"],["label","SIGN UP WITH FACEBOOK","width","345px",3,"isOutline","click"]],template:function(t,n){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h3",1),r._uU(2,"Happy to have you!"),r.qZA(),r.TgZ(3,"form",2),r.TgZ(4,"label",3),r._uU(5,"Email"),r.qZA(),r.TgZ(6,"sb-text-input",4),r.NdJ("isValid",function(t){return n.isEmailValid=t}),r.qZA(),r.TgZ(7,"label",5),r._uU(8,"Password"),r.qZA(),r.TgZ(9,"sb-text-input",6),r.NdJ("isValid",function(t){return n.isPasswordValid=t}),r.qZA(),r.TgZ(10,"label",5),r._uU(11,"Name"),r.qZA(),r._UZ(12,"sb-text-input",7),r.TgZ(13,"label",5),r._uU(14,"Phone Number"),r.qZA(),r._UZ(15,"sb-text-input",8),r.qZA(),r.TgZ(16,"div",9),r.TgZ(17,"div",10),r.TgZ(18,"sb-icon-button",11),r.NdJ("click",function(){return n.onSignUp()}),r.qZA(),r.qZA(),r.TgZ(19,"div",12),r.TgZ(20,"sb-icon-button",13),r.NdJ("click",function(){return n.onGoogleSignUp()}),r.qZA(),r.qZA(),r.TgZ(21,"div",14),r.TgZ(22,"sb-icon-button",15),r.NdJ("click",function(){return n.onFaceBookSignUp()}),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(3),r.Q6J("formGroup",n.signUpForm),r.xp6(9),r.Q6J("state",n.nameState),r.xp6(6),r.Q6J("isDisabled",!n.isEmailValid||!n.isPasswordValid),r.xp6(2),r.Q6J("isOutline",!0),r.xp6(2),r.Q6J("isOutline",!0))},directives:[s._Y,s.JL,s.sg,p.Z,s.JJ,s.u,d.Z],styles:[".sign-section[_ngcontent-%COMP%]{height:1095px}.sign-section[_ngcontent-%COMP%]   .btn-sign[_ngcontent-%COMP%]{text-align:center;padding-top:67px}.sign-section[_ngcontent-%COMP%]   .btn-google[_ngcontent-%COMP%]{text-align:center;padding-top:56px}.sign-section[_ngcontent-%COMP%]   .btn-facebook[_ngcontent-%COMP%]{text-align:center;padding-top:27px}"]}),t})();const b=[{path:"",component:a,children:[{path:"welcome",component:(()=>{class t{constructor(t){this.router=t}redirectTo(t){this.router.navigate([t])}}return t.\u0275fac=function(n){return new(n||t)(r.Y36(c.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-welcome"]],decls:8,vars:1,consts:[[1,"welcome-section"],[1,"txt-yellow","mb-0","pl-3"],[1,"txt-yellow","pl-3"],[1,"btn-content"],["label","LOG IN","width","224px",1,"btn-login",3,"isOutline","click"],["label","SIGN UP","width","224px",1,"btn-sign-in",3,"click"]],template:function(t,n){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h2",1),r._uU(2,"WELCOME!"),r.qZA(),r.TgZ(3,"h3",2),r._uU(4,"Make yourself at home"),r.qZA(),r.TgZ(5,"div",3),r.TgZ(6,"sb-icon-button",4),r.NdJ("click",function(){return n.redirectTo("auth/login")}),r.qZA(),r.TgZ(7,"sb-icon-button",5),r.NdJ("click",function(){return n.redirectTo("auth/sign-up")}),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(6),r.Q6J("isOutline",!0))},directives:[d.Z],styles:[".welcome-section[_ngcontent-%COMP%]{padding-top:95px}.welcome-section[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{padding-top:30px}.welcome-section[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .btn-login[_ngcontent-%COMP%], .welcome-section[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .btn-sign-in[_ngcontent-%COMP%]{padding-left:15px}"]}),t})()},{path:"login",component:h},{path:"sign-up",component:m},{path:"",redirectTo:"welcome",pathMatch:"full"}]}];let Z=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[c.Bz.forChild(b)],c.Bz]}),t})();var f=e(6710),x=e(8379);const O=(0,f.Lq)({user:null},(0,f.on)(x.m,(t,{payload:n})=>Object.assign(Object.assign({},t),{user:n})));function _(t,n){return O(t,n)}const w=(0,f.ZF)("auth");(0,f.P1)(w,t=>t.user);var T=e(3489),q=e(8939);let A=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[u.e],imports:[[s.u5,i.ez,T.m,Z,s.UX,f.Aw.forFeature("auth",_),q.hO.initializeApp(o.N.firebase)]]}),t})()}}]);