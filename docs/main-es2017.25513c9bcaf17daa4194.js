(self.webpackChunkthe_good_pizza_club=self.webpackChunkthe_good_pizza_club||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},7238:function(t,e,n){"use strict";n.d(e,{l3:function(){return s},_j:function(){return r},LC:function(){return i},ZN:function(){return f},jt:function(){return a},vP:function(){return u},SB:function(){return l},oB:function(){return c},eR:function(){return h},X$:function(){return o},ZE:function(){return p},k1:function(){return g}});class r{}class i{}const s="*";function o(t,e){return{type:7,name:t,definitions:e,options:{}}}function a(t,e=null){return{type:4,styles:e,timings:t}}function u(t,e=null){return{type:2,steps:t,options:e}}function c(t){return{type:6,styles:t,offset:null}}function l(t,e,n){return{type:0,name:t,styles:e,options:n}}function h(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function d(t){Promise.resolve(null).then(t)}class f{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){d(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class p{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?d(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const g="!"},8583:function(t,e,n){"use strict";n.d(e,{mr:function(){return b},Ov:function(){return Y},ez:function(){return et},H9:function(){return tt},K0:function(){return u},Do:function(){return C},V_:function(){return h},Ye:function(){return E},S$:function(){return _},mk:function(){return U},sg:function(){return j},O5:function(){return q},PC:function(){return $},b0:function(){return w},lw:function(){return c},rS:function(){return X},EM:function(){return st},JF:function(){return ut},NF:function(){return rt},PM:function(){return it},w_:function(){return a},bD:function(){return nt},q:function(){return s},Mx:function(){return L},HT:function(){return o}});var r=n(7716);let i=null;function s(){return i}function o(t){i||(i=t)}class a{}const u=new r.OlP("DocumentToken");let c=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return(0,r.LFG)(d)}const h=new r.OlP("Location Initialized");let d=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(u))},t.\u0275prov=(0,r.Yz7)({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new d((0,r.LFG)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let _=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=(0,r.LFG)(u).location;return new w((0,r.LFG)(c),e&&e.origin||"")}const b=new r.OlP("appBaseHref");let w=(()=>{class t extends _{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(c),r.LFG(b,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t extends _{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(c),r.LFG(b,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(_),r.LFG(c))},t.normalizeQueryParams=y,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=(0,r.Yz7)({factory:T,token:t,providedIn:"root"}),t})();function T(){return new E((0,r.LFG)(_),(0,r.LFG)(c))}function S(t){return t.replace(/\/index.html$/,"")}const I={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var A=(()=>((A=A||{})[A.Decimal=0]="Decimal",A[A.Percent=1]="Percent",A[A.Currency=2]="Currency",A[A.Scientific=3]="Scientific",A))(),O=(()=>((O=O||{})[O.Zero=0]="Zero",O[O.One=1]="One",O[O.Two=2]="Two",O[O.Few=3]="Few",O[O.Many=4]="Many",O[O.Other=5]="Other",O))(),D=(()=>((D=D||{})[D.Decimal=0]="Decimal",D[D.Group=1]="Group",D[D.List=2]="List",D[D.PercentSign=3]="PercentSign",D[D.PlusSign=4]="PlusSign",D[D.MinusSign=5]="MinusSign",D[D.Exponential=6]="Exponential",D[D.SuperscriptingExponent=7]="SuperscriptingExponent",D[D.PerMille=8]="PerMille",D[D.Infinity=9]="Infinity",D[D.NaN=10]="NaN",D[D.TimeSeparator=11]="TimeSeparator",D[D.CurrencyDecimal=12]="CurrencyDecimal",D[D.CurrencyGroup=13]="CurrencyGroup",D))();function P(t,e){const n=(0,r.cg1)(t),i=n[r.wAp.NumberSymbols][e];if(void 0===i){if(e===D.CurrencyDecimal)return n[r.wAp.NumberSymbols][D.Decimal];if(e===D.CurrencyGroup)return n[r.wAp.NumberSymbols][D.Group]}return i}const k=r.kL8;const x=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function M(t,e,n,i,s){const o=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],u=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);"0"===t?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return(0,r.cg1)(t)[r.wAp.NumberFormats][e]}(e,A.Currency),P(e,D.MinusSign));return o.minFrac=function(t){let e;const n=I[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),o.maxFrac=o.minFrac,function(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;"0"===o.charAt(r);r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;"0"===o.charAt(s);)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(x);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=F(e)),null!=n&&(h=F(n)),null!=r?d=F(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,d);let f=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=f.every(t=>!t);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const y=[];for(f.length>=e.lgSize&&y.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)y.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(P(n,r)),m.length&&(a+=P(n,i)+m.join("")),g&&(a+=P(n,D.Exponential)+"+"+g)}else a=P(n,D.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,D.CurrencyGroup,D.CurrencyDecimal,s).replace("\xa4",n).replace("\xa4","").trim()}function F(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class R{}let N=(()=>{class t extends R{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(k(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function L(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let U=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class V{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let j=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(t){return t.name||typeof t}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new V(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new B(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new B(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class B{constructor(t,e){this.record=t,this.view=e}}let q=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new z,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Z("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Z("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class z{constructor(){this.$implicit=null,this.ngIf=null}}function Z(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let $=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();function H(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,r.AaK)(t)}'`)}class G{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class K{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const W=new K,Q=new G;let Y=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if((0,r.QGY)(e))return W;if((0,r.F4k)(e))return Q;throw H(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO,16))},t.\u0275pipe=r.Yjl({name:"async",type:t,pure:!1}),t})();const J=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let X=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw H(t,e);return e.replace(J,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Yjl({name:"titlecase",type:t,pure:!0}),t})(),tt=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n=this._defaultCurrencyCode,i="symbol",s,o){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(t,e,n="en"){const i=function(t){return(0,r.cg1)(t)[r.wAp.Currencies]}(n)[t]||I[t]||[],s=i[1];return"narrow"===e&&"string"==typeof s?s:i[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return M(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),o,a,n,s)}catch(u){throw H(t,u.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.soG,16),r.Y36(r.EJc,16))},t.\u0275pipe=r.Yjl({name:"currency",type:t,pure:!0}),t})();let et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:R,useClass:N}]}),t})();const nt="browser";function rt(t){return t===nt}function it(t){return"server"===t}let st=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new ot((0,r.LFG)(u),window)}),t})();class ot{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=at(this.window.history)||at(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function at(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class ut{}},7716:function(t,e,n){"use strict";n.d(e,{deG:function(){return rn},tb:function(){return Yu},AFp:function(){return Hu},ip1:function(){return Zu},CZH:function(){return $u},hGG:function(){return Zc},z2F:function(){return Fc},sBO:function(){return Va},Sil:function(){return uc},_Vd:function(){return ca},EJc:function(){return tc},SBq:function(){return fa},qLn:function(){return Ar},vpe:function(){return Tu},gxx:function(){return gs},tBr:function(){return On},XFs:function(){return P},OlP:function(){return nn},zs3:function(){return Ps},ZZ4:function(){return xa},aQg:function(){return Fa},soG:function(){return Xu},YKP:function(){return Wa},v3s:function(){return Nc},h0i:function(){return Ka},PXZ:function(){return Dc},R0b:function(){return hc},FiY:function(){return Dn},Lbi:function(){return Qu},g9A:function(){return Wu},Qsj:function(){return ma},FYo:function(){return ga},JOm:function(){return kr},Tiy:function(){return _a},q3G:function(){return _r},PiD:function(){return Pn},tp0:function(){return kn},EAV:function(){return Vc},Rgc:function(){return Za},dDg:function(){return _c},DyG:function(){return sn},q4F:function(){return ba},GfV:function(){return va},s_b:function(){return Ya},ifc:function(){return N},eFA:function(){return Pc},G48:function(){return Ic},Gpc:function(){return f},X6Q:function(){return Sc},_c5:function(){return qc},VLi:function(){return wc},c2e:function(){return Ju},zSh:function(){return ys},wAp:function(){return Ko},vHH:function(){return m},EiD:function(){return mr},mCW:function(){return tr},qzn:function(){return zn},JVY:function(){return $n},pB0:function(){return Wn},eBb:function(){return Gn},L6k:function(){return Hn},LAX:function(){return Kn},cg1:function(){return $o},Tjo:function(){return Bc},kL8:function(){return Ho},yhl:function(){return Zn},dqk:function(){return B},sIi:function(){return js},CqO:function(){return oo},QGY:function(){return io},F4k:function(){return so},RDi:function(){return St},AaK:function(){return l},z3N:function(){return qn},qOj:function(){return xs},TTD:function(){return _t},_Bn:function(){return sa},xp6:function(){return _i},uIk:function(){return $s},Tol:function(){return To},Gre:function(){return Vo},ekj:function(){return Eo},Suo:function(){return Uu},Xpm:function(){return J},lG2:function(){return st},Yz7:function(){return w},cJS:function(){return C},oAB:function(){return nt},Yjl:function(){return ot},Y36:function(){return Ws},_UZ:function(){return to},BQk:function(){return no},ynx:function(){return eo},qZA:function(){return Xs},TgZ:function(){return Js},EpF:function(){return ro},n5z:function(){return Ye},Ikx:function(){return jo},LFG:function(){return En},$8M:function(){return Xe},NdJ:function(){return ao},CRH:function(){return Vu},oxw:function(){return lo},ALo:function(){return _u},lcZ:function(){return vu},gM2:function(){return bu},Hsn:function(){return po},F$t:function(){return fo},Q6J:function(){return Qs},MGl:function(){return go},DdM:function(){return du},VKq:function(){return fu},WLB:function(){return pu},iGM:function(){return Nu},MAs:function(){return Ks},Jf7:function(){return Dr},CHM:function(){return Zt},oJD:function(){return vr},LSH:function(){return br},kYT:function(){return rt},Udp:function(){return Co},d8E:function(){return Bo},YNc:function(){return Gs},W1O:function(){return zu},_uU:function(){return No},Oqu:function(){return Lo},hij:function(){return Uo},Gf:function(){return Lu}});var r=n(9765),i=n(5319),s=n(8891),o=n(6682),a=n(8819);function u(t){for(let e in t)if(t[e]===u)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=u({__forward_ref__:u});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${_(t)} found${n}`)}function b(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return T(t,I)||T(t,O)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function S(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(D))?t[A]:null}const I=u({"\u0275prov":u}),A=u({"\u0275inj":u}),O=u({ngInjectableDef:u}),D=u({ngInjectorDef:u});var P=(()=>((P=P||{})[P.Default=0]="Default",P[P.Host=1]="Host",P[P.Self=2]="Self",P[P.SkipSelf=4]="SkipSelf",P[P.Optional=8]="Optional",P))();let k;function x(t){const e=k;return k=t,e}function M(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&P.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function F(t){return{toString:t}.toString()}var R=(()=>((R=R||{})[R.OnPush=0]="OnPush",R[R.Default=1]="Default",R))(),N=(()=>((N=N||{})[N.Emulated=0]="Emulated",N[N.None=2]="None",N[N.ShadowDom=3]="ShadowDom",N))();const L="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,B=L||j||U||V,q={},z=[],Z=u({"\u0275cmp":u}),$=u({"\u0275dir":u}),H=u({"\u0275pipe":u}),G=u({"\u0275mod":u}),K=u({"\u0275loc":u}),W=u({"\u0275fac":u}),Q=u({__NG_ELEMENT_ID__:u});let Y=0;function J(t){return F(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===R.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||N.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Y++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(X):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(tt):null,n})}function X(t){return at(t)||function(t){return t[$]||null}(t)}function tt(t){return function(t){return t[H]||null}(t)}const et={};function nt(t){return F(()=>{const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(et[t.id]=t.type),e})}function rt(t,e){return F(()=>{const n=ut(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function it(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const st=J;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[Z]||null}function ut(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}function ct(t){return Array.isArray(t)&&"object"==typeof t[1]}function lt(t){return Array.isArray(t)&&!0===t[1]}function ht(t){return 0!=(8&t.flags)}function dt(t){return 2==(2&t.flags)}function ft(t){return 1==(1&t.flags)}function pt(t){return null!==t.template}function gt(t){return 0!=(512&t[2])}function mt(t,e){return t.hasOwnProperty(W)?t[W]:null}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return vt}function vt(t){return t.type.prototype.ngOnChanges&&(t.setInput=wt),bt}function bt(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function wt(t,e,n,r){const i=Et(t)||function(t,e){return t[Ct]=e}(t,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new yt(u&&u.currentValue,e,o===q),t[r]=e}_t.ngInherit=!0;const Ct="__ngSimpleChanges__";function Et(t){return t[Ct]||null}let Tt;function St(t){Tt=t}function It(){return void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0}function At(t){return!!t.listen}const Ot={createRenderer:(t,e)=>It()};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function Pt(t,e){return Dt(e[t])}function kt(t,e){return Dt(e[t.index])}function xt(t,e){return t.data[e]}function Mt(t,e){return t[e]}function Ft(t,e){const n=e[t];return ct(n)?n:n[0]}function Rt(t){return 4==(4&t[2])}function Nt(t){return 128==(128&t[2])}function Lt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function Vt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const jt={lFrame:le(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bt(){return jt.bindingsEnabled}function qt(){return jt.lFrame.lView}function zt(){return jt.lFrame.tView}function Zt(t){return jt.lFrame.contextLView=t,t[8]}function $t(){let t=Ht();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ht(){return jt.lFrame.currentTNode}function Gt(t,e){const n=jt.lFrame;n.currentTNode=t,n.isParent=e}function Kt(){return jt.lFrame.isParent}function Wt(){jt.lFrame.isParent=!1}function Qt(){return jt.isInCheckNoChangesMode}function Yt(t){jt.isInCheckNoChangesMode=t}function Jt(){const t=jt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xt(){return jt.lFrame.bindingIndex++}function te(t){const e=jt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ee(t,e){const n=jt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ne(e)}function ne(t){jt.lFrame.currentDirectiveIndex=t}function re(t){const e=jt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ie(){return jt.lFrame.currentQueryIndex}function se(t){jt.lFrame.currentQueryIndex=t}function oe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ae(t,e,n){if(n&P.SkipSelf){let r=e,i=t;for(;!(r=r.parent,null!==r||n&P.Host||(r=oe(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;e=r,t=i}const r=jt.lFrame=ce();return r.currentTNode=e,r.lView=t,!0}function ue(t){const e=ce(),n=t[1];jt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ce(){const t=jt.lFrame,e=null===t?null:t.child;return null===e?le(t):e}function le(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function he(){const t=jt.lFrame;return jt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const de=he;function fe(){const t=he();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pe(){return jt.lFrame.selectedIndex}function ge(t){jt.lFrame.selectedIndex=t}function me(){const t=jt.lFrame;return xt(t.tView,t.selectedIndex)}function ye(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function _e(t,e,n){we(t,e,3,n)}function ve(t,e,n,r){(3&t[2])===n&&we(t,e,n,r)}function be(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function we(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ce(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ce(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class Ee{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Ie(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Se(t){return 3===t||4===t||6===t}function Ie(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Oe(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Oe(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function De(t){return-1!==t}function Pe(t){return 32767&t}function ke(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let xe=!0;function Me(t){const e=xe;return xe=t,e}let Fe=0;function Re(t,e){const n=Le(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ne(r.data,t),Ne(e,null),Ne(r.blueprint,null));const i=Ue(t,e),s=t.injectorIndex;if(De(i)){const t=Pe(i),n=ke(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Ne(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Le(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ue(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ve(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Fe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function je(t,e,n){if(n&P.Optional)return t;v(e,"NodeInjector")}function Be(t,e,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=t[9],s=x(void 0);try{return i?i.get(e,r,n&P.Optional):M(e,r,n&P.Optional)}finally{x(s)}}return je(r,e,n)}function qe(t,e,n,r=P.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:Ze:e}(n);if("function"==typeof s){if(!ae(e,t,r))return r&P.Host?je(i,n,r):Be(e,n,r,i);try{const t=s(r);if(null!=t||r&P.Optional)return t;v(n)}finally{de()}}else if("number"==typeof s){let i=null,o=Le(t,e),a=-1,u=r&P.Host?e[16][6]:null;for((-1===o||r&P.SkipSelf)&&(a=-1===o?Ue(t,e):e[o+8],-1!==a&&We(r,!1)?(i=e[1],o=Pe(a),e=ke(a,e)):o=-1);-1!==o;){const t=e[1];if(Ke(s,o,t.data)){const t=$e(o,e,n,i,r,u);if(t!==ze)return t}a=e[o+8],-1!==a&&We(r,e[1].data[o+8]===u)&&Ke(s,o,e)?(i=t,o=Pe(a),e=ke(a,e)):o=-1}}}return Be(e,n,r,i)}const ze={};function Ze(){return new Qe($t(),qt())}function $e(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=He(a,o,n,null==r?dt(a)&&xe:r!=o&&0!=(3&a.type),i&P.Host&&s===a);return null!==u?Ge(e,o,u,a):ze}function He(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&pt(t)&&t.type===n)return u}return null}function Ge(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof Ee}(i)){const o=i;o.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(_(s[n]));const a=Me(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?x(o.injectImpl):null;ae(t,r,P.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=vt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&x(u),Me(a),o.resolving=!1,de()}}return i}function Ke(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function We(t,e){return!(t&P.Self||t&P.Host&&e)}class Qe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return qe(this._tNode,this._lView,t,void 0,e)}}function Ye(t){return F(()=>{const e=t.prototype.constructor,n=e[W]||Je(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||Je(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Je(t){return g(t)?()=>{const e=Je(p(t));return e&&e()}:mt(t)}function Xe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Se(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}($t(),t)}const tn="__parameters__";function en(t,e,n){return F(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(tn)?t[tn]:Object.defineProperty(t,tn,{value:[]})[tn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class nn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rn=new nn("AnalyzeForEntryComponents"),sn=Function;function on(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),on(r,e)):e!==t&&e.push(r)}return e}function an(t,e){t.forEach(t=>Array.isArray(t)?an(t,e):e(t))}function un(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ln(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function hn(t,e,n){let r=fn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dn(t,e){const n=fn(t,e);if(n>=0)return t[1|n]}function fn(t,e){return function(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const pn={},gn="__NG_DI_FLAG__",mn="ngTempTokenPath",yn=/\n/gm,_n="__source",vn=u({provide:String,useValue:u});let bn;function wn(t){const e=bn;return bn=t,e}function Cn(t,e=P.Default){if(void 0===bn)throw new Error("inject() must be called from an injection context");return null===bn?M(t,void 0,e):bn.get(t,e&P.Optional?null:void 0,e)}function En(t,e=P.Default){return(k||Cn)(p(t),e)}function Tn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=P.Default;for(let e=0;e<r.length;e++){const i=r[e],s=In(i);"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(En(t,n))}else e.push(En(r))}return e}function Sn(t,e){return t[gn]=e,t.prototype[gn]=e,t}function In(t){return t[gn]}function An(t,e,n,r){const i=t[mn];throw e[_n]&&i.unshift(e[_n]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(yn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[mn]=null,t}const On=Sn(en("Inject",t=>({token:t})),-1),Dn=Sn(en("Optional"),8),Pn=Sn(en("Self"),2),kn=Sn(en("SkipSelf"),4);let xn,Mn;function Fn(t){var e;return(null===(e=function(){if(void 0===xn&&(xn=null,B.trustedTypes))try{xn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return xn}())||void 0===e?void 0:e.createHTML(t))||t}function Rn(t){var e;return(null===(e=function(){if(void 0===Mn&&(Mn=null,B.trustedTypes))try{Mn=B.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Mn}())||void 0===e?void 0:e.createHTML(t))||t}class Nn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ln extends Nn{getTypeName(){return"HTML"}}class Un extends Nn{getTypeName(){return"Style"}}class Vn extends Nn{getTypeName(){return"Script"}}class jn extends Nn{getTypeName(){return"URL"}}class Bn extends Nn{getTypeName(){return"ResourceURL"}}function qn(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function zn(t,e){const n=Zn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Zn(t){return t instanceof Nn&&t.getTypeName()||null}function $n(t){return new Ln(t)}function Hn(t){return new Un(t)}function Gn(t){return new Vn(t)}function Kn(t){return new jn(t)}function Wn(t){return new Bn(t)}class Qn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Fn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Yn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Fn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Fn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;("xmlns:ns1"===n||0===n.indexOf("ns1:"))&&t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tr(t){return(t=String(t)).match(Jn)||t.match(Xn)?t:"unsafe:"+t}function er(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function nr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const rr=er("area,br,col,hr,img,wbr"),ir=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sr=er("rp,rt"),or=nr(rr,nr(ir,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nr(sr,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr(sr,ir)),ar=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=er("srcset"),cr=nr(ar,ur,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=er("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!or.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!cr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;ar[s]&&(o=tr(o)),ur[s]&&(r=o,o=(r=String(r)).split(",").map(t=>tr(t.trim())).join(", ")),this.buf.push(" ",e,'="',pr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();or.hasOwnProperty(e)&&!rr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const dr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(dr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(fr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gr;function mr(t,e){let n=null;try{gr=gr||function(t){const e=new Yn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Fn(""),"text/html")}catch(t){return!1}}()?new Qn(e):e}(t);let r=e?String(e):"";n=gr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=gr.getInertBodyElement(r)}while(r!==s);return Fn((new hr).sanitizeChildren(yr(n)||n))}finally{if(n){const t=yr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function yr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var _r=(()=>((_r=_r||{})[_r.NONE=0]="NONE",_r[_r.HTML=1]="HTML",_r[_r.STYLE=2]="STYLE",_r[_r.SCRIPT=3]="SCRIPT",_r[_r.URL=4]="URL",_r[_r.RESOURCE_URL=5]="RESOURCE_URL",_r))();function vr(t){const e=wr();return e?Rn(e.sanitize(_r.HTML,t)||""):zn(t,"HTML")?Rn(qn(t)):mr(It(),y(t))}function br(t){const e=wr();return e?e.sanitize(_r.URL,t)||"":zn(t,"URL")?qn(t):tr(y(t))}function wr(){const t=qt();return t&&t[12]}const Cr="__ngContext__";function Er(t,e){t[Cr]=e}function Tr(t){const e=function(t){return t[Cr]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Sr(t){return t.ngOriginalError}function Ir(t,...e){t.error(...e)}class Ar{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=(i=t)&&i.ngErrorLogger||Ir;var i;r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?t.ngDebugContext||this._findContext(Sr(t)):null}_findOriginalError(t){let e=t&&Sr(t);for(;e&&Sr(e);)e=Sr(e);return e||null}}const Or=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Dr(t){return t.ownerDocument.defaultView}function Pr(t){return t instanceof Function?t():t}var kr=(()=>((kr=kr||{})[kr.Important=1]="Important",kr[kr.DashCase=2]="DashCase",kr))();function xr(t,e){return undefined(t,e)}function Mr(t){const e=t[3];return lt(e)?e[3]:e}function Fr(t){return Nr(t[13])}function Rr(t){return Nr(t[4])}function Nr(t){for(;null!==t&&!lt(t);)t=t[4];return t}function Lr(t,e,n,r,i){if(null!=r){let s,o=!1;lt(r)?s=r:ct(r)&&(o=!0,r=r[0]);const a=Dt(r);0===t&&null!==n?null==i?$r(e,n,a):Zr(e,n,a,i||null,!0):1===t&&null!==n?Zr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Gr(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Dt(n)&&Lr(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];ei(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Ur(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Vr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Vt(i,-1)),n.splice(r,1)}function jr(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Vr(i,r),e>0&&(t[n-1][4]=r[4]);const s=cn(t,10+e);!function(t,e){ei(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Br(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&ei(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return qr(t[1],t);for(;e;){let n=null;if(ct(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ct(e)&&qr(e[1],e),e=e[3];null===e&&(e=t),ct(e)&&qr(e[1],e),n=e&&e[4]}e=n}}(e)}}function qr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ee)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Dt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)r[t]();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&lt(e[3])){n!==e[3]&&Vr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function zr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===N.None||e===N.Emulated)return null}return kt(r,n)}(t,e.parent,n)}function Zr(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function $r(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function Hr(t,e,n,r,i){null!==r?Zr(t,e,n,r,i):$r(t,e,n)}function Gr(t,e){return At(t)?t.parentNode(e):e.parentNode}function Kr(t,e,n){return Wr(t,e,n)}let Wr=function(t,e,n){return 40&t.type?kt(t,n):null};function Qr(t,e,n,r){const i=zr(t,r,e),s=e[11],o=Kr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Hr(s,i,n[a],o,!1);else Hr(s,i,n,o,!1)}function Yr(t,e){if(null!==e){const n=e.type;if(3&n)return kt(e,t);if(4&n)return Xr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Yr(t,n);{const n=t[e.index];return lt(n)?Xr(-1,n):Dt(n)}}if(32&n)return xr(e,t)()||Dt(t[e.index]);{const n=Jr(t,e);return null!==n?Array.isArray(n)?n[0]:Yr(Mr(t[16]),n):Yr(t,e.next)}}return null}function Jr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Xr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Yr(t,r)}return e[7]}function ti(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Er(Dt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)ti(t,e,n.child,r,i,s,!1),Lr(e,t,i,a,s);else if(32&u){const o=xr(n,r);let u;for(;u=o();)Lr(e,t,i,u,s);Lr(e,t,i,a,s)}else 16&u?ni(t,e,r,n,i,s):Lr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ei(t,e,n,r,i,s){ti(n,r,t.firstChild,e,i,s,!1)}function ni(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Lr(e,t,i,a[u],s);else ti(t,e,a,o[3],i,s,!0)}function ri(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ii(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function si(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const oi="ng-template";function ai(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==si(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ui(t){return 4===t.type&&t.value!==oi}function ci(t,e,n){return e===(4!==t.type||n?t.value:oi)}function li(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ci(t,u,n)||""===u&&1===e.length){if(hi(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ai(t.attrs,c,n)){if(hi(r))return!1;o=!0}continue}const l=di(8&r?"class":u,i,ui(t),n);if(-1===l){if(hi(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==si(e,c,0)||2&r&&c!==t){if(hi(r))return!1;o=!0}}}}else{if(!o&&!hi(r)&&!hi(u))return!1;if(o&&hi(u))continue;o=!1,r=u|1&r}}return hi(r)||o}function hi(t){return 0==(1&t)}function di(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function fi(t,e,n=!1){for(let r=0;r<e.length;r++)if(li(t,e[r],n))return!0;return!1}function pi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function gi(t,e){return t?":not("+e.trim()+")":e}function mi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!hi(o)&&(e+=gi(s,i),i=""),r=o,s=s||!hi(r);n++}return""!==i&&(e+=gi(s,i)),e}const yi={};function _i(t){vi(zt(),qt(),pe()+t,Qt())}function vi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&_e(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ve(e,r,0,n)}ge(n)}function bi(t,e){return t<<17|e<<2}function wi(t){return t>>17&32767}function Ci(t){return 2|t}function Ei(t){return(131068&t)>>2}function Ti(t,e){return-131069&t|e<<2}function Si(t){return 1|t}function Ii(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];se(i),n.contentQueries(2,e[s],s)}}}function Ai(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Oi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Ht(),o=Kt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),jt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=jt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Gt(s,!0),s}function Di(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Pi(t,e,n){ue(e);try{const r=t.viewQuery;null!==r&&as(1,r,n);const i=t.template;null!==i&&Mi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ii(t,e),t.staticViewQueries&&as(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ns(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,fe()}}function ki(t,e,n,r){const i=e[2];if(256==(256&i))return;ue(e);const s=Qt();try{Ut(e),function(t){jt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Mi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&_e(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ve(e,n,0,null),be(e,0)}if(function(t){for(let e=Fr(t);null!==e;e=Rr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Vt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Fr(t);null!==e;e=Rr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Nt(n)&&ki(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ii(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&_e(e,n)}else{const n=t.contentHooks;null!==n&&ve(e,n,1),be(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ge(~r);else{const i=r,s=n[++t],o=n[++t];ee(s,i),o(2,e[i])}}}finally{ge(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ts(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&as(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&_e(e,n)}else{const n=t.viewHooks;null!==n&&ve(e,n,2),be(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Vt(e[3],-1))}finally{fe()}}function xi(t,e,n,r){const i=e[10],s=!Qt(),o=Rt(e);try{s&&!o&&i.begin&&i.begin(),o&&Pi(t,e,r),ki(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Mi(t,e,n,r,i){const s=pe(),o=2&r;try{ge(-1),o&&e.length>20&&vi(t,e,20,Qt()),n(r,i)}finally{ge(s)}}function Fi(t,e,n){if(ht(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ri(t,e,n){!Bt()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Re(n,e),Er(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=pt(r);s&&Wi(e,n,r);const u=Ge(e,t,a,n);Er(u,e),null!==o&&Yi(0,a-i,u,r,0,o),s&&(Ft(n.index,e)[8]=u)}}(t,e,n,kt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=jt.lFrame.currentDirectiveIndex;try{ge(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ne(n),(null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs)&&Zi(r,i)}}finally{ge(-1),ne(o)}}(t,e,n))}function Ni(t,e,n=kt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Li(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ui(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ui(t,e,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:yi);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Vi(t,e,n,r){const i=cs(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ls(t).push(r,i.length-1))}function ji(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Bi(t,e,n,r,i,s,o,a){const u=kt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(ds(t,n,c,r,i),dt(e)&&function(t,e){const n=Ft(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,At(s)?s.setProperty(u,r,i):Ie(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function qi(t,e,n,r){let i=!1;if(Bt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];fi(n,o.selectors,!1)&&(i||(i=[]),Ve(Re(n,e),t,o.type),pt(o)?($i(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Gi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Di(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ae(n.mergedAttrs,c.hostAttrs),Ki(t,n,e,u,c),Hi(u,c,o),null!==c.contentQueries&&(n.flags|=8),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),!a&&(l.ngOnChanges||l.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ui(e)?null:Ji(n,i);s.push(c),o=ji(n,u,o),a=ji(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),i}function zi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Zi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function $i(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Hi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pt(e)&&(n[""]=t)}}function Gi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ki(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=mt(i.type)),o=new Ee(s,pt(i),null);t.blueprint[r]=o,n[r]=o,zi(t,e,0,r,Di(t,n,i.hostVars,yi),i)}function Wi(t,e,n){const r=kt(e,t),i=Li(n),s=t[10],o=rs(t,Ai(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Qi(t,e,n,r,i,s){const o=kt(t,e);!function(t,e,n,r,i,s,o){if(null==s)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);At(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}function Yi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Ji(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Xi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ts(t,e){const n=Ft(e,t);if(Nt(n)){const t=n[1];80&n[2]?ki(t,n,t.template,n[8]):n[5]>0&&es(n)}}function es(t){for(let n=Fr(t);null!==n;n=Rr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ki(t,e,t.template,e[8])}else e[5]>0&&es(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Ft(e[n],t);Nt(r)&&r[5]>0&&es(r)}}function ns(t,e){const n=Ft(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Pi(r,n,n[8])}function rs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function is(t){for(;t;){t[2]|=64;const e=Mr(t);if(gt(t)&&!e)return t;t=e}return null}function ss(t,e,n){const r=e[10];r.begin&&r.begin();try{ki(t,e,t.template,n)}catch(i){throw hs(e,i),i}finally{r.end&&r.end()}}function os(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Tr(n),i=r[1];xi(i,r,i.template,n)}}(t[8])}function as(t,e,n){se(0),e(t,n)}const us=(()=>Promise.resolve(null))();function cs(t){return t[7]||(t[7]=[])}function ls(t){return t.cleanup||(t.cleanup=[])}function hs(t,e){const n=t[9],r=n?n.get(Ar,null):null;r&&r.handleError(e)}function ds(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function fs(t,e,n){const r=Pt(e,t);!function(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function ps(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const gs=new nn("INJECTOR",-1);class ms{get(t,e=pn){if(e===pn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const ys=new nn("Set Injector scope."),_s={},vs={};let bs;function ws(){return void 0===bs&&(bs=new ms),bs}function Cs(t,e=null,n=null,r){return new Es(t,n,e||ws(),r)}class Es{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&an(e,n=>this.processProvider(n,t,e)),an([t],t=>this.processInjectorType(t,[],i)),this.records.set(gs,Is(void 0,this));const s=this.records.get(ys);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=pn,n=P.Default){this.assertNotDestroyed();const r=wn(this),i=x(void 0);try{if(!(n&P.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(s=t)||"object"==typeof s&&s instanceof nn)&&E(t);e=n&&this.injectableDefInScope(n)?Is(Ts(t),_s):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&P.Self?ws():this.parent).get(t,e=n&P.Optional&&e===pn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[mn]=o[mn]||[]).unshift(l(t)),r)throw o;return An(o,t,"R3InjectorError",this.source)}throw o}finally{x(i),wn(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=S(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=S(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{an(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];an(r,t=>this.processProvider(t,n,r||z))}}this.injectorDefTypes.add(s);const a=mt(s)||(()=>new s);this.records.set(s,Is(a,_s));const u=r.providers;if(null!=u&&!o){const e=t;an(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Os(t=p(t))?t:p(t&&t.provide);const i=As(s=t)?Is(void 0,s.useValue):Is(Ss(s),_s);var s;if(Os(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Is(void 0,_s,!0),e.factory=()=>Tn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){return e.value===_s&&(e.value=vs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value;var n}injectableDefInScope(t){if(!t.providedIn)return!1;const e=p(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Ts(t){const e=E(t),n=null!==e?e.factory:mt(t);if(null!==n)return n;if(t instanceof nn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ln(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[O]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ss(t,e,n){let r;if(Os(t)){const e=p(t);return mt(e)||Ts(e)}if(As(t))r=()=>p(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Tn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>En(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return mt(e)||Ts(e);r=()=>new e(...Tn(t.deps))}return r}function Is(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function As(t){return null!==t&&"object"==typeof t&&vn in t}function Os(t){return"function"==typeof t}const Ds=function(t,e,n){return function(t,e=null,n=null,r){const i=Cs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ps=(()=>{class t{static create(t,e){return Array.isArray(t)?Ds(t,e,""):Ds(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=pn,t.NULL=new ms,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>En(gs)}),t.__NG_ELEMENT_ID__=-1,t})();function ks(t,e){ye(Tr(t)[1],$t())}function xs(t){let e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(pt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ms(t.inputs),e.declaredInputs=Ms(t.declaredInputs),e.outputs=Ms(t.outputs);const n=i.hostBindings;n&&Ns(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Fs(t,s),o&&Rs(t,o),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),pt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===xs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ae(i.hostAttrs,n=Ae(n,i.hostAttrs))}}(r)}function Ms(t){return t===q?{}:t===z?[]:t}function Fs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Rs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ns(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ls=null;function Us(){if(!Ls){const t=B.Symbol;if(t&&t.iterator)Ls=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ls=n)}}}return Ls}class Vs{constructor(t){this.wrapped=t}static wrap(t){return new Vs(t)}static unwrap(t){return Vs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Vs}}function js(t){return!!Bs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Us()in t)}function Bs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function qs(t,e,n){return t[e]=n}function zs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Zs(t,e,n,r){const i=zs(t,e,n);return zs(t,e+1,r)||i}function $s(t,e,n,r){const i=qt();return zs(i,Xt(),e)&&(zt(),Qi(me(),i,t,e,n,r)),$s}function Hs(t,e,n,r){return zs(t,Xt(),n)?e+y(n)+r:yi}function Gs(t,e,n,r,i,s,o,a){const u=qt(),c=zt(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Oi(e,t,4,o||null,Lt(c,a));qi(e,n,l,Lt(c,u)),ye(e,l);const h=l.tViews=Ui(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Gt(h,!1);const d=u[11].createComment("");Qr(c,u,d,h),Er(d,u),rs(u,u[l]=Xi(d,u,d,h)),ft(h)&&Ri(c,u,h),null!=o&&Ni(u,h,a)}function Ks(t){return Mt(jt.lFrame.contextLView,20+t)}function Ws(t,e=P.Default){const n=qt();return null===n?En(t,e):qe($t(),n,p(t),e)}function Qs(t,e,n){const r=qt();return zs(r,Xt(),e)&&Bi(zt(),me(),r,t,e,r[11],n,!1),Qs}function Ys(t,e,n,r,i){const s=i?"class":"style";ds(t,n,e.inputs[s],s,r)}function Js(t,e,n,r){const i=qt(),s=zt(),o=20+t,a=i[11],u=i[o]=Ur(a,e,jt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Oi(e,t,2,i,Lt(a,s));return qi(e,n,u,Lt(a,o)),null!==u.attrs&&ps(u,u.attrs,!1),null!==u.mergedAttrs&&ps(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Gt(c,!0);const l=c.mergedAttrs;null!==l&&Te(a,u,l);const h=c.classes;null!==h&&ii(a,u,h);const d=c.styles;null!==d&&ri(a,u,d),64!=(64&c.flags)&&Qr(s,i,u,c),0===jt.lFrame.elementDepthCount&&Er(u,i),jt.lFrame.elementDepthCount++,ft(c)&&(Ri(s,i,c),Fi(s,c,i)),null!==r&&Ni(i,c)}function Xs(){let t=$t();Kt()?Wt():(t=t.parent,Gt(t,!1));const e=t;jt.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(ye(n,t),ht(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ys(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ys(n,e,qt(),e.stylesWithoutHost,!1)}function to(t,e,n,r){Js(t,e,n,r),Xs()}function eo(t,e,n){const r=qt(),i=zt(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Lt(s,r),a=Oi(e,t,8,"ng-container",o);return null!==o&&ps(a,o,!0),qi(e,n,a,Lt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Gt(o,!0);const a=r[s]=r[11].createComment("");Qr(i,r,a,o),Er(a,r),ft(o)&&(Ri(i,r,o),Fi(i,o,r)),null!=n&&Ni(r,o)}function no(){let t=$t();const e=zt();Kt()?Wt():(t=t.parent,Gt(t,!1)),e.firstCreatePass&&(ye(e,t),ht(t)&&e.queries.elementEnd(t))}function ro(){return qt()}function io(t){return!!t&&"function"==typeof t.then}function so(t){return!!t&&"function"==typeof t.subscribe}const oo=so;function ao(t,e,n,r){const i=qt(),s=zt(),o=$t();return function(t,e,n,r,i,s,o,a){const u=ft(r),c=t.firstCreatePass&&ls(t),l=e[8],h=cs(e);let d=!0;if(3&r.type||a){const f=kt(r,e),p=a?a(f):f,g=h.length,m=a?t=>a(Dt(t[r.index])):r.index;if(At(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,d=!1;else{s=co(r,e,l,s,!1);const t=n.listen(p,i,s);h.push(s,t),c&&c.push(i,m,g,g+1)}}else s=co(r,e,l,s,!0),p.addEventListener(i,s,o),h.push(s),c&&c.push(i,m,g,o)}else s=co(r,e,l,s,!1);const f=r.outputs;let p;if(d&&null!==f&&(p=f[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=h.length;h.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,!!n,r),ao}function uo(t,e,n,r){try{return!1!==n(r)}catch(i){return hs(t,i),!1}}function co(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Ft(t.index,e):e;0==(32&e[2])&&is(o);let a=uo(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=uo(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function lo(t=1){return function(t){return(jt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,jt.lFrame.contextLView))[8]}(t)}function ho(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?fi(t,s,!0):pi(r,s))return i}else n=i}return n}function fo(t){const e=qt()[16][6];if(!e.projection){const n=e.projection=ln(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ho(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function po(t,e=0,n){const r=qt(),i=zt(),s=Oi(i,20+t,16,null,n||null);null===s.projection&&(s.projection=e),Wt(),64!=(64&s.flags)&&function(t,e,n){ni(e[11],0,e,n,zr(t,n,e),Kr(n.parent||e[6],n,e))}(i,r,s)}function go(t,e,n,r,i){const s=qt(),o=Hs(s,e,n,r);return o!==yi&&Bi(zt(),me(),s,t,o,s[11],i,!1),go}function mo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?wi(s):Ei(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];yo(t[a],e)&&(u=!0,t[a+1]=r?Si(n):Ci(n)),a=r?wi(n):Ei(n)}u&&(t[n+1]=r?Ci(s):Si(s))}function yo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&fn(t,e)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function vo(t){return t.substring(_o.key,_o.keyEnd)}function bo(t,e){const n=_o.textEnd;return n===e?-1:(e=_o.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,_o.key=e,n),wo(t,e,n))}function wo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Co(t,e,n){return Io(t,e,n,!1),Co}function Eo(t,e){return Io(t,e,null,!0),Eo}function To(t){Ao(hn,So,t,!0)}function So(t,e){for(let n=function(t){return function(t){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=t.length}(t),bo(t,wo(t,0,_o.textEnd))}(e);n>=0;n=bo(e,n))hn(t,vo(e),!0)}function Io(t,e,n,r){const i=qt(),s=zt(),o=te(2);s.firstUpdatePass&&Do(s,t,o,r),e!==yi&&zs(i,o,e)&&xo(s,s.data[pe()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(qn(t)))),t}(e,n),r,o)}function Ao(t,e,n,r){const i=zt(),s=te(2);i.firstUpdatePass&&Do(i,null,s,r);const o=qt();if(n!==yi&&zs(o,s,n)){const a=i.data[pe()];if(Ro(a,r)&&!Oo(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),Ys(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===yi&&(i=z);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,d!==f&&(g=h,p=f)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=f),null!==g&&xo(t,e,n,r,g,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=qn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Oo(t,e){return e>=t.expandoStartIndex}function Do(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[pe()],o=Oo(t,n);Ro(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=re(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ko(n=Po(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Po(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ei(r))return t[wi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Po(null,t,e,n[1],r),n=ko(n,e.attrs,r),function(t,e,n,r){t[wi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ko(r,t[s].hostAttrs,n);return ko(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=wi(o),u=Ei(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||fn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=wi(t[a+1]);t[r+1]=bi(e,a),0!==e&&(t[e+1]=Ti(t[e+1],r)),t[a+1]=function(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=bi(a,0),0!==a&&(t[a+1]=Ti(t[a+1],r)),a=r;else t[r+1]=bi(u,0),0===a?a=r:t[u+1]=Ti(t[u+1],r),u=r;l&&(t[r+1]=Ci(t[r+1])),mo(t,c,r,!0),mo(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&fn(s,e)>=0&&(n[r+1]=Si(n[r+1]))}(e,c,t,r,s),o=bi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Po(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=ko(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ko(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),hn(t,o,!!n||e[++s]))}return void 0===t?null:t}function xo(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Fo(function(t){return 1==(1&t)}(c)?Mo(u,e,n,i,Ei(c),o):void 0)||(Fo(s)||function(t){return 2==(2&t)}(c)&&(s=Mo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=At(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:kr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=kr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Pt(pe(),n),i,s))}function Mo(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===yi&&(l=c?z:void 0);let h=c?dn(l,r):u===r?l:void 0;if(s&&!Fo(h)&&(h=dn(e,r)),Fo(h)&&(a=h,o))return a;const d=t[i+1];i=o?wi(d):Ei(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=dn(t,r))}return a}function Fo(t){return void 0!==t}function Ro(t,e){return 0!=(t.flags&(e?16:32))}function No(t,e=""){const n=qt(),r=zt(),i=t+20,s=r.firstCreatePass?Oi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return At(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Qr(r,n,o,s),Gt(s,!1)}function Lo(t){return Uo("",t,""),Lo}function Uo(t,e,n){const r=qt(),i=Hs(r,t,e,n);return i!==yi&&fs(r,pe(),i),Uo}function Vo(t,e,n){Ao(hn,So,Hs(qt(),t,e,n),!0)}function jo(t,e,n){const r=qt();return zs(r,Xt(),e)&&Bi(zt(),me(),r,t,e,r[11],n,!0),jo}function Bo(t,e,n){const r=qt();if(zs(r,Xt(),e)){const i=zt(),s=me();Bi(i,s,r,t,e,function(t,e,n){return(null===t||pt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(re(i.data),s,r),n,!0)}return Bo}const qo=void 0;var zo=["en",[["a","p"],["AM","PM"],qo],[["AM","PM"],qo,qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qo,"{1} 'at' {0}",qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Zo={};function $o(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Go(e);if(n)return n;const r=e.split("-")[0];if(n=Go(r),n)return n;if("en"===r)return zo;throw new Error(`Missing locale data for the locale "${t}".`)}function Ho(t){return $o(t)[Ko.PluralCase]}function Go(t){return t in Zo||(Zo[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),Zo[t]}var Ko=(()=>((Ko=Ko||{})[Ko.LocaleId=0]="LocaleId",Ko[Ko.DayPeriodsFormat=1]="DayPeriodsFormat",Ko[Ko.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ko[Ko.DaysFormat=3]="DaysFormat",Ko[Ko.DaysStandalone=4]="DaysStandalone",Ko[Ko.MonthsFormat=5]="MonthsFormat",Ko[Ko.MonthsStandalone=6]="MonthsStandalone",Ko[Ko.Eras=7]="Eras",Ko[Ko.FirstDayOfWeek=8]="FirstDayOfWeek",Ko[Ko.WeekendRange=9]="WeekendRange",Ko[Ko.DateFormat=10]="DateFormat",Ko[Ko.TimeFormat=11]="TimeFormat",Ko[Ko.DateTimeFormat=12]="DateTimeFormat",Ko[Ko.NumberSymbols=13]="NumberSymbols",Ko[Ko.NumberFormats=14]="NumberFormats",Ko[Ko.CurrencyCode=15]="CurrencyCode",Ko[Ko.CurrencySymbol=16]="CurrencySymbol",Ko[Ko.CurrencyName=17]="CurrencyName",Ko[Ko.Currencies=18]="Currencies",Ko[Ko.Directionality=19]="Directionality",Ko[Ko.PluralCase=20]="PluralCase",Ko[Ko.ExtraData=21]="ExtraData",Ko))();const Wo="en-US";let Qo=Wo;function Yo(t){b(t,"Expected localeId to be defined"),"string"==typeof t&&(Qo=t.toLowerCase().replace(/_/g,"-"))}function Jo(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)Jo(t[s],e,n,r,i);else{const s=zt(),o=qt();let a=Os(t)?t:p(t.provide),u=Ss(t);const c=$t(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Os(t)||!t.multi){const r=new Ee(u,i,Ws),f=ea(a,e,i?l:l+d,h);-1===f?(Ve(Re(c,o),s,a),Xo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=ea(a,e,l+d,h),p=ea(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ve(Re(c,o),s,a);const l=function(t,e,n,r,i){const s=new Ee(t,n,Ws);return s.multi=[],s.index=e,s.componentProviders=0,ta(s,i,r&&!n),s}(i?ra:na,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Xo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Xo(s,t,f>-1?f:p,ta(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Xo(t,e,n,r){const i=Os(e);if(i||function(t){return!!t.useClass}(e)){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function ta(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ea(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function na(t,e,n,r){return ia(this.multi,[])}function ra(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ge(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),ia(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],ia(i,s);return s}function ia(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function sa(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=zt();if(r.firstCreatePass){const i=pt(t);Jo(n,r.data,r.blueprint,i,!0),Jo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class oa{}const aa="ngComponent";class ua{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e[aa]=t,e}(t)}}let ca=(()=>{class t{}return t.NULL=new ua,t})();function la(...t){}function ha(t,e){return new fa(kt(t,e))}const da=function(){return ha($t(),qt())};let fa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=da,t})();function pa(t){return t instanceof fa?t.nativeElement:t}class ga{}let ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ya(),t})();const ya=function(){const t=qt(),e=Ft($t().index,t);return function(t){return t[11]}(ct(e)?e:t)};let _a=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class va{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ba=new va("12.2.8");class wa{constructor(){}supports(t){return js(t)}create(t){return new Ea(t)}}const Ca=(t,e)=>e;class Ea{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ca}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Aa(n,r,i)?e:n,o=Aa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!js(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Us()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ta(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ia),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ia),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ta{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ia{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Sa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Aa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Oa{constructor(){}supports(t){return t instanceof Map||Bs(t)}create(){return new Da}}class Da{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Bs(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Pa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Pa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ka(){return new xa([new wa])}let xa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ka()),deps:[[t,new kn,new Dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(t){return t.name||typeof t}(t)}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:ka}),t})();function Ma(){return new Fa([new Oa])}let Fa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ma()),deps:[[t,new kn,new Dn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Ma}),t})();function Ra(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Dt(s)),lt(s))for(let t=10;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Ra(e[1],e,n,r)}const o=n.type;if(8&o)Ra(t,e,n.child,r);else if(32&o){const t=xr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Jr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Mr(e[16]);Ra(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Na{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ra(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(lt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(jr(t,n),cn(e,n))}this._attachedToViewContainer=!1}Br(this._lView[1],this._lView)}onDestroy(t){Vi(this._lView[1],this._lView,null,t)}markForCheck(){is(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ss(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Yt(!0);try{ss(t,e,n)}finally{Yt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ei(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class La extends Na{constructor(t){super(t),this._view=t}detectChanges(){os(this._view)}checkNoChanges(){!function(t){Yt(!0);try{os(t)}finally{Yt(!1)}}(this._view)}get context(){return null}}const Ua=function(t){return function(t,e,n){if(dt(t)&&!n){const n=Ft(t.index,e);return new Na(n,n)}return 47&t.type?new Na(e[16],e):null}($t(),qt(),16==(16&t))};let Va=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ua,t})();const ja=[new Oa],Ba=new xa([new wa]),qa=new Fa(ja),za=function(){return Ga($t(),qt())};let Za=(()=>{class t{}return t.__NG_ELEMENT_ID__=za,t})();const $a=Za,Ha=class extends $a{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ai(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Pi(e,n,t),new Na(n)}};function Ga(t,e){return 4&t.type?new Ha(e,t,ha(t,e)):null}class Ka{}class Wa{}const Qa=function(){return nu($t(),qt())};let Ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=Qa,t})();const Ja=Ya,Xa=class extends Ja{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return ha(this._hostTNode,this._hostLView)}get injector(){return new Qe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ue(this._hostTNode,this._hostLView);if(De(t)){const e=ke(t,this._hostLView),n=Pe(t);return new Qe(e[1].data[n+8],e)}return new Qe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=tu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Ka,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(lt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Xa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],un(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Xr(i,s),a=n[11],u=Gr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,ei(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),un(eu(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=tu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=jr(this._lContainer,e);n&&(cn(eu(this._lContainer),e),Br(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=jr(this._lContainer,e);return n&&null!=cn(eu(this._lContainer),e)?new Na(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function tu(t){return t[8]}function eu(t){return t[8]||(t[8]=[])}function nu(t,e){let n;const r=e[t.index];if(lt(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const n=e[11];i=n.createComment("");const r=kt(t,e);Zr(n,Gr(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Xi(r,e,i,t),rs(e,n)}return new Xa(n,t,e)}const ru={};class iu extends ca{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new au(e,this.ngModule)}}function su(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ou=new nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Or});class au extends oa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(mi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return su(this.componentDef.inputs)}get outputs(){return su(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,ru,i);return s!==ru||r===ru?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ga,Ot),o=i.get(_a,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===N.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ur(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||Or,clean:us,playerHandler:e||null,flags:0}}(),d=Ui(0,null,null,1,0,null,null,null,null,null),f=Ai(null,d,h,l,null,null,s,a,o,i);let p,g;ue(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Oi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ps(a,u,!0),null!==t&&(Te(i,t,u),null!==a.classes&&ii(i,t,a.classes),null!==a.styles&&ri(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ai(n,Li(e),null,e.onPush?64:16,n[20],a,r,c,s||null,null);return o.firstCreatePass&&(Ve(Re(a,n),o,e.type),$i(o,a),Gi(a,n.length,1)),rs(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Te(a,c,["ng-version",ba.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!hi(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(a,c,t),e&&e.length>0&&ii(a,c,e.join(" "))}if(g=xt(d,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=$t();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ki(t,r,e,Di(t,e,1,null),n));const i=Ge(e,t,r.directiveStart,r);Er(i,e);const s=kt(r,e);return s&&Er(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=$t();e.contentQueries(1,o,t.directiveStart)}const a=$t();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ge(a.index),zi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Zi(e,o)),o}(t,this.componentDef,f,h,[ks]),Pi(d,f,null)}finally{fe()}return new uu(this.componentType,p,ha(g,f),f,g)}}class uu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new La(r),this.componentType=t}get injector(){return new Qe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const cu=new Map;class lu extends Ka{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new iu(this);const n=ut(t),r=t[K]||null;r&&Yo(r),this._bootstrapComponents=Pr(n.bootstrap),this._r3Injector=Cs(t,e,[{provide:Ka,useValue:this},{provide:ca,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ps.THROW_IF_NOT_FOUND,n=P.Default){return t===Ps||t===Ka||t===gs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class hu extends Wa{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,cu.get(i),n),cu.set(i,n));const s=Pr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new lu(this.moduleType,t)}}function du(t,e,n){const r=Jt()+t,i=qt();return i[r]===yi?qs(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function fu(t,e,n,r){return mu(qt(),Jt(),t,e,n,r)}function pu(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return Zs(t,a,i,s)?qs(t,a+2,o?r.call(o,i,s):r(i,s)):gu(t,a+2)}(qt(),Jt(),t,e,n,r,i)}function gu(t,e){const n=t[e];return n===yi?void 0:n}function mu(t,e,n,r,i,s){const o=e+n;return zs(t,o,i)?qs(t,o+1,s?r.call(s,i):r(i)):gu(t,o+1)}function yu(t,e,n,r,i,s,o,a,u){const c=e+n;return function(t,e,n,r,i,s){const o=Zs(t,e,n,r);return Zs(t,e+2,i,s)||o}(t,c,i,s,o,a)?qs(t,c+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):gu(t,c+4)}function _u(t,e){const n=zt();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=mt(r.type)),o=x(Ws);try{const t=Me(!1),e=s();return Me(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,qt(),i,e),e}finally{x(o)}}function vu(t,e,n){const r=t+20,i=qt(),s=Mt(i,r);return Cu(i,wu(i,r)?mu(i,Jt(),e,s.transform,n,s):s.transform(n))}function bu(t,e,n,r,i,s){const o=t+20,a=qt(),u=Mt(a,o);return Cu(a,wu(a,o)?yu(a,Jt(),e,u.transform,n,r,i,s,u):u.transform(n,r,i,s))}function wu(t,e){return t[1].data[e].pure}function Cu(t,e){return Vs.isWrapped(e)&&(e=Vs.unwrap(e),t[jt.lFrame.bindingIndex]=yi),e}function Eu(t){return e=>{setTimeout(t,void 0,e)}}const Tu=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=Eu(u),a&&(a=Eu(a)),c&&(c=Eu(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function Su(){return this._results[Us()]()}class Iu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Us(),n=Iu.prototype;n[e]||(n[e]=Su)}get changes(){return this._changes||(this._changes=new Tu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=on(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Au{constructor(t){this.queryList=t,this.matches=null}clone(){return new Au(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ou{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ou(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==qu(t,e).matches&&this.queries[e].setDirty()}}class Du{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Pu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Pu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ku{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ku(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,xu(e,i)),this.matchTNodeWithReadOption(t,e,He(e,t,i,!1,!1))}else n===Za?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,He(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===fa||r===Ya||r===Za&&4&e.type)this.addMatch(e.index,-2);else{const n=He(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function xu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Mu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?ha(t,e):4&t.type?Ga(t,e):null}(e,t):-2===n?function(t,e,n){return n===fa?ha(e,t):n===Za?Ga(e,t):n===Ya?nu(e,t):void 0}(t,e,r):Ge(t,t[1],n,e)}function Fu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Mu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Ru(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Fu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=10;t<o.length;t++){const e=o[t];e[17]===e[3]&&Ru(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Ru(n[1],n,i,r)}}}}}return r}function Nu(t){const e=qt(),n=zt(),r=ie();se(r+1);const i=qu(n,r);if(t.dirty&&Rt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Ru(n,e,r,[]):Fu(n,e,i,r);t.reset(s,pa),t.notifyOnChanges()}return!0}return!1}function Lu(t,e,n){const r=zt();r.firstCreatePass&&(Bu(r,new Du(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),ju(r,qt(),e)}function Uu(t,e,n,r){const i=zt();if(i.firstCreatePass){const s=$t();Bu(i,new Du(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}ju(i,qt(),n)}function Vu(){return t=qt(),e=ie(),t[19].queries[e].queryList;var t,e}function ju(t,e,n){const r=new Iu(4==(4&n));Vi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ou),e[19].queries.push(new Au(r))}function Bu(t,e,n){null===t.queries&&(t.queries=new Pu),t.queries.track(new ku(e,n))}function qu(t,e){return t.queries.getByIndex(e)}function zu(t,e){return Ga(t,e)}const Zu=new nn("Application Initializer");let $u=(()=>{class t{constructor(t){this.appInits=t,this.resolve=la,this.reject=la,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(io(e))t.push(e);else if(oo(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(En(Zu,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Hu=new nn("AppId"),Gu={provide:Hu,useFactory:function(){return`${Ku()}${Ku()}${Ku()}`},deps:[]};function Ku(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wu=new nn("Platform Initializer"),Qu=new nn("Platform ID"),Yu=new nn("appBootstrapListener");let Ju=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Xu=new nn("LocaleId"),tc=new nn("DefaultCurrencyCode");class ec{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const nc=function(t){return new hu(t)},rc=nc,ic=function(t){return Promise.resolve(nc(t))},sc=function(t){const e=nc(t),n=Pr(ut(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new au(n)),t},[]);return new ec(e,n)},oc=sc,ac=function(t){return Promise.resolve(sc(t))};let uc=(()=>{class t{constructor(){this.compileModuleSync=rc,this.compileModuleAsync=ic,this.compileModuleAndAllComponentsSync=oc,this.compileModuleAndAllComponentsAsync=ac}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const cc=(()=>Promise.resolve(0))();function lc(t){"undefined"==typeof Zone?cc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class hc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tu(!1),this.onMicrotaskEmpty=new Tu(!1),this.onStable=new Tu(!1),this.onError=new Tu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pc(t),t.isCheckStableRunning=!0,fc(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return gc(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),mc(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return gc(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),mc(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,pc(t),fc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!hc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(hc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,dc,la,la);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const dc={};function fc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function gc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mc(t){t._nesting--,fc(t)}class yc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tu,this.onMicrotaskEmpty=new Tu,this.onStable=new Tu,this.onError=new Tu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let _c=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{hc.assertNotInAngularZone(),lc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(En(hc))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),vc=(()=>{class t{constructor(){this._applications=new Map,Cc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Cc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class bc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function wc(t){Cc=t}let Cc=new bc,Ec=!0,Tc=!1;function Sc(){return Tc=!0,Ec}function Ic(){if(Tc)throw new Error("Cannot enable prod mode after platform setup.");Ec=!1}let Ac;const Oc=new nn("AllowMultipleToken");class Dc{constructor(t,e){this.name=t,this.token=e}}function Pc(t,e,n=[]){const r=`Platform: ${e}`,i=new nn(r);return(e=[])=>{let s=kc();if(!s||s.injector.get(Oc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ys,useValue:"platform"});!function(t){if(Ac&&!Ac.destroyed&&!Ac.injector.get(Oc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ac=t.get(xc);const e=t.get(Wu,null);e&&e.forEach(t=>t())}(Ps.create({providers:t,name:r}))}return function(t){const e=kc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function kc(){return Ac&&!Ac.destroyed?Ac:null}let xc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new yc:("zone.js"===t?void 0:t)||new hc({enableLongStackTrace:Sc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:hc,useValue:n}];return n.run(()=>{const i=Ps.create({providers:r,parent:this.injector,name:t.moduleType.name}),s=t.create(i),o=s.injector.get(Ar,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});s.onDestroy(()=>{Rc(this._modules,s),t.unsubscribe()})}),function(t,n,r){try{const e=r();return io(e)?e.catch(e=>{throw n.runOutsideAngular(()=>t.handleError(e)),e}):e}catch(e){throw n.runOutsideAngular(()=>t.handleError(e)),e}}(o,n,()=>{const t=s.injector.get($u);return t.runInitializers(),t.donePromise.then(()=>(Yo(s.injector.get(Xu,Wo)||Wo),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,e=[]){const n=Mc({},e);return function(t,e,n){const r=new hu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Fc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(En(Ps))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Mc(t,e){return Array.isArray(e)?e.reduce(Mc,t):Object.assign(Object.assign({},t),e)}let Fc=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new s.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),c=new s.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{hc.assertNotInAngularZone(),lc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{hc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(u,c.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof oa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=function(t){return t.isBoundToModule}(n)?void 0:this._injector.get(Ka),i=n.create(Ps.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(_c,null),a=o&&i.injector.get(vc);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Rc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Rc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Yu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(En(hc),En(Ps),En(Ar),En(ca),En($u))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Rc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Nc{}class Lc{}const Uc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Vc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Uc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>jc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>jc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(En(uc),En(Lc,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function jc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Bc=function(t){return null},qc=Pc(null,"core",[{provide:Qu,useValue:"unknown"},{provide:xc,deps:[Ps]},{provide:vc,deps:[]},{provide:Ju,deps:[]}]),zc=[{provide:Fc,useClass:Fc,deps:[hc,Ps,Ar,ca,$u]},{provide:ou,deps:[hc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:$u,useClass:$u,deps:[[new Dn,Zu]]},{provide:uc,useClass:uc,deps:[]},Gu,{provide:xa,useFactory:function(){return Ba},deps:[]},{provide:Fa,useFactory:function(){return qa},deps:[]},{provide:Xu,useFactory:function(t){return Yo(t=t||"undefined"!=typeof $localize&&$localize.locale||Wo),t},deps:[[new On(Xu),new Dn,new kn]]},{provide:tc,useValue:"USD"}];let Zc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(En(Fc))},t.\u0275mod=nt({type:t}),t.\u0275inj=C({providers:zc}),t})()},5869:function(t,e,n){"use strict";n.d(e,{nm:function(){return j}});var r=n(6643),i=(n(7716),n(127),n(2329),n(8239)),s=n(5452),o=n(6034),a=n(3854),u=n(5601);const c=new Map,l={activated:!1,tokenObservers:[]},h={initialized:!1,enabled:!1};function d(t){return c.get(t)||l}function f(t,e){c.set(t,e)}function p(){return h}class g{constructor(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,i.Z)(function*(){e.stop();try{e.pending=new a.BH,yield(n=e.getNextRun(t),new Promise(t=>{setTimeout(t,n)})),e.pending.resolve(),yield e.pending.promise,e.pending=new a.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}var n})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const m=new a.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function y(t){if(!d(t).activated)throw m.create("use-before-activation",{appName:t.name})}function _(t,e){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(h){throw m.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw m.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw m.create("fetch-parse-error",{originalErrorMessage:h.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw m.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function b(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const w="firebase-app-check-store";let C=null;function E(){return C||(C=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=e=>{t(e.target.result)},n.onerror=t=>{var n;e(m.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=t=>{const e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(w,{keyPath:"compositeKey"})}}}catch(n){e(m.create("storage-open",{originalErrorMessage:n.message}))}}),C)}function T(){return(T=(0,i.Z)(function*(t,e){const n=(yield E()).transaction(w,"readwrite"),r=n.objectStore(w).put({compositeKey:t,value:e});return new Promise((t,e)=>{r.onsuccess=e=>{t()},n.onerror=t=>{var n;e(m.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}const S=new u.Yd("@firebase/app-check");function I(t,e){return(0,a.hl)()?function(t,e){return function(t,e){return T.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(t=>{S.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function A(){return p().enabled}function O(){return D.apply(this,arguments)}function D(){return(D=(0,i.Z)(function*(){const t=p();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const P={error:"UNKNOWN_ERROR"};function k(t){return a.US.encodeString(JSON.stringify(t),!1)}function x(t){return M.apply(this,arguments)}function M(){return(M=(0,i.Z)(function*(t,e=!1){const n=t.app;y(n);const r=d(n);let i,s,o=r.token;if(!o){const t=yield r.cachedTokenPromise;t&&N(t)&&(o=t,f(n,Object.assign(Object.assign({},r),{token:o})),R(n,{token:o.token}))}if(!e&&o&&N(o))return{token:o.token};if(A()){const e=yield _(b(n,yield O()),t.platformLoggerProvider);return yield I(n,e),f(n,Object.assign(Object.assign({},r),{token:e})),{token:e.token}}try{o=yield r.provider.getToken()}catch(a){S.error(a),i=a}return o?(s={token:o.token},f(n,Object.assign(Object.assign({},r),{token:o})),yield I(n,o)):s=L(i),R(n,s),s})).apply(this,arguments)}function F(t,e){const n=d(t),r=n.tokenObservers.filter(t=>t.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),f(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function R(t,e){const n=d(t).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function N(t){return t.expireTimeMillis-Date.now()>0}function L(t){return{token:k(P),error:t}}class U{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=d(this.app);for(const e of t)F(this.app,e.next);return Promise.resolve()}}const V="app-check-internal";(0,s._registerComponent)(new o.wA("app-check",t=>function(t,e){return new U(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(V).initialize()})),(0,s._registerComponent)(new o.wA(V,t=>function(t){return{getToken:e=>x(t,e),addTokenListener:e=>function(t,e,n,r){const{app:s}=t,o=d(s),a={next:n,error:r,type:e},u=Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,a]});if(!u.tokenRefresher){const e=function(t){const{app:e}=t;return new g((0,i.Z)(function*(){let n;if(n=d(e).token?yield x(t,!0):yield x(t),n.error)throw n.error}),()=>!0,()=>{const t=d(e);if(t.token){let e=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return e=Math.min(e,t.token.expireTimeMillis-3e5),Math.max(0,e-Date.now())}return 0},3e4,96e4)}(t);u.tokenRefresher=e}if(!u.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),o.token&&N(o.token)){const t=o.token;Promise.resolve().then(()=>n({token:t.token})).catch(()=>{})}else null==o.token&&o.cachedTokenPromise.then(t=>{t&&N(t)&&n({token:t.token})}).catch(()=>{});f(s,u)}(t,"INTERNAL",e),removeTokenListener:e=>F(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)("@firebase/app-check","0.4.2");class j{constructor(){return(0,r.vb)("app-check")}}"undefined"!=typeof window&&window},127:function(t,e,n){"use strict";n.d(e,{Ot:function(){return o},z6:function(){return a},ZF:function(){return p},hX:function(){return f}});var r=n(2329),i=n(7716),s=n(6643);class o{constructor(t){return t}}class a{constructor(){return(0,r.C6)()}}const u=new i.OlP("angularfire2._apps"),c={provide:o,useFactory:function(t){return t&&1===t.length?t[0]:new o((0,r.Mq)())},deps:[[new i.FiY,u]]},l={provide:a,deps:[[new i.FiY,u]]};function h(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new o(r)}}let d=(()=>{class t{constructor(t){(0,r.KN)("angularfire",s.q4.full,"core"),(0,r.KN)("angularfire",s.q4.full,"app"),(0,r.KN)("angular",i.q4F.full,t.toString())}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.Lbi))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[c,l]}),t})();function f(t,...e){return{ngModule:d,providers:[{provide:u,useFactory:h(t),multi:!0,deps:[i.R0b,i.zs3,s.HU,...e]}]}}const p=(0,s.u3)(r.ZF,!0)},2673:function(t,e,n){"use strict";n.d(e,{zQ:function(){return D},rT:function(){return S},f7:function(){return A},L6:function(){return E},_Q:function(){return T},lh:function(){return I},Qv:function(){return C},nw:function(){return O}});var r=n(7716),i=n(9765),s=n(5917),o=n(8891),a=n(4402),u=n(6682),c=n(8229);function l(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(l){let h;o++,!i||a?(a=!1,i=new c.t(t,e,r),h=i.subscribe(this),s=l.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):h=i.subscribe(this),this.add(()=>{o--,h.unsubscribe(),h=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}var h=n(3190);function d(t,e){return e?(0,h.w)(()=>t,e):(0,h.w)(()=>t)}var f=n(9746),p=n(8002),g=n(8049),m=n(3101),y=n(5435),_=n(6643),v=n(8939),b=n(8583),w=n(5869);n(7841);const C=new r.OlP("angularfire2.auth.use-emulator"),E=new r.OlP("angularfire2.auth.settings"),T=new r.OlP("angularfire2.auth.tenant-id"),S=new r.OlP("angularfire2.auth.langugage-code"),I=new r.OlP("angularfire2.auth.use-device-language"),A=new r.OlP("angularfire.auth.persistence"),O=(t,e,n,r,i,s,o,a)=>(0,v.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[t,e]of Object.entries(o))u.settings[t]=e;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]);let D=(()=>{class t{constructor(t,e,r,c,w,C,E,T,S,I,A,D){const P=new i.xQ,k=(0,s.of)(void 0).pipe((0,f.QV)(w.outsideAngular),(0,h.w)(()=>c.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,4828)))),(0,p.U)(()=>(0,v.on)(t,c,e)),(0,p.U)(t=>O(t,c,C,T,S,I,E,A)),l({bufferSize:1,refCount:!1}));if((0,b.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,s.of)(null);else{k.pipe((0,g.P)()).subscribe();const t=k.pipe((0,h.w)(t=>t.getRedirectResult().then(t=>t,()=>null)),_.iC,l({bufferSize:1,refCount:!1})),e=k.pipe((0,h.w)(t=>new o.y(e=>({unsubscribe:c.runOutsideAngular(()=>t.onAuthStateChanged(t=>e.next(t),t=>e.error(t),()=>e.complete()))})))),n=k.pipe((0,h.w)(t=>new o.y(e=>({unsubscribe:c.runOutsideAngular(()=>t.onIdTokenChanged(t=>e.next(t),t=>e.error(t),()=>e.complete()))}))));this.authState=t.pipe(d(e),(0,m.R)(w.outsideAngular),(0,f.QV)(w.insideAngular)),this.user=t.pipe(d(n),(0,m.R)(w.outsideAngular),(0,f.QV)(w.insideAngular)),this.idToken=this.user.pipe((0,h.w)(t=>t?(0,a.D)(t.getIdToken()):(0,s.of)(null))),this.idTokenResult=this.user.pipe((0,h.w)(t=>t?(0,a.D)(t.getIdTokenResult()):(0,s.of)(null))),this.credential=(0,u.T)(t,P,this.authState.pipe((0,y.h)(t=>!t))).pipe((0,p.U)(t=>(null==t?void 0:t.user)?t:null),(0,m.R)(w.outsideAngular),(0,f.QV)(w.insideAngular))}return(0,v.pX)(this,k,c,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>P.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(v.Dh),r.LFG(v.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(_.HU),r.LFG(C,8),r.LFG(E,8),r.LFG(T,8),r.LFG(S,8),r.LFG(I,8),r.LFG(A,8),r.LFG(w.nm,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})()},9781:function(t,e,n){"use strict";n.d(e,{ST:function(){return dt}});var r=n(7716),i=n(3637),s=n(8891),o=n(4402),a=n(5917),u=n(6643),c=n(7393);function l(){return t=>t.lift(new h)}class h{call(t,e){return e.subscribe(new d(t))}}class d extends c.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var f=n(9761),p=n(8002),g=n(2145),m=n(7519),y=n(5435),_=n(8939),v=n(8583),b=(n(4828),n(4486)),w=n(1304),C=n(3854),E=n(6034);function T(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new w.WA("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function S(){if("undefined"==typeof Uint8Array)throw new w.WA("unimplemented","Uint8Arrays are not available in this environment.")}function I(){if(!(0,w.Me)())throw new w.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class A{constructor(t){this._delegate=t}static fromBase64String(t){return I(),new A(w.Jj.fromBase64String(t))}static fromUint8Array(t){return S(),new A(w.Jj.fromUint8Array(t))}toBase64(){return I(),this._delegate.toBase64()}toUint8Array(){return S(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function O(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(t)}class D{enableIndexedDbPersistence(t,e){return(0,w.ST)(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return(0,w.fH)(t._delegate)}clearIndexedDbPersistence(t){return(0,w.Fc)(t._delegate)}}class P{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof w.l7||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&(0,w.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,n={}){(0,w.at)(this._delegate,t,e,n)}enableNetwork(){return(0,w.Ix)(this._delegate)}disableNetwork(){return(0,w.TF)(this._delegate)}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,(0,w.Wi)("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,w.Mx)(this._delegate)}onSnapshotsInSync(t){return(0,w.sc)(this._delegate,t)}get app(){if(!this._appCompat)throw new w.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Z(this,(0,w.hJ)(this._delegate,t))}catch(e){throw N(e,"collection()","Firestore.collection()")}}doc(t){try{return new R(this,(0,w.JU)(this._delegate,t))}catch(e){throw N(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new B(this,(0,w.B$)(this._delegate,t))}catch(e){throw N(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return(0,w.i3)(this._delegate,e=>t(new x(this,e)))}batch(){return(0,w.qY)(this._delegate),new M(new w.PU(this._delegate,t=>(0,w.GL)(this._delegate,t)))}loadBundle(t){return(0,w.Pb)(this._delegate,t)}namedQuery(t){return(0,w.L$)(this._delegate,t).then(t=>t?new B(this,t):null)}}class k extends w.u7{constructor(t){super(),this.firestore=t}convertBytes(t){return new A(new w.Jj(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return R.forKey(e,this.firestore,null)}}class x{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new k(t)}get(t){const e=$(t);return this._delegate.get(e).then(t=>new V(this._firestore,new w.xU(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,e.converter)))}set(t,e,n){const r=$(t);return n?(T("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const i=$(t);return 2===arguments.length?this._delegate.update(i,e):this._delegate.update(i,e,n,...r),this}delete(t){const e=$(t);return this._delegate.delete(e),this}}class M{constructor(t){this._delegate=t}set(t,e,n){const r=$(t);return n?(T("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const i=$(t);return 2===arguments.length?this._delegate.update(i,e):this._delegate.update(i,e,n,...r),this}delete(t){const e=$(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class F{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new w.$q(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new j(this._firestore,n),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const n=F.INSTANCES;let r=n.get(t);r||(r=new WeakMap,n.set(t,r));let i=r.get(e);return i||(i=new F(t,new k(t),e),r.set(e,i)),i}}F.INSTANCES=new WeakMap;class R{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new k(t)}static forPath(t,e,n){if(t.length%2!=0)throw new w.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new R(e,new w.my(e._delegate,n,new w.Ky(t)))}static forKey(t,e,n){return new R(e,new w.my(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new Z(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Z(this.firestore,(0,w.hJ)(this._delegate,t))}catch(e){throw N(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,C.m9)(t))instanceof w.my&&(0,w.Eo)(this._delegate,t)}set(t,e){e=T("DocumentReference.set",e);try{return e?(0,w.pl)(this._delegate,t,e):(0,w.pl)(this._delegate,t)}catch(n){throw N(n,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?(0,w.r7)(this._delegate,t):(0,w.r7)(this._delegate,t,e,...n)}catch(r){throw N(r,"updateDoc()","DocumentReference.update()")}}delete(){return(0,w.oe)(this._delegate)}onSnapshot(...t){const e=L(t),n=U(t,t=>new V(this.firestore,new w.xU(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)));return(0,w.cf)(this._delegate,e,n)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?(0,w.kl)(this._delegate):"server"===(null==t?void 0:t.source)?(0,w.Xk)(this._delegate):(0,w.QT)(this._delegate),e.then(t=>new V(this.firestore,new w.xU(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)))}withConverter(t){return new R(this.firestore,this._delegate.withConverter(t?F.getInstance(this.firestore,t):null))}}function N(t,e,n){return t.message=t.message.replace(e,n),t}function L(t){for(const e of t)if("object"==typeof e&&!O(e))return e;return{}}function U(t,e){var n,r;let i;return i=O(t[0])?t[0]:O(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:t=>{i.next&&i.next(e(t))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class V{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new R(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return(0,w.qK)(this._delegate,t._delegate)}}class j extends V{data(t){const e=this._delegate.data(t);return(0,w.K9)(void 0!==e,"Document in a QueryDocumentSnapshot should exist"),e}}class B{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new k(t)}where(t,e,n){try{return new B(this.firestore,(0,w.IO)(this._delegate,(0,w.ar)(t,e,n)))}catch(r){throw N(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new B(this.firestore,(0,w.IO)(this._delegate,(0,w.Xo)(t,e)))}catch(n){throw N(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new B(this.firestore,(0,w.IO)(this._delegate,(0,w.b9)(t)))}catch(e){throw N(e,"limit()","Query.limit()")}}limitToLast(t){try{return new B(this.firestore,(0,w.IO)(this._delegate,(0,w.vh)(t)))}catch(e){throw N(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new B(this.firestore,(0,w.IO)(this._delegate,(0,w.e0)(...t)))}catch(e){throw N(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new B(this.firestore,(0,w.IO)(this._delegate,(0,w.TQ)(...t)))}catch(e){throw N(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new B(this.firestore,(0,w.IO)(this._delegate,(0,w.Lx)(...t)))}catch(e){throw N(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new B(this.firestore,(0,w.IO)(this._delegate,(0,w.Wu)(...t)))}catch(e){throw N(e,"endAt()","Query.endAt()")}}isEqual(t){return(0,w.iE)(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?(0,w.UQ)(this._delegate):"server"===(null==t?void 0:t.source)?(0,w.zN)(this._delegate):(0,w.PL)(this._delegate),e.then(t=>new z(this.firestore,new w.W(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)))}onSnapshot(...t){const e=L(t),n=U(t,t=>new z(this.firestore,new w.W(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)));return(0,w.cf)(this._delegate,e,n)}withConverter(t){return new B(this.firestore,this._delegate.withConverter(t?F.getInstance(this.firestore,t):null))}}class q{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new j(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class z{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new B(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new j(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(t=>new q(this._firestore,t))}forEach(t,e){this._delegate.forEach(n=>{t.call(e,new j(this._firestore,n))})}isEqual(t){return(0,w.qK)(this._delegate,t._delegate)}}class Z extends B{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new R(this.firestore,t):null}doc(t){try{return new R(this.firestore,void 0===t?(0,w.JU)(this._delegate):(0,w.JU)(this._delegate,t))}catch(e){throw N(e,"doc()","CollectionReference.doc()")}}add(t){return(0,w.ET)(this._delegate,t).then(t=>new R(this.firestore,t))}isEqual(t){return(0,w.Eo)(this._delegate,t._delegate)}withConverter(t){return new Z(this.firestore,this._delegate.withConverter(t?F.getInstance(this.firestore,t):null))}}function $(t){return(0,w.Cf)(t,w.my)}class H{constructor(...t){this._delegate=new w.Lz(...t)}static documentId(){return new H(w.Xb.keyField().canonicalString())}isEqual(t){return(t=(0,C.m9)(t))instanceof w.Lz&&this._delegate._internalPath.isEqual(t._internalPath)}}class G{constructor(t){this._delegate=t}static serverTimestamp(){const t=(0,w.Bt)();return t._methodName="FieldValue.serverTimestamp",new G(t)}static delete(){const t=(0,w.AK)();return t._methodName="FieldValue.delete",new G(t)}static arrayUnion(...t){const e=(0,w.vr)(...t);return e._methodName="FieldValue.arrayUnion",new G(e)}static arrayRemove(...t){const e=(0,w.Ab)(...t);return e._methodName="FieldValue.arrayRemove",new G(e)}static increment(t){const e=(0,w.nP)(t);return e._methodName="FieldValue.increment",new G(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const K={Firestore:P,GeoPoint:w.F8,Timestamp:w.EK,Blob:A,Transaction:x,WriteBatch:M,DocumentReference:R,DocumentSnapshot:V,Query:B,QueryDocumentSnapshot:j,QuerySnapshot:z,CollectionReference:Z,FieldPath:H,FieldValue:G,setLogLevel:function(t){(0,w.Ub)(t)},CACHE_SIZE_UNLIMITED:w.IX};var W;(function(t,e){t.INTERNAL.registerComponent(new E.wA("firestore-compat",t=>((t,e)=>new P(t,e,new D))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},K)))})(W=b.Z),W.registerVersion("@firebase/firestore-compat","0.1.5");var Q=n(2673),Y=n(5869);function J(t,e){return function(t,e=i.z){return new s.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function X(t,e){return J(t,e).pipe((0,p.U)(t=>({payload:t,type:"query"})))}function tt(t,e){return X(t,e).pipe((0,f.O)(void 0),l(),(0,p.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function et(t,e,n){return tt(t,n).pipe((0,g.R)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return nt(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return nt(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return nt(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),(0,m.x)(),(0,p.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function nt(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function rt(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}n(7841);class it{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=tt(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,p.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe((0,f.O)(void 0),l(),(0,y.h)(([t,e])=>e.length>0||!t),(0,p.U)(([t,e])=>e),u.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,g.R)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=rt(t);return et(this.query,e,this.afs.schedulers.outsideAngular).pipe(u.iC)}valueChanges(t={}){return X(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),u.iC)}get(t){return(0,o.D)(this.query.get(t)).pipe(u.iC)}add(t){return this.ref.add(t)}doc(t){return new st(this.ref.doc(t),this.afs)}}class st{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=ht(n,e);return new it(r,i,this.afs)}snapshotChanges(){return function(t,e){return J(t,e).pipe((0,f.O)(void 0),l(),(0,p.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(u.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,p.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,o.D)(this.ref.get(t)).pipe(u.iC)}}class ot{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?tt(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),(0,y.h)(t=>t.length>0),u.iC):tt(this.query,this.afs.schedulers.outsideAngular).pipe(u.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,g.R)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=rt(t);return et(this.query,e,this.afs.schedulers.outsideAngular).pipe(u.iC)}valueChanges(t={}){return X(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),u.iC)}get(t){return(0,o.D)(this.query.get(t)).pipe(u.iC)}}const at=new r.OlP("angularfire2.enableFirestorePersistence"),ut=new r.OlP("angularfire2.firestore.persistenceSettings"),ct=new r.OlP("angularfire2.firestore.settings"),lt=new r.OlP("angularfire2.firestore.use-emulator");function ht(t,e=(t=>t)){return{query:e(t),ref:t}}let dt=(()=>{class t{constructor(t,e,n,r,i,s,u,c,l,h,d,f,p,g,m,y,b){this.schedulers=u;const w=(0,_.on)(t,s,e),C=l;h&&(0,Q.nw)(w,s,d,p,g,m,f,y),[this.firestore,this.persistenceEnabled$]=(0,_.cc)(`${w.name}.firestore`,"AngularFirestore",w.name,()=>{const t=s.runOutsideAngular(()=>w.firestore());if(r&&t.settings(r),C&&t.useEmulator(...C),n&&!(0,v.PM)(i)){const e=()=>{try{return(0,o.D)(t.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),(0,a.of)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,(0,a.of)(!1)]},[r,C,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=ht(n,e),s=this.schedulers.ngZone.run(()=>r);return new it(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ot(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new st(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(_.Dh),r.LFG(_.xv,8),r.LFG(at,8),r.LFG(ct,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(u.HU),r.LFG(ut,8),r.LFG(lt,8),r.LFG(Q.zQ,8),r.LFG(Q.Qv,8),r.LFG(Q.L6,8),r.LFG(Q._Q,8),r.LFG(Q.rT,8),r.LFG(Q.lh,8),r.LFG(Q.f7,8),r.LFG(Y.nm,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})()},8939:function(t,e,n){"use strict";n.d(e,{hO:function(){return g},xv:function(){return h},Dh:function(){return l},GT:function(){return u},cc:function(){return m},on:function(){return d},pX:function(){return a}});var r=n(7716),i=n(7841),s=n(6643);t=n.hmd(t);const o=["ngOnDestroy"],a=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(o.indexOf(s)>-1)return()=>{};const a=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>a[e],apply:(t,e,n)=>a.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),u=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})};class c{constructor(t){return t}}const l=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(e,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(t=>t&&t.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(e,s));try{JSON.stringify(e)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const f=(t,...e)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[t](...e)},p={provide:c,useFactory:d,deps:[l,r.R0b,[new r.FiY,h]]};let g=(()=>{class t{constructor(t){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,t.toString())}static initializeApp(e,n){return{ngModule:t,providers:[{provide:l,useValue:e},{provide:h,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[p]}),t})();function m(t,e,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(e=>e[0]===t)||[];if(s)return function(t,e){try{return t.toString()===e.toString()}catch(n){return t===e}}(i,o)||(_("error",`${e} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),_("warn",{is:i,was:o})),s;{const e=r();return globalThis.\u0275AngularfireInstanceCache.push([t,e,i]),e}}const y=!!t.hot,_=(t,...e)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:function(t,e,n){"use strict";n.d(e,{q4:function(){return Un},iC:function(){return Yn},HU:function(){return Gn},vb:function(){return zn},JM:function(){return qn},u3:function(){return Xn}});var r=n(7716),i=n(2329),s=n(8239),o=n(5452),a=n(3854),u=n(6034),c=n(5601),l=n(6676);const h="@firebase/installations",d="0.5.2",f=`w:${d}`,p="FIS_v2",g=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function m(t){return t instanceof a.ZR&&t.code.includes("request-failed")}function y({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function _(t){return{token:t.token,requestStatus:2,expiresIn:S(t.expiresIn),creationTime:Date.now()}}function v(t,e){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(function*(t,e){const n=(yield e.json()).error;return g.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function w({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function C(t,{refreshToken:e}){const n=w(t);return n.append("Authorization",function(t){return`${p} ${t}`}(e)),n}function E(t){return T.apply(this,arguments)}function T(){return(T=(0,s.Z)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function S(t){return Number(t.replace("s","000"))}function I(t,e){return A.apply(this,arguments)}function A(){return(A=(0,s.Z)(function*(t,{fid:e}){const n=y(t),r={method:"POST",headers:w(t),body:JSON.stringify({fid:e,authVersion:p,appId:t.appId,sdkVersion:f})},i=yield E(()=>fetch(n,r));if(i.ok){const t=yield i.json();return{fid:t.fid||e,registrationStatus:2,refreshToken:t.refreshToken,authToken:_(t.authToken)}}throw yield v("Create Installation",i)})).apply(this,arguments)}function O(t){return new Promise(e=>{setTimeout(e,t)})}const D=/^[cdef][\w-]{21}$/;function P(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){return function(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return D.test(e)?e:""}catch(t){return""}}function k(t){return`${t.appName}!${t.appId}`}const x=new Map;function M(t,e){const n=k(t);F(n,e),function(t,e){const n=(!R&&"BroadcastChannel"in self&&(R=new BroadcastChannel("[Firebase] FID Change"),R.onmessage=t=>{F(t.data.key,t.data.fid)}),R);n&&n.postMessage({key:t,fid:e}),0===x.size&&R&&(R.close(),R=null)}(n,e)}function F(t,e){const n=x.get(t);if(n)for(const r of n)r(e)}let R=null;const N="firebase-installations-store";let L=null;function U(){return L||(L=(0,l.openDb)("firebase-installations-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(N)}})),L}function V(t,e){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)(function*(t,e){const n=k(t),r=(yield U()).transaction(N,"readwrite"),i=r.objectStore(N),s=yield i.get(n);return yield i.put(e,n),yield r.complete,(!s||s.fid!==e.fid)&&M(t,e.fid),e})).apply(this,arguments)}function B(t){return q.apply(this,arguments)}function q(){return(q=(0,s.Z)(function*(t){const e=k(t),n=(yield U()).transaction(N,"readwrite");yield n.objectStore(N).delete(e),yield n.complete})).apply(this,arguments)}function z(t,e){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)(function*(t,e){const n=k(t),r=(yield U()).transaction(N,"readwrite"),i=r.objectStore(N),s=yield i.get(n),o=e(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.complete,o&&(!s||s.fid!==o.fid)&&M(t,o.fid),o})).apply(this,arguments)}function $(t){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(function*(t){let e;const n=yield z(t,n=>{const r=G(n),i=K(t,r);return e=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function G(t){return X(t||{fid:P(),registrationStatus:0})}function K(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(g.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return W.apply(this,arguments)}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Q(t)}:{installationEntry:e}}function W(){return(W=(0,s.Z)(function*(t,e){try{return V(t,yield I(t,e))}catch(n){throw m(n)&&409===n.customData.serverCode?yield B(t):yield V(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function Q(t){return Y.apply(this,arguments)}function Y(){return(Y=(0,s.Z)(function*(t){let e=yield J(t);for(;1===e.registrationStatus;)yield O(100),e=yield J(t);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=yield $(t);return n||e}return e})).apply(this,arguments)}function J(t){return z(t,t=>{if(!t)throw g.create("installation-not-found");return X(t)})}function X(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function tt(t,e){return et.apply(this,arguments)}function et(){return(et=(0,s.Z)(function*({appConfig:t,platformLoggerProvider:e},n){const r=nt(t,n),i=C(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:f}})},a=yield E(()=>fetch(r,o));if(a.ok)return _(yield a.json());throw yield v("Generate Auth Token",a)})).apply(this,arguments)}function nt(t,{fid:e}){return`${y(t)}/${e}/authTokens:generate`}function rt(t){return it.apply(this,arguments)}function it(){return(it=(0,s.Z)(function*(t,e=!1){let n;const r=yield z(t.appConfig,r=>{if(!lt(r))throw g.create("not-registered");const i=r.authToken;if(!e&&ht(i))return r;if(1===i.requestStatus)return n=st(t,e),r;{if(!navigator.onLine)throw g.create("app-offline");const e=dt(r);return n=ut(t,e),e}});return n?yield n:r.authToken})).apply(this,arguments)}function st(t,e){return ot.apply(this,arguments)}function ot(){return(ot=(0,s.Z)(function*(t,e){let n=yield at(t.appConfig);for(;1===n.authToken.requestStatus;)yield O(100),n=yield at(t.appConfig);const r=n.authToken;return 0===r.requestStatus?rt(t,e):r})).apply(this,arguments)}function at(t){return z(t,t=>{if(!lt(t))throw g.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function ut(t,e){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.Z)(function*(t,e){try{const n=yield tt(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield V(t.appConfig,r),n}catch(n){if(!m(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield V(t.appConfig,n)}else yield B(t.appConfig);throw n}})).apply(this,arguments)}function lt(t){return void 0!==t&&2===t.registrationStatus}function ht(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function dt(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function ft(){return(ft=(0,s.Z)(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield $(e.appConfig);return r?r.catch(console.error):rt(e).catch(console.error),n.fid})).apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(t,e=!1){const n=t;return yield gt(n.appConfig),(yield rt(n,e)).token})).apply(this,arguments)}function gt(t){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(t){const{registrationPromise:e}=yield $(t);e&&(yield e)})).apply(this,arguments)}function yt(t){return g.create("missing-app-config-values",{valueName:t})}const _t="installations";(0,o._registerComponent)(new u.wA(_t,t=>{const e=t.getProvider("app").getImmediate();return{app:e,appConfig:function(t){if(!t||!t.options)throw yt("App Configuration");if(!t.name)throw yt("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yt(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:(0,o._getProvider)(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new u.wA("installations-internal",t=>{const e=t.getProvider("app").getImmediate(),n=(0,o._getProvider)(e,_t).getImmediate();return{getId:()=>function(t){return ft.apply(this,arguments)}(n),getToken:t=>function(t){return pt.apply(this,arguments)}(n,t)}},"PRIVATE")),(0,o.registerVersion)(h,d),(0,o.registerVersion)(h,d,"esm2017");const vt="@firebase/remote-config",bt=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wt{constructor(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-e,r=n<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${r}.`),r}fetch(t){var e=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([e.storage.getLastSuccessfulFetchTimestampMillis(),e.storage.getLastSuccessfulFetchResponse()]);if(r&&e.isCachedDataFresh(t.cacheMaxAgeMillis,n))return r;t.eTag=r&&r.eTag;const i=yield e.client.fetch(t),s=[e.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(e.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function Ct(t=navigator){return t.languages&&t.languages[0]||t.language}class Et{constructor(t,e,n,r,i,s){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(t){var e=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([e.firebaseInstallations.getId(),e.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${e.projectId}/namespaces/${e.namespace}:fetch?key=${e.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},o={sdk_version:e.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:e.appId,language_code:Ct()},a={method:"POST",headers:s,body:JSON.stringify(o)},u=fetch(i,a),c=new Promise((e,n)=>{t.signal.addEventListener(()=>{const t=new Error("The operation was aborted.");t.name="AbortError",n(t)})});let l;try{yield Promise.race([u,c]),l=yield u}catch(g){let t="fetch-client-network";throw"AbortError"===g.name&&(t="fetch-timeout"),bt.create(t,{originalErrorMessage:g.message})}let h=l.status;const d=l.headers.get("ETag")||void 0;let f,p;if(200===l.status){let t;try{t=yield l.json()}catch(m){throw bt.create("fetch-client-parse",{originalErrorMessage:m.message})}f=t.entries,p=t.state}if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:("NO_TEMPLATE"===p||"EMPTY_CONFIG"===p)&&(f={}),304!==h&&200!==h)throw bt.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:f}})()}}class Tt{constructor(t,e){this.client=t,this.storage=e}fetch(t){var e=this;return(0,s.Z)(function*(){const n=(yield e.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return e.attemptFetch(t,n)})()}attemptFetch(t,{throttleEndTimeMillis:e,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(t.signal,e);try{const e=yield r.client.fetch(t);return yield r.storage.deleteThrottleMetadata(),e}catch(i){if(!function(t){if(!(t instanceof a.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i))throw i;const e={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(e),r.attemptFetch(t,e)}})()}}class St{constructor(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function It(t,e){const n=t.target.error||void 0;return bt.create(e,{originalErrorMessage:n&&n.message})}const At="app_namespace_store";class Ot{constructor(t,e,n,r=function(){return new Promise((t,n)=>{try{const e=indexedDB.open("firebase_remote_config",1);e.onerror=t=>{n(It(t,"storage-open"))},e.onsuccess=e=>{t(e.target.result)},e.onupgradeneeded=t=>{const e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(At,{keyPath:"compositeKey"})}}}catch(e){n(bt.create("storage-open",{originalErrorMessage:e}))}})}()){this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var e=this;return(0,s.Z)(function*(){const n=yield e.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([At],"readonly").objectStore(At),o=e.createCompositeKey(t);try{const t=s.get(o);t.onerror=t=>{i(It(t,"storage-get"))},t.onsuccess=t=>{const e=t.target.result;r(e?e.value:void 0)}}catch(a){i(bt.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(t,e){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([At],"readwrite").objectStore(At),a=n.createCompositeKey(t);try{const t=o.put({compositeKey:a,value:e});t.onerror=t=>{s(It(t,"storage-set"))},t.onsuccess=()=>{i()}}catch(u){s(bt.create("storage-set",{originalErrorMessage:u&&u.message}))}})})()}delete(t){var e=this;return(0,s.Z)(function*(){const n=yield e.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([At],"readwrite").objectStore(At),o=e.createCompositeKey(t);try{const t=s.delete(o);t.onerror=t=>{i(It(t,"storage-delete"))},t.onsuccess=()=>{r()}}catch(a){i(bt.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class Dt{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return(0,s.Z)(function*(){const e=t.storage.getLastFetchStatus(),n=t.storage.getLastSuccessfulFetchTimestampMillis(),r=t.storage.getActiveConfig(),i=yield e;i&&(t.lastFetchStatus=i);const s=yield n;s&&(t.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(t.activeConfig=o)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function Pt(){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(t){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new u.wA("remote-config",function(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw bt.create("registration-window");if(!(0,a.hl)())throw bt.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:u}=n.options;if(!i)throw bt.create("registration-project-id");if(!s)throw bt.create("registration-api-key");if(!u)throw bt.create("registration-app-id");const l=new Ot(u,n.name,e=e||"firebase"),h=new Dt(l),d=new c.Yd(vt);d.logLevel=c.in.ERROR;const f=new Et(r,o.SDK_VERSION,e,i,s,u),p=new Tt(f,l),g=new wt(p,l,h,d),m=new St(n,g,h,l,d);return function(t){const e=(0,a.m9)(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(vt,"0.3.1"),(0,o.registerVersion)(vt,"0.3.1","esm2017");const xt="/firebase-messaging-sw.js",Mt="/firebase-cloud-messaging-push-scope",Ft="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Rt="google.c.a.c_id",Nt="google.c.a.c_l",Lt="google.c.a.ts",Ut="google.c.a.e";var Vt=(()=>{return(t=Vt||(Vt={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Vt;var t})();function jt(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bt(t){const e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}const qt="fcm_token_details_db",zt="fcm_token_object_Store";function Zt(t){return $t.apply(this,arguments)}function $t(){return($t=(0,s.Z)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(t=>t.name).includes(qt))return null;let e=null;return(yield(0,l.openDb)(qt,5,function(){var n=(0,s.Z)(function*(n){var r;if(n.oldVersion<2||!n.objectStoreNames.contains(zt))return;const i=n.transaction.objectStore(zt),s=yield i.index("fcmSenderId").get(t);if(yield i.clear(),s)if(2===n.oldVersion){const t=s;if(!t.auth||!t.p256dh||!t.endpoint)return;e={token:t.fcmToken,createTime:null!==(r=t.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:t.auth,p256dh:t.p256dh,endpoint:t.endpoint,swScope:t.swScope,vapidKey:"string"==typeof t.vapidKey?t.vapidKey:jt(t.vapidKey)}}}else if(3===n.oldVersion){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:jt(t.auth),p256dh:jt(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:jt(t.vapidKey)}}}else if(4===n.oldVersion){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:jt(t.auth),p256dh:jt(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:jt(t.vapidKey)}}}});return function(t){return n.apply(this,arguments)}}())).close(),yield(0,l.deleteDb)(qt),yield(0,l.deleteDb)("fcm_vapid_details_db"),yield(0,l.deleteDb)("undefined"),Ht(e)?e:null})).apply(this,arguments)}function Ht(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Gt="firebase-messaging-store";let Kt=null;function Wt(){return Kt||(Kt=(0,l.openDb)("firebase-messaging-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(Gt)}})),Kt}function Qt(t){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,s.Z)(function*(t){const e=ne(t),n=yield(yield Wt()).transaction(Gt).objectStore(Gt).get(e);if(n)return n;{const e=yield Zt(t.appConfig.senderId);if(e)return yield Jt(t,e),e}})).apply(this,arguments)}function Jt(t,e){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(t,e){const n=ne(t),r=(yield Wt()).transaction(Gt,"readwrite");return yield r.objectStore(Gt).put(e,n),yield r.complete,e})).apply(this,arguments)}function te(t){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.Z)(function*(t){const e=ne(t),n=(yield Wt()).transaction(Gt,"readwrite");yield n.objectStore(Gt).delete(e),yield n.complete})).apply(this,arguments)}function ne({appConfig:t}){return t.appId}const re=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ie(t,e){return se.apply(this,arguments)}function se(){return(se=(0,s.Z)(function*(t,e){const n=yield he(t),r=fe(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(le(t.appConfig),i)).json()}catch(o){throw re.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw re.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw re.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function oe(t,e){return ae.apply(this,arguments)}function ae(){return(ae=(0,s.Z)(function*(t,e){const n=yield he(t),r=fe(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${le(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw re.create("token-update-failed",{errorInfo:o})}if(s.error)throw re.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw re.create("token-update-no-token");return s.token})).apply(this,arguments)}function ue(t,e){return ce.apply(this,arguments)}function ce(){return(ce=(0,s.Z)(function*(t,e){const n={method:"DELETE",headers:yield he(t)};try{const r=yield(yield fetch(`${le(t.appConfig)}/${e}`,n)).json();if(r.error)throw re.create("token-unsubscribe-failed",{errorInfo:r.error.message})}catch(r){throw re.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function le({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function he(t){return de.apply(this,arguments)}function de(){return(de=(0,s.Z)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function fe({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Ft&&(i.web.applicationPubKey=r),i}const pe=6048e5;function ge(t){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(t){const e=yield Ee(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:jt(e.getKey("auth")),p256dh:jt(e.getKey("p256dh"))},r=yield Qt(t.firebaseDependencies);if(r){if(Se(r.subscriptionOptions,n))return Date.now()>=r.createTime+pe?ve(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield ue(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return we(t.firebaseDependencies,n)}return we(t.firebaseDependencies,n)})).apply(this,arguments)}function ye(t){return _e.apply(this,arguments)}function _e(){return(_e=(0,s.Z)(function*(t){const e=yield Qt(t.firebaseDependencies);e&&(yield ue(t.firebaseDependencies,e.token),yield te(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function ve(t,e){return be.apply(this,arguments)}function be(){return(be=(0,s.Z)(function*(t,e){try{const n=yield oe(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Jt(t.firebaseDependencies,r),n}catch(n){throw yield ye(t),n}})).apply(this,arguments)}function we(t,e){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,s.Z)(function*(t,e){const n={token:yield ie(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Jt(t,n),n.token})).apply(this,arguments)}function Ee(t,e){return Te.apply(this,arguments)}function Te(){return(Te=(0,s.Z)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bt(e)})})).apply(this,arguments)}function Se(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function Ie(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function Ae(t){return"object"==typeof t&&!!t&&Rt in t}function Oe(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function De(t){return re.create("missing-app-config-values",{valueName:t})}Oe("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Oe("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pe{constructor(t,e,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(t){if(!t||!t.options)throw De("App Configuration Object");if(!t.name)throw De("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw De(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:n}}_delete(){return Promise.resolve()}}function ke(t){return xe.apply(this,arguments)}function xe(){return(xe=(0,s.Z)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(xt,{scope:Mt}),t.swRegistration.update().catch(()=>{})}catch(e){throw re.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function Me(t,e){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,s.Z)(function*(t,e){if(!e&&!t.swRegistration&&(yield ke(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw re.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Re(t,e){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,s.Z)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Ft)})).apply(this,arguments)}function Le(){return(Le=(0,s.Z)(function*(t,e){if(!navigator)throw re.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw re.create("permission-blocked");return yield Re(t,null==e?void 0:e.vapidKey),yield Me(t,null==e?void 0:e.serviceWorkerRegistration),ge(t)})).apply(this,arguments)}function Ue(t,e,n){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,s.Z)(function*(t,e,n){const r=je(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Rt],message_name:n[Nt],message_time:n[Lt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function je(t){switch(t){case Vt.NOTIFICATION_CLICKED:return"notification_open";case Vt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Be(){return(Be=(0,s.Z)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Vt.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Ie(n)):t.onMessageHandler.next(Ie(n)));const r=n.data;Ae(r)&&"1"===r[Ut]&&(yield Ue(t,n.messageType,r))})).apply(this,arguments)}const qe="@firebase/messaging";function ze(){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,s.Z)(function*(){return"undefined"!=typeof window&&(0,a.hl)()&&(yield(0,a.eu)())&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new u.wA("messaging",t=>{const e=new Pe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(t,e){return Be.apply(this,arguments)}(e,t)),e},"PUBLIC")),(0,o._registerComponent)(new u.wA("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:t=>function(t,e){return Le.apply(this,arguments)}(e,t)}},"PRIVATE")),(0,o.registerVersion)(qe,"0.9.2"),(0,o.registerVersion)(qe,"0.9.2","esm2017");const $e="analytics",He="firebase_id",Ge="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ke="https://www.googletagmanager.com/gtag/js",We=new c.Yd("@firebase/analytics");function Qe(t){return Promise.all(t.map(t=>t.catch(t=>t)))}function Ye(t,e){const n=document.createElement("script");n.src=`${Ke}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function Je(t,e,n,r,i,s){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,s.Z)(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const t=(yield Qe(n)).find(t=>t.measurementId===i);t&&(yield e[t.appId])}}catch(a){We.error(a)}t("config",i,s)})).apply(this,arguments)}function tn(t,e,n,r,i){return en.apply(this,arguments)}function en(){return(en=(0,s.Z)(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let t=i.send_to;Array.isArray(t)||(t=[t]);const r=yield Qe(n);for(const n of t){const t=r.find(t=>t.measurementId===n),i=t&&e[t.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){We.error(s)}})).apply(this,arguments)}function nn(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Ke))return e;return null}const rn=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),sn=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function on(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function an(t){return un.apply(this,arguments)}function un(){return(un=(0,s.Z)(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:on(r)},s=Ge.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let t="";try{const n=yield o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()})).apply(this,arguments)}function cn(t){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(t,e=sn,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw rn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw rn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new gn;return setTimeout((0,s.Z)(function*(){u.abort()}),void 0!==n?n:6e4),hn({appId:r,apiKey:i,measurementId:o},a,u,e)})).apply(this,arguments)}function hn(t,e,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=sn){const{appId:s,measurementId:o}=t;try{yield fn(r,e)}catch(u){if(o)return We.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u.message}]`),{appId:s,measurementId:o};throw u}try{const e=yield an(t);return i.deleteThrottleMetadata(s),e}catch(u){if(!pn(u)){if(i.deleteThrottleMetadata(s),o)return We.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u.message}]`),{appId:s,measurementId:o};throw u}const e=503===Number(u.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+e,backoffCount:n+1};return i.setThrottleMetadata(s,c),We.debug(`Calling attemptFetch again in ${e} millis`),hn(t,c,r,i)}})).apply(this,arguments)}function fn(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pn(t){if(!(t instanceof a.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class gn{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}function mn(){return yn.apply(this,arguments)}function yn(){return(yn=(0,s.Z)(function*(){if(!(0,a.hl)())return We.warn(rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(t){return We.warn(rn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function _n(){return(_n=(0,s.Z)(function*(t,e,n,r,i,s,o){var a;const u=cn(t);u.then(e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&We.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(t=>We.error(t)),e.push(u);const c=mn().then(t=>{if(t)return r.getId()}),[l,h]=yield Promise.all([u,c]);nn()||Ye(s,l.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d[He]=h),i("config",l.measurementId,d),l.measurementId})).apply(this,arguments)}class vn{constructor(t){this.app=t}_delete(){return delete bn[this.app.options.appId],Promise.resolve()}}let bn={},wn=[];const Cn={};let En,Tn,Sn="dataLayer",In=!1;function An(t,e,n){!function(){const t=[];if((0,a.ru)()&&t.push("This is a browser extension environment."),(0,a.zI)()||t.push("Cookies are not available."),t.length>0){const e=t.map((t,e)=>`(${e+1}) ${t}`).join(" "),n=rn.create("invalid-analytics-context",{errorInfo:e});We.warn(n.message)}}();const r=t.options.appId;if(!r)throw rn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw rn.create("no-api-key");We.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bn[r])throw rn.create("already-exists",{id:r});if(!In){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Sn);const{wrappedGtag:t,gtagCore:e}=function(t,e,n,r,i){let o=function(...t){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield tn(t,e,n,s,o):"config"===i?yield Je(t,e,n,r,s,o):t("set",s)}catch(a){We.error(a)}})).apply(this,arguments)}return function(t,e,n){return i.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(bn,wn,Cn,Sn,"gtag");Tn=t,En=e,In=!0}return bn[r]=function(t,e,n,r,i,s,o){return _n.apply(this,arguments)}(t,wn,Cn,e,En,Sn,n),new vn(t)}function On(){return(On=(0,s.Z)(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const i=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function Dn(){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,s.Z)(function*(){if((0,a.ru)()||!(0,a.zI)()||!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(t){return!1}})).apply(this,arguments)}const kn="@firebase/analytics";(0,o._registerComponent)(new u.wA($e,(t,{options:e})=>An(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),(0,o._registerComponent)(new u.wA("analytics-internal",function(t){try{const e=t.getProvider($e).getImmediate();return{logEvent:(t,n,r)=>function(t,e,n,r){t=(0,a.m9)(t),function(t,e,n,r,i){return On.apply(this,arguments)}(Tn,bn[t.app.options.appId],e,n,r).catch(t=>We.error(t))}(e,t,n,r)}}catch(e){throw rn.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),(0,o.registerVersion)(kn,"0.7.2"),(0,o.registerVersion)(kn,"0.7.2","esm2017");var xn=n(7771),Mn=n(3637),Fn=n(8891),Rn=n(3342),Nn=n(3101),Ln=n(9746);const Un=new r.GfV("7.1.1"),Vn="__angularfire_symbol__analyticsIsSupported",jn="__angularfire_symbol__remoteConfigIsSupported",Bn="__angularfire_symbol__messagingIsSupported";function qn(t,e,n){if(e){if(1===e.length)return e[0];const t=e.filter(t=>t.app===n);if(1===t.length)return t[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Vn]||(globalThis[Vn]=Dn().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[Bn]||(globalThis[Bn]=ze().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[jn]||(globalThis[jn]=Pt().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const zn=(t,e)=>{const n=e?[e]:(0,i.C6)(),r=[];return n.forEach(e=>{e.container.getProvider(t).instances.forEach(t=>{r.includes(t)||r.push(t)})}),r};function Zn(){}class $n{constructor(t,e=xn.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class Hn{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zn,{},Zn,Zn)),e.pipe((0,Rn.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Gn=(()=>{class t{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new $n(Zone.current)),this.insideAngular=t.run(()=>new $n(Zone.current,Mn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Kn(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Wn(t){return Kn().ngZone.runOutsideAngular(()=>t())}function Qn(t){return Kn().ngZone.run(()=>t())}function Yn(t){return Kn(),function(t){return function(e){return(e=e.lift(new Hn(t.ngZone))).pipe((0,Nn.R)(t.outsideAngular),(0,Ln.QV)(t.insideAngular))}}(Kn())(t)}const Jn=(t,e)=>function(){return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Qn(()=>t.apply(void 0,arguments))},Xn=(t,e)=>function(){let n;for(let t=0;t<arguments.length;t++)"function"==typeof arguments[t]&&(e&&(n||(n=Qn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zn,{},Zn,Zn)))),arguments[t]=Jn(arguments[t],n));const r=Wn(()=>t.apply(this,arguments));if(!e){if(r instanceof Fn.y){const t=Kn();return r.pipe((0,Nn.R)(t.outsideAngular),(0,Ln.QV)(t.insideAngular))}return Qn(()=>r)}return r instanceof Fn.y?r.pipe(Yn):r instanceof Promise?Qn(()=>new Promise((t,e)=>r.then(e=>Qn(()=>t(e)),t=>Qn(()=>e(t))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:Qn(()=>r)}},665:function(t,e,n){"use strict";n.d(e,{Wl:function(){return g},qu:function(){return Tt},NI:function(){return ht},u:function(){return bt},sg:function(){return _t},u5:function(){return Ct},JU:function(){return f},JJ:function(){return H},JL:function(){return G},UX:function(){return Et},kI:function(){return T},_Y:function(){return pt}});var r=n(7716),i=n(8583),s=n(8891),o=n(9796),a=n(8002),u=n(1555),c=n(4402);function l(t,e){return new s.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=(0,c.D)(t[a]);let l=!1;n.add(u.subscribe({next:t=>{l||(l=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,(s===r||!l)&&(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let h=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),d=(()=>{class t extends h{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const f=new r.OlP("NgValueAccessor"),p={provide:f,useExisting:(0,r.Gpc)(()=>g),multi:!0};let g=(()=>{class t extends d{writeValue(t){this.setProperty("checked",t)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.NdJ("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r._Bn([p]),r.qOj]}),t})();const m={provide:f,useExisting:(0,r.Gpc)(()=>_),multi:!0},y=new r.OlP("CompositionEventMode");let _=(()=>{class t extends h{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=(0,i.q)()?(0,i.q)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(y,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([m]),r.qOj]}),t})();function v(t){return null==t||0===t.length}function b(t){return null!=t&&"number"==typeof t.length}const w=new r.OlP("NgValidators"),C=new r.OlP("NgAsyncValidators"),E=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class T{static min(t){return e=t,t=>{if(v(t.value)||v(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null};var e}static max(t){return e=t,t=>{if(v(t.value)||v(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null};var e}static required(t){return v(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return v((e=t).value)||E.test(e.value)?null:{email:!0};var e}static minLength(t){return e=t,t=>v(t.value)||!b(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null;var e}static maxLength(t){return e=t,t=>b(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null;var e}static pattern(t){return function(t){if(!t)return S;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(v(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return k(t)}static composeAsync(t){return M(t)}}function S(t){return null}function I(t){return null!=t}function A(t){const e=(0,r.QGY)(t)?(0,c.D)(t):t;return(0,r.CqO)(e),e}function O(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function D(t,e){return e.map(e=>e(t))}function P(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function k(t){if(!t)return null;const e=t.filter(I);return 0==e.length?null:function(t){return O(D(t,e))}}function x(t){return null!=t?k(P(t)):null}function M(t){if(!t)return null;const e=t.filter(I);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if((0,o.k)(e))return l(e,null);if((0,u.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return l(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return l(t=1===t.length&&(0,o.k)(t[0])?t[0]:t,null).pipe((0,a.U)(t=>e(...t)))}return l(t,null)}(D(t,e).map(A)).pipe((0,a.U)(O))}}function F(t){return null!=t?M(P(t)):null}function R(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function N(t){return t._rawValidators}function L(t){return t._rawAsyncValidators}function U(t){return t?Array.isArray(t)?t:[t]:[]}function V(t,e){return Array.isArray(t)?t.includes(e):t===e}function j(t,e){const n=U(e);return U(t).forEach(t=>{V(n,t)||n.push(t)}),n}function B(t,e){return U(e).filter(e=>!V(t,e))}let q=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=x(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=F(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),z=(()=>{class t extends q{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class Z extends q{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ${constructor(t){this._cd=t}is(t){var e,n,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[t])}}let H=(()=>{class t extends ${constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Z,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})(),G=(()=>{class t extends ${constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(z,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))("ng-submitted",e.is("submitted"))},features:[r.qOj]}),t})();function K(t,e){Y(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&X(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&X(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function W(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),J(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Q(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Y(t,e){const n=N(t);null!==e.validator?t.setValidators(R(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=L(t);null!==e.asyncValidator?t.setAsyncValidators(R(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Q(e._rawValidators,i),Q(e._rawAsyncValidators,i)}function J(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=N(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.validator);i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const r=L(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.asyncValidator);i.length!==r.length&&(n=!0,t.setAsyncValidators(i))}}}const r=()=>{};return Q(e._rawValidators,r),Q(e._rawAsyncValidators,r),n}function X(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tt(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const et="VALID",nt="INVALID",rt="PENDING",it="DISABLED";function st(t){return(ct(t)?t.validators:t)||null}function ot(t){return Array.isArray(t)?x(t):t||null}function at(t,e){return(ct(e)?e.asyncValidators:t)||null}function ut(t){return Array.isArray(t)?F(t):t||null}function ct(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class lt{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ot(this._rawValidators),this._composedAsyncValidatorFn=ut(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===et}get invalid(){return this.status===nt}get pending(){return this.status==rt}get disabled(){return this.status===it}get enabled(){return this.status!==it}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ot(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ut(t)}addValidators(t){this.setValidators(j(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(j(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(B(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(B(t,this._rawAsyncValidators))}hasValidator(t){return V(this._rawValidators,t)}hasAsyncValidator(t){return V(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=rt,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=it,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=et,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===et||this.status===rt)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?it:et}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=rt,this._hasOwnPendingAsyncValidator=!0;const e=A(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(t=>{r=r instanceof dt?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof ft&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?it:this.errors?nt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rt)?rt:this._anyControlsHaveStatus(nt)?nt:et}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ct(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ht extends lt{constructor(t=null,e,n){super(st(e),at(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){tt(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){tt(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class dt extends lt{constructor(t,e,n){super(st(e),at(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ht?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class ft extends lt{constructor(t,e,n){super(st(e),at(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ht?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let pt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),gt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const mt=new r.OlP("NgModelWithFormControlWarning"),yt={provide:z,useExisting:(0,r.Gpc)(()=>_t)};let _t=(()=>{class t extends z{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(J(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return K(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){W(t.control||null,t,!1),tt(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(W(e||null,t),n instanceof ht&&(K(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){Y(t,e)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return J(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Y(this.form,this),this._oldForm&&J(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(w,10),r.Y36(C,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([yt]),r.qOj,r.TTD]}),t})();const vt={provide:Z,useExisting:(0,r.Gpc)(()=>bt)};let bt=(()=>{class t extends Z{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===_?n=t:function(t){return Object.getPrototypeOf(t.constructor)===d}(t)?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(z,13),r.Y36(w,10),r.Y36(C,10),r.Y36(f,10),r.Y36(mt,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([vt]),r.qOj,r.TTD]}),t._ngModelWarningSentOnce=!1,t})(),wt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[gt]]}),t})(),Ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[wt]}),t})(),Et=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:mt,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[wt]}),t})(),Tt=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,s=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new dt(n,{asyncValidators:s,updateOn:r,validators:i})}control(t,e,n){return new ht(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new ft(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ht||t instanceof dt||t instanceof ft?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t},token:t,providedIn:Et}),t})()},9075:function(t,e,n){"use strict";n.d(e,{b2:function(){return L},H7:function(){return M},q6:function(){return R},se:function(){return E}});var r=n(8583),i=n(7716);class s extends r.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o extends s{static makeCurrent(){(0,r.HT)(new o)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(u=u||document.querySelector("base"),u?u.getAttribute("href"):null);return null==e?null:function(t){a=a||document.createElement("a"),a.setAttribute("href",t);const e=a.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return(0,r.Mx)(document.cookie,t)}}let a,u=null;const c=new i.OlP("TRANSITION_ID"),l=[{provide:i.ip1,useFactory:function(t,e,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=(0,r.q)(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let t=0;t<i.length;t++)n.remove(i[t])})}},deps:[c,r.K0,i.zs3],multi:!0}];class h{static init(){(0,i.VLi)(new h)}addToWindow(t){i.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(t=>{const e=i.dqk.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?(0,r.q)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let d=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const f=new i.OlP("EventManagerPlugins");let p=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(f),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class g{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=(0,r.q)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let m=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),y=(()=>{class t extends m{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(_),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(_))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function _(t){(0,r.q)().remove(t)}const v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function w(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?w(t,i,n):(i=i.replace(b,t),n.push(i))}return n}function C(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let E=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new T(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new S(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.ifc.ShadowDom:return new I(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=w(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(p),i.LFG(y),i.LFG(i.AFp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class T{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(v[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=v[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=v[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.JOm.DashCase|i.JOm.Important)?t.style.setProperty(e,n,r&i.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,C(n)):this.eventManager.addEventListener(t,e,C(n))}}class S extends T{constructor(t,e,n,r){super(t),this.component=n;const i=w(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class I extends T{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=w(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let A=(()=>{class t extends g{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const O=["alt","control","meta","shift"],D={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},k={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let x=(()=>{class t extends g{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.q)().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(O.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&P.hasOwnProperty(e)&&(e=P[e]))}return D[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),O.forEach(r=>{r!=n&&k[r](t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return(0,i.LFG)(F)},token:t,providedIn:"root"}),t})(),F=(()=>{class t extends M{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.q3G.NONE:return e;case i.q3G.HTML:return(0,i.qzn)(e,"HTML")?(0,i.z3N)(e):(0,i.EiD)(this._doc,String(e)).toString();case i.q3G.STYLE:return(0,i.qzn)(e,"Style")?(0,i.z3N)(e):e;case i.q3G.SCRIPT:if((0,i.qzn)(e,"Script"))return(0,i.z3N)(e);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.yhl)(e),(0,i.qzn)(e,"URL")?(0,i.z3N)(e):(0,i.mCW)(String(e));case i.q3G.RESOURCE_URL:if((0,i.qzn)(e,"ResourceURL"))return(0,i.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,i.JVY)(t)}bypassSecurityTrustStyle(t){return(0,i.L6k)(t)}bypassSecurityTrustScript(t){return(0,i.eBb)(t)}bypassSecurityTrustUrl(t){return(0,i.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,i.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.K0))},t.\u0275prov=(0,i.Yz7)({factory:function(){return function(t){return new F(t.get(r.K0))}((0,i.LFG)(i.gxx))},token:t,providedIn:"root"}),t})();const R=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:r.bD},{provide:i.g9A,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.K0,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),N=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:f,useClass:A,multi:!0,deps:[r.K0,i.R0b,i.Lbi]},{provide:f,useClass:x,multi:!0,deps:[r.K0]},[],{provide:E,useClass:E,deps:[p,y,i.AFp]},{provide:i.FYo,useExisting:E},{provide:m,useExisting:y},{provide:y,useClass:y,deps:[r.K0]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:p,useClass:p,deps:[f,i.R0b]},{provide:r.JF,useClass:d,deps:[]},[]];let L=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.AFp,useValue:e.appId},{provide:c,useExisting:i.AFp},l]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(t,12))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:N,imports:[r.ez,i.hGG]}),t})();"undefined"!=typeof window&&window},2694:function(t,e,n){"use strict";n.d(e,{m2:function(){return V},F0:function(){return pn},Bz:function(){return In},lC:function(){return mn}});var r=n(8583),i=n(7716),s=n(8891),o=n(4402),a=n(9193);function u(t){return new s.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,o.D)(n):(0,a.c)()).subscribe(e)})}var c=n(5917),l=n(6215),h=n(9112),d=n(3410),f=n(8071),p=n(2441),g=n(9765),m=n(5435),y=n(548),_=n(4635),v=n(5242),b=n(4487),w=n(7393),C=n(5319);class E{constructor(t){this.callback=t}call(t,e){return e.subscribe(new T(t,this.callback))}}class T extends w.L{constructor(t,e){super(t),this.add(new C.w(e))}}var S=n(8002),I=n(3190),A=n(5257),O=n(9761),D=n(2145),P=n(5304),k=n(4612),x=n(8049),M=n(9773),F=n(3342),R=n(1307),N=n(3282);class L{constructor(t,e){this.id=t,this.url=e}}class U extends L{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class V extends L{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class j extends L{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class B extends L{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class q extends L{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z extends L{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z extends L{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $ extends L{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H extends L{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class K{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class W{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const tt="primary";class et{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function nt(t){return new et(t)}const rt="ngNavigationCancelingError";function it(t){const e=Error("NavigationCancelingError: "+t);return e[rt]=!0,e}function st(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ot(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!at(t[i],e[i]))return!1;return!0}function at(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function ut(t){return Array.prototype.concat.apply([],t)}function ct(t){return t.length>0?t[t.length-1]:null}function lt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function ht(t){return(0,i.CqO)(t)?t:(0,i.QGY)(t)?(0,o.D)(Promise.resolve(t)):(0,c.of)(t)}const dt={exact:function t(e,n,r){if(!wt(e.segments,n.segments)||!yt(e.segments,n.segments,r)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!e.children[i]||!t(e.children[i],n.children[i],r))return!1;return!0},subset:gt},ft={exact:function(t,e){return ot(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>at(t[n],e[n]))},ignored:()=>!0};function pt(t,e,n){return dt[n.paths](t.root,e.root,n.matrixParams)&&ft[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function gt(t,e,n){return mt(t,e,e.segments,n)}function mt(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!wt(i,n)||e.hasChildren()||!yt(i,n,r))}if(t.segments.length===n.length){if(!wt(t.segments,n)||!yt(t.segments,n,r))return!1;for(const n in e.children)if(!t.children[n]||!gt(t.children[n],e.children[n],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(wt(t.segments,i)&&yt(t.segments,i,r)&&t.children[tt])&&mt(t.children[tt],e,s,r)}}function yt(t,e,n){return e.every((e,r)=>ft[n](t[r].parameters,e.parameters))}class _t{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nt(this.queryParams)),this._queryParamMap}toString(){return Tt.serialize(this)}}class vt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,lt(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return St(this)}}class bt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=nt(this.parameters)),this._parameterMap}toString(){return xt(this)}}function wt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Ct{}class Et{parse(t){const e=new Lt(t);return new _t(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${It(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Ot(e)}=${Ot(t)}`).join("&"):`${Ot(e)}=${Ot(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Tt=new Et;function St(t){return t.segments.map(t=>xt(t)).join("/")}function It(t,e){if(!t.hasChildren())return St(t);if(e){const e=t.children[tt]?It(t.children[tt],!1):"",n=[];return lt(t.children,(t,e)=>{e!==tt&&n.push(`${e}:${It(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return lt(t.children,(t,r)=>{r===tt&&(n=n.concat(e(t,r)))}),lt(t.children,(t,r)=>{r!==tt&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===tt?[It(t.children[tt],!1)]:[`${n}:${It(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[tt]?`${St(t)}/${e[0]}`:`${St(t)}/(${e.join("//")})`}}function At(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ot(t){return At(t).replace(/%3B/gi,";")}function Dt(t){return At(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pt(t){return decodeURIComponent(t)}function kt(t){return Pt(t.replace(/\+/g,"%20"))}function xt(t){return`${Dt(t.path)}${function(t){return Object.keys(t).map(e=>`;${Dt(e)}=${Dt(t[e])}`).join("")}(t.parameters)}`}const Mt=/^[^\/()?;=#]+/;function Ft(t){const e=t.match(Mt);return e?e[0]:""}const Rt=/^[^=?&#]+/,Nt=/^[^?&#]+/;class Lt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vt([],{}):new vt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[tt]=new vt(t,e)),n}parseSegment(){const t=Ft(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new bt(Pt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ft(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Ft(this.remaining);t&&(n=t,this.capture(n))}t[Pt(e)]=Pt(n)}parseQueryParam(t){const e=function(t){const e=t.match(Rt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Nt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=kt(e),i=kt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ft(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=tt);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[tt]:new vt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ut{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Vt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Vt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=jt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return jt(t,this._root).map(t=>t.value)}}function Vt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Vt(t,n);if(e)return e}return null}function jt(t,e){if(t===e.value)return[e];for(const n of e.children){const r=jt(t,n);if(r.length)return r.unshift(e),r}return[]}class Bt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function qt(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class zt extends Ut{constructor(t,e){super(t),this.snapshot=e,Wt(this,t)}toString(){return this.snapshot.toString()}}function Zt(t,e){const n=function(t,e){const n=new Gt([],{},{},"",{},tt,e,null,t.root,-1,{});return new Kt("",new Bt(n,[]))}(t,e),r=new l.X([new bt("",{})]),i=new l.X({}),s=new l.X({}),o=new l.X({}),a=new l.X(""),u=new $t(r,i,o,a,s,tt,e,n.root);return u.snapshot=n.root,new zt(new Bt(u,[]),n)}class $t{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,S.U)(t=>nt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,S.U)(t=>nt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ht(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gt{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kt extends Ut{constructor(t,e){super(e),this.url=t,Wt(this,e)}toString(){return Qt(this._root)}}function Wt(t,e){e.value._routerState=t,e.children.forEach(e=>Wt(t,e))}function Qt(t){const e=t.children.length>0?` { ${t.children.map(Qt).join(", ")} } `:"";return`${t.value}${e}`}function Yt(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ot(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ot(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ot(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ot(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jt(t,e){return ot(t.params,e.params)&&function(t,e){return wt(t,e)&&t.every((t,n)=>ot(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Jt(t.parent,e.parent))}function Xt(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Xt(t,e,r);return Xt(t,e)})}(t,e,n);return new Bt(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return te(e,t),t}}const n=function(t){return new $t(new l.X(t.url),new l.X(t.params),new l.X(t.queryParams),new l.X(t.fragment),new l.X(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(e=>Xt(t,e));return new Bt(n,r)}}function te(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)te(t.children[n],e.children[n])}function ee(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ne(t){return"object"==typeof t&&null!=t&&t.outlets}function re(t,e,n,r,i){let s={};return r&&lt(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new _t(n.root===t?e:ie(n.root,t,e),s,i)}function ie(t,e,n){const r={};return lt(t.children,(t,i)=>{r[i]=t===e?n:ie(t,e,n)}),new vt(t.segments,r)}class se{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ee(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ne);if(r&&r!==ct(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oe{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ae(t,e,n){if(t||(t=new vt([],{})),0===t.segments.length&&t.hasChildren())return ue(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(ne(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!de(a,u,e))return s;r+=2}else{if(!de(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new vt(t.segments.slice(0,r.pathIndex),{});return e.children[tt]=new vt(t.segments.slice(r.pathIndex),t.children),ue(e,0,i)}return r.match&&0===i.length?new vt(t.segments,{}):r.match&&!t.hasChildren()?ce(t,e,n):r.match?ue(t,0,i):ce(t,e,n)}function ue(t,e,n){if(0===n.length)return new vt(t.segments,{});{const r=function(t){return ne(t[0])?t[0].outlets:{[tt]:t}}(n),i={};return lt(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=ae(t.children[r],e,n))}),lt(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new vt(t.segments,i)}}function ce(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ne(s)){const t=le(s.outlets);return new vt(r,t)}if(0===i&&ee(n[0])){r.push(new bt(t.segments[e].path,he(n[0]))),i++;continue}const o=ne(s)?s.outlets[tt]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ee(a)?(r.push(new bt(o,he(a))),i+=2):(r.push(new bt(o,{})),i++)}return new vt(r,{})}function le(t){const e={};return lt(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ce(new vt([],{}),0,t))}),e}function he(t){const e={};return lt(t,(t,n)=>e[n]=`${t}`),e}function de(t,e,n){return t==n.path&&ot(e,n.parameters)}class fe{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Yt(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=qt(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),lt(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=qt(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=qt(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new J(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Q(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Yt(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),pe(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function pe(t){Yt(t.value),t.children.forEach(pe)}class ge{constructor(t,e){this.routes=t,this.module=e}}function me(t){return"function"==typeof t}function ye(t){return t instanceof _t}const _e=Symbol("INITIAL_VALUE");function ve(){return(0,I.w)(t=>(0,h.aj)(t.map(t=>t.pipe((0,A.q)(1),(0,O.O)(_e)))).pipe((0,D.R)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>t!==_e?t:(r===_e&&(n=!0),n||!1!==r&&i!==e.length-1&&!ye(r)?t:r),t)},_e),(0,m.h)(t=>t!==_e),(0,S.U)(t=>ye(t)?t:!0===t),(0,A.q)(1)))}let be=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i._UZ(0,"router-outlet")},directives:function(){return[mn]},encapsulation:2}),t})();function we(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ce(r,Ee(e,r))}}function Ce(t,e){t.children&&we(t.children,e)}function Ee(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Te(t){const e=t.children&&t.children.map(Te),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==tt&&(n.component=be),n}function Se(t){return t.outlet||tt}function Ie(t,e){const n=t.filter(t=>Se(t)===e);return n.push(...t.filter(t=>Se(t)!==e)),n}const Ae={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Oe(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ae):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||st)(n,t,e);if(!i)return Object.assign({},Ae);const s={};lt(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function De(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Pe(t,e,n)&&Se(n)!==tt)}(t,n,r)){const i=new vt(e,function(t,e,n,r){const i={};i[tt]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Se(s)!==tt){const n=new vt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Se(s)]=n}return i}(t,e,r,new vt(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Pe(t,e,n))}(t,n,r)){const s=new vt(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Pe(t,n,a)&&!i[Se(a)]){const n=new vt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Se(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new vt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Pe(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function ke(t,e,n,r){return!!(Se(t)===r||r!==tt&&Pe(e,n,t))&&("**"===t.path||Oe(e,t,n).matched)}function xe(t,e,n){return 0===e.length&&!t.children[n]}class Me{constructor(t){this.segmentGroup=t||null}}class Fe{constructor(t){this.urlTree=t}}function Re(t){return new s.y(e=>e.error(new Me(t)))}function Ne(t){return new s.y(e=>e.error(new Fe(t)))}function Le(t){return new s.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ue{constructor(t,e,n,r,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(i.h0i)}apply(){const t=De(this.urlTree.root,[],[],this.config).segmentGroup,e=new vt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,tt).pipe((0,S.U)(t=>this.createUrlTree(Ve(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,P.K)(t=>{if(t instanceof Fe)return this.allowRedirects=!1,this.match(t.urlTree);throw t instanceof Me?this.noMatchError(t):t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,tt).pipe((0,S.U)(e=>this.createUrlTree(Ve(e),t.queryParams,t.fragment))).pipe((0,P.K)(t=>{throw t instanceof Me?this.noMatchError(t):t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new vt([],{[tt]:t}):t;return new _t(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,S.U)(t=>new vt([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,o.D)(r).pipe((0,k.b)(r=>{const i=n.children[r],s=Ie(e,r);return this.expandSegmentGroup(t,s,i,r).pipe((0,S.U)(t=>({segment:t,outlet:r})))}),(0,D.R)((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?(0,m.h)((e,n)=>t(e,n,r)):b.y,(0,y.h)(1),n?(0,v.d)(e):(0,_.T)(()=>new d.K))}())}expandSegment(t,e,n,r,i,s){return(0,o.D)(n).pipe((0,k.b)(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe((0,P.K)(t=>{if(t instanceof Me)return(0,c.of)(null);throw t}))),(0,x.P)(t=>!!t),(0,P.K)((t,n)=>{if(t instanceof d.K||"EmptyError"===t.name){if(xe(e,r,i))return(0,c.of)(new vt([],{}));throw new Me(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return ke(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Re(e):Re(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ne(i):this.lineralizeSegments(n,i).pipe((0,M.zg)(n=>{const i=new vt(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Oe(e,r,i);if(!o)return Re(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ne(l):this.lineralizeSegments(r,l).pipe((0,M.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,c.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,S.U)(t=>(n._loadedConfig=t,new vt(r,{})))):(0,c.of)(new vt(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Oe(e,n,r);if(!s)return Re(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,M.zg)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:l}=De(e,o,u,s),h=new vt(a.segments,a.children);if(0===l.length&&h.hasChildren())return this.expandChildren(r,s,h).pipe((0,S.U)(t=>new vt(o,t)));if(0===s.length&&0===l.length)return(0,c.of)(new vt(o,{}));const d=Se(n)===i;return this.expandSegment(r,h,s,l,d?tt:i,!0).pipe((0,S.U)(t=>new vt(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,c.of)(new ge(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,c.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,M.zg)(n=>{return n?this.configLoader.load(t.injector,e).pipe((0,S.U)(t=>(e._loadedConfig=t,t))):(r=e,new s.y(t=>t.error(it(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))));var r})):(0,c.of)(new ge([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,c.of)(!0);const i=r.map(r=>{const i=t.get(r);let s;if((o=i)&&me(o.canLoad))s=i.canLoad(e,n);else{if(!me(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}var o;return ht(s)});return(0,c.of)(i).pipe(ve(),(0,F.b)(t=>{if(!ye(t))return;const e=it(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,S.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,c.of)(n);if(r.numberOfChildren>1||!r.children[tt])return Le(t.redirectTo);r=r.children[tt]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new _t(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return lt(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return lt(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new vt(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ve(t){const e={};for(const n of Object.keys(t.children)){const r=Ve(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children[tt]){const e=t.children[tt];return new vt(t.segments.concat(e.segments),e.children)}return t}(new vt(t.segments,e))}class je{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Be{constructor(t,e){this.component=t,this.route=e}}function qe(t,e,n){const r=t._root;return Ze(r,e?e._root:null,n,[r.value])}function ze(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ze(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=qt(e);return t.children.forEach(t=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!wt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wt(t.url,e.url)||!ot(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jt(t,e)||!ot(t.queryParams,e.queryParams);case"paramsChange":default:return!Jt(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new je(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ze(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Be(a.outlet.component,o))}else o&&$e(e,a,i),i.canActivateChecks.push(new je(r)),Ze(t,null,s.component?a?a.children:null:n,r,i)})(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),lt(s,(t,e)=>$e(t,n.getContext(e),i)),i}function $e(t,e,n){const r=qt(t),i=t.value;lt(r,(t,r)=>{$e(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Be(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class He{}function Ge(t){return new s.y(e=>e.error(t))}class Ke{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=De(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,tt);if(null===e)return null;const n=new Gt([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},tt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Bt(n,e),i=new Kt(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Ht(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Ie(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=Qe(n);return r.sort((t,e)=>t.value.outlet===tt?-1:e.value.outlet===tt?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return xe(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!ke(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?ct(n).parameters:{};i=new Gt(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xe(t),Se(t),t.component,t,Ye(e),Je(e)+n.length,tn(t))}else{const r=Oe(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Gt(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xe(t),Se(t),t.component,t,Ye(e),Je(e)+s.length,tn(t))}const a=(l=t).children?l.children:l.loadChildren?l._loadedConfig.routes:[],{segmentGroup:u,slicedSegments:c}=De(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);var l;if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Bt(i,t)]}if(0===a.length&&0===c.length)return[new Bt(i,[])];const h=Se(t)===r,d=this.processSegment(a,u,c,h?tt:r);return null===d?null:[new Bt(i,d)]}}function We(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Qe(t){const e=[],n=new Set;for(const r of t){if(!We(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Qe(r.children);e.push(new Bt(r.value,t))}return e.filter(t=>!n.has(t))}function Ye(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Je(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Xe(t){return t.data||{}}function tn(t){return t.resolve||{}}function en(t){return(0,I.w)(e=>{const n=t(e);return n?(0,o.D)(n).pipe((0,S.U)(()=>e)):(0,c.of)(e)})}class nn extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const rn=new i.OlP("ROUTES");class sn{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,S.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new ge(ut(r.injector.get(rn,void 0,i.XFs.Self|i.XFs.Optional)).map(Te),r)}),(0,P.K)(t=>{throw e._loader$=void 0,t}));return e._loader$=new p.c(n,()=>new g.xQ).pipe((0,R.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,o.D)(this.loader.load(t)):ht(t()).pipe((0,M.zg)(t=>t instanceof i.YKP?(0,c.of)(t):(0,o.D)(this.compiler.compileModuleAsync(t))))}}class on{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new an,this.attachRef=null}}class an{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new on,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class un{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function cn(t){throw t}function ln(t,e,n){return e.parse("/")}function hn(t,e){return(0,c.of)(null)}const dn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let pn=(()=>{class t{constructor(t,e,n,r,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new g.xQ,this.errorHandler=cn,this.malformedUriErrorHandler=ln,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hn,afterPreactivation:hn},this.urlHandlingStrategy=new un,this.routeReuseStrategy=new nn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(i.h0i),this.console=s.get(i.c2e);const c=s.get(i.R0b);this.isNgZoneEnabled=c instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new _t(new vt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new sn(o,a,t=>this.triggerEvent(new G(t)),t=>this.triggerEvent(new K(t))),this.routerState=Zt(this.currentUrlTree,this.rootComponentType),this.transitions=new l.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe((0,m.h)(t=>0!==t.id),(0,S.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),(0,I.w)(t=>{let n=!1,r=!1;return(0,c.of)(t).pipe((0,F.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,I.w)(t=>{const n=this.browserUrlTree.toString(),i=!this.navigated||t.extractedUrl.toString()!==n||n!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return gn(t.source)&&(this.browserUrlTree=t.extractedUrl),(0,c.of)(t).pipe((0,I.w)(t=>{const n=this.transitions.getValue();return e.next(new U(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?a.E:Promise.resolve(t)}),function(t,e,n,r){return(0,I.w)(i=>function(t,e,n,r,i){return new Ue(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe((0,S.U)(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,F.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,s){return(0,M.zg)(o=>function(t,e,n,i,s="emptyOnly",o="legacy"){try{const r=new Ke(t,e,n,i,s,o).recognize();return null===r?Ge(new He):(0,c.of)(r)}catch(r){return Ge(r)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,s).pipe((0,S.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,F.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new q(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new U(n,this.serializeUrl(r),i,s);e.next(a);const u=Zt(r,this.rootComponentType).snapshot;return(0,c.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),a.E}),en(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,F.b)(t=>{const e=new z(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,S.U)(t=>Object.assign(Object.assign({},t),{guards:qe(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,M.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=n;return 0===a.length&&0===s.length?(0,c.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,o.D)(t).pipe((0,M.zg)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,c.of)(!0);const o=s.map(s=>{const o=ze(s,e,i);let a;if(function(t){return t&&me(t.canDeactivate)}(o))a=ht(o.canDeactivate(t,e,n,r));else{if(!me(o))throw new Error("Invalid CanDeactivate guard");a=ht(o(t,e,n,r))}return a.pipe((0,x.P)())});return(0,c.of)(o).pipe(ve())}(t.component,t.route,n,e,r)),(0,x.P)(t=>!0!==t,!0))}(a,r,i,t).pipe((0,M.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,o.D)(e).pipe((0,k.b)(e=>(0,f.z)(function(t,e){return null!==t&&e&&e(new W(t)),(0,c.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Y(t)),(0,c.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>u(()=>{const i=e.guards.map(i=>{const s=ze(i,e.node,n);let o;if(function(t){return t&&me(t.canActivateChild)}(s))o=ht(s.canActivateChild(r,t));else{if(!me(s))throw new Error("Invalid CanActivateChild guard");o=ht(s(r,t))}return o.pipe((0,x.P)())});return(0,c.of)(i).pipe(ve())}));return(0,c.of)(i).pipe(ve())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,c.of)(!0);const i=r.map(r=>u(()=>{const i=ze(r,e,n);let s;if(function(t){return t&&me(t.canActivate)}(i))s=ht(i.canActivate(e,t));else{if(!me(i))throw new Error("Invalid CanActivate guard");s=ht(i(e,t))}return s.pipe((0,x.P)())}));return(0,c.of)(i).pipe(ve())}(t,e.route,n))),(0,x.P)(t=>!0!==t,!0))}(r,s,t,e):(0,c.of)(n)),(0,S.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,F.b)(t=>{if(ye(t.guardsResult)){const e=it(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Z(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),(0,m.h)(t=>!!t.guardsResult||(this.restoreHistory(t),this.cancelNavigationTransition(t,""),!1)),en(t=>{if(t.guards.canActivateChecks.length)return(0,c.of)(t).pipe((0,F.b)(t=>{const e=new $(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,I.w)(t=>{let e=!1;return(0,c.of)(t).pipe(function(t,e){return(0,M.zg)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return(0,c.of)(n);let s=0;return(0,o.D)(i).pipe((0,k.b)(n=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,c.of)({});const s={};return(0,o.D)(i).pipe((0,M.zg)(i=>function(t,e,n,r){const i=ze(t,e,r);return ht(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,F.b)(t=>{s[i]=t}))),(0,y.h)(1),(0,M.zg)(()=>Object.keys(s).length===i.length?(0,c.of)(s):a.E))}(t._resolve,t,e,r).pipe((0,S.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Ht(t,n).resolve),null)))}(n.route,r,t,e)),(0,F.b)(()=>s++),(0,y.h)(1),(0,M.zg)(t=>s===i.length?(0,c.of)(n):a.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,F.b)({next:()=>e=!0,complete:()=>{e||(this.restoreHistory(t),this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value."))}}))}),(0,F.b)(t=>{const e=new H(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),en(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,S.U)(t=>{const e=function(t,e,n){const r=Xt(t,e._root,n?n._root:void 0);return new zt(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,F.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(t.urlAfterRedirects,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),((t,e,n)=>(0,S.U)(r=>(new fe(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),(0,F.b)({next(){n=!0},complete(){n=!0}}),function(t){return e=>e.lift(new E(t))}(()=>{if(!n&&!r){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(t),this.cancelNavigationTransition(t,e)):this.cancelNavigationTransition(t,e)}this.currentNavigation=null}),(0,P.K)(n=>{if(r=!0,function(t){return t&&t[rt]}(n)){const r=ye(n.url);r||(this.navigated=!0,this.restoreHistory(t,!0));const i=new j(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree),r={skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gn(t.source)};this.scheduleNavigation(e,"imperative",null,r,{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.restoreHistory(t,!0);const r=new B(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return a.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return e.transitionId!==t.transitionId||!n||!("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){we(t),this.config=t.map(Te),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return re(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new se(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return lt(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new se(n,e,r)}(n);if(s.toRoot())return re(e.root,new vt([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new oe(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new oe(t,t===e.root,0)}const r=ee(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new oe(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?ue(o.segmentGroup,o.index,s.commands):ae(o.segmentGroup,o.index,s.commands);return re(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=ye(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},dn):!1===e?Object.assign({},fn):e,ye(t))return pt(this.currentUrlTree,t,n);const r=this.parseUrl(t);return pt(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new V(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,e,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),u=gn(e)&&a&&!gn(a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(u&&c)return Promise.resolve(!0);let l,h,d;i?(l=i.resolve,h=i.reject,d=i.promise):d=new Promise((t,e)=>{l=t,h=e});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(t,e=!1){var n,r;if("computed"===this.canceledNavigationResolution){const e=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===e?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===e&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(e)}else"replace"===this.canceledNavigationResolution&&(e&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){const n=new j(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.DyG),i.LFG(Ct),i.LFG(an),i.LFG(r.Ye),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function gn(t){return"imperative"!==t}let mn=(()=>{class t{constructor(t,e,n,r,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=r||tt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new yn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(an),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class yn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===$t?this.route:t===an?this.childContexts:this.parent.get(t,e)}}class _n{}class vn{preload(t,e){return(0,c.of)(null)}}let bn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new sn(e,n,e=>t.triggerEvent(new G(e)),e=>t.triggerEvent(new K(e)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,m.h)(t=>t instanceof V),(0,k.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,o.D)(n).pipe((0,N.J)(),(0,S.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,c.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,M.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(pn),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(_n))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),wn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof U?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof V&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof X&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new X(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(pn),i.LFG(r.EM),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Cn=new i.OlP("ROUTER_CONFIGURATION"),En=new i.OlP("ROUTER_FORROOT_GUARD"),Tn=[r.Ye,{provide:Ct,useClass:Et},{provide:pn,useFactory:function(t,e,n,r,i,s,o,a={},u,c){const l=new pn(null,t,e,n,r,i,s,ut(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Ct,an,r.Ye,i.zs3,i.v3s,i.Sil,rn,Cn,[class{},new i.FiY],[class{},new i.FiY]]},an,{provide:$t,useFactory:function(t){return t.routerState.root},deps:[pn]},{provide:i.v3s,useClass:i.EAV},bn,vn,class{preload(t,e){return e().pipe((0,P.K)(()=>(0,c.of)(null)))}},{provide:Cn,useValue:{enableTracing:!1}}];function Sn(){return new i.PXZ("Router",pn)}let In=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Tn,Pn(e),{provide:En,useFactory:Dn,deps:[[pn,new i.FiY,new i.tp0]]},{provide:Cn,useValue:n||{}},{provide:r.S$,useFactory:On,deps:[r.lw,[new i.tBr(r.mr),new i.FiY],Cn]},{provide:wn,useFactory:An,deps:[pn,r.EM,Cn]},{provide:_n,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:vn},{provide:i.PXZ,multi:!0,useFactory:Sn},[kn,{provide:i.ip1,multi:!0,useFactory:xn,deps:[kn]},{provide:Fn,useFactory:Mn,deps:[kn]},{provide:i.tb,multi:!0,useExisting:Fn}]]}}static forChild(e){return{ngModule:t,providers:[Pn(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(En,8),i.LFG(pn,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();function An(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new wn(t,e,n)}function On(t,e,n={}){return n.useHash?new r.Do(t,e):new r.b0(t,e)}function Dn(t){return"guarded"}function Pn(t){return[{provide:i.deG,multi:!0,useValue:t},{provide:rn,multi:!0,useValue:t}]}let kn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new g.xQ}appInitializer(){return this.injector.get(r.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(pn),r=this.injector.get(Cn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,c.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Cn),n=this.injector.get(bn),r=this.injector.get(wn),s=this.injector.get(pn),o=this.injector.get(i.z2F);t===o.components[0]&&(("enabledNonBlocking"===e.initialNavigation||void 0===e.initialNavigation)&&s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();function xn(t){return t.appInitializer.bind(t)}function Mn(t){return t.bootstrapListener.bind(t)}const Fn=new i.OlP("Router Initializer")},4486:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var r=n(3854),i=n(6034),s=n(5452),o=n(5601);class a{constructor(t,e){this._delegate=t,this.firebase=e,(0,s._addComponent)(t,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(t,e=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return!r.isInitialized()&&"EXPLICIT"===(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)&&r.initialize(),r.getImmediate({identifier:e})}_removeServiceInstance(t,e=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){(0,s._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){(0,s._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const u=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function t(){const e=function(t){const e={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(e,a.name))return e[a.name];const u=new t(a,n);return e[a.name]=u,u},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(e){const o=e.name,a=o.replace("-compat","");if(s._registerComponent(e)&&"PUBLIC"===e.type){const s=(t=i())=>{if("function"!=typeof t[a])throw u.create("invalid-app-argument",{appName:o});return t[a]()};void 0!==e.serviceProps&&(0,r.ZB)(s,e.serviceProps),n[a]=s,t.prototype[a]=function(...t){return this._getService.bind(this,o).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?n[a]:null},removeApp:function(t){delete e[t]},useAsService:function(t,e){return"serverAuth"===e?null:e},modularAPIs:s}};function i(t){if(!(0,r.r3)(e,t=t||s._DEFAULT_ENTRY_NAME))throw u.create("no-app",{appName:t});return e[t]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(e).map(t=>e[t])}}),i.App=t,n}(a);return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,r.ZB)(e,t)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),e}(),l=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.6",undefined)},5452:function(t,e,n){"use strict";n.r(e),n.d(e,{FirebaseError:function(){return o.ZR},SDK_VERSION:function(){return E},_DEFAULT_ENTRY_NAME:function(){return h},_addComponent:function(){return g},_addOrOverwriteComponent:function(){return m},_apps:function(){return f},_clearComponents:function(){return b},_components:function(){return p},_getProvider:function(){return _},_registerComponent:function(){return y},_removeServiceInstance:function(){return v},deleteApp:function(){return A},getApp:function(){return S},getApps:function(){return I},initializeApp:function(){return T},onLog:function(){return P},registerVersion:function(){return D},setLogLevel:function(){return k}});var r=n(8239),i=n(6034),s=n(5601),o=n(3854);class a{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const u="@firebase/app",c="0.7.5",l=new s.Yd("@firebase/app"),h="[DEFAULT]",d={[u]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},f=new Map,p=new Map;function g(t,e){try{t.container.addComponent(e)}catch(n){l.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function m(t,e){t.container.addOrOverwriteComponent(e)}function y(t){const e=t.name;if(p.has(e))return l.debug(`There were multiple attempts to register component ${e}.`),!1;p.set(e,t);for(const n of f.values())g(n,t);return!0}function _(t,e){return t.container.getProvider(e)}function v(t,e,n=h){_(t,e).clearInstance(n)}function b(){p.clear()}const w=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class C{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const E="9.2.0";function T(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:h,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw w.create("bad-app-name",{appName:String(r)});const s=f.get(r);if(s){if((0,o.vZ)(t,s.options)&&(0,o.vZ)(n,s.config))return s;throw w.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of p.values())a.addComponent(i);const u=new C(t,n,a);return f.set(r,u),u}function S(t=h){const e=f.get(t);if(!e)throw w.create("no-app",{appName:t});return e}function I(){return Array.from(f.values())}function A(t){return O.apply(this,arguments)}function O(){return(O=(0,r.Z)(function*(t){const e=t.name;f.has(e)&&(f.delete(e),yield Promise.all(t.container.getProviders().map(t=>t.delete())),t.isDeleted=!0)})).apply(this,arguments)}function D(t,e,n){var r;let s=null!==(r=d[t])&&void 0!==r?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${s}" with version "${e}":`];return o&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void l.warn(t.join(" "))}y(new i.wA(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function P(t,e){if(null!==t&&"function"!=typeof t)throw w.create("invalid-log-argument");(0,s.Am)(t,e)}function k(t){(0,s.Ub)(t)}y(new i.wA("platform-logger",t=>new a(t),"PRIVATE")),D(u,c,""),D(u,c,"esm2017"),D("fire-js","")},209:function(t,e,n){"use strict";n.d(e,{$:function(){return Xe},A:function(){return l},E:function(){return kt},G:function(){return Ft},I:function(){return re},K:function(){return ft},L:function(){return de},M:function(){return me},N:function(){return ye},P:function(){return jr},Q:function(){return _e},R:function(){return Or},T:function(){return ge},V:function(){return be},W:function(){return Se},X:function(){return je},Y:function(){return qe},Z:function(){return Ze},_:function(){return Ke},a:function(){return Yn},a0:function(){return en},a1:function(){return rn},a2:function(){return on},a3:function(){return un},a4:function(){return ln},a5:function(){return dn},a6:function(){return fn},a7:function(){return gn},a8:function(){return mn},a9:function(){return bn},aA:function(){return _i},aB:function(){return ai},aC:function(){return Dt},aG:function(){return Xn},aJ:function(){return ve},aa:function(){return Cn},ab:function(){return Tn},ae:function(){return On},af:function(){return Pn},ag:function(){return kn},aj:function(){return Pe},ak:function(){return jn},am:function(){return zn},an:function(){return Gn},ao:function(){return St},ap:function(){return E},aq:function(){return Tt},ar:function(){return wt},as:function(){return m},at:function(){return qi},au:function(){return Si},av:function(){return y},aw:function(){return w},ax:function(){return S},ay:function(){return pt},az:function(){return Ci},b:function(){return Qn},c:function(){return Wr},d:function(){return Xr},e:function(){return Yr},f:function(){return li},g:function(){return pi},h:function(){return di},i:function(){return pr},j:function(){return mi},k:function(){return Zi},l:function(){return xr},m:function(){return Hi},n:function(){return Qi},o:function(){return c},r:function(){return Fr},s:function(){return Pr},u:function(){return Ur},z:function(){return h}});var r=n(8239),i=n(3854),s=n(5452),o=n(4762),a=n(5601),u=n(6034);const c={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},l={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const h=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},d=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},f=new i.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),p=new a.Yd("@firebase/auth");function g(t,...e){p.logLevel<=a.in.ERROR&&p.error(`Auth (${s.SDK_VERSION}): ${t}`,...e)}function m(t,...e){throw b(t,...e)}function y(t,...e){return b(t,...e)}function _(t,e,n){const r=Object.assign(Object.assign({},d()),{[e]:n});return new i.LL("auth","Firebase",r).create(e,{appName:t.name})}function v(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&m(t,"argument-error"),_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function b(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f.create(t,...e)}function w(t,e,...n){if(!t)throw b(e,...n)}function C(t){const e="INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function E(t,e){t||C(e)}const T=new Map;function S(t){E(t instanceof Function,"Expected a class definition");let e=T.get(t);return e?(E(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,T.set(t,e),e)}function I(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function A(){return"http:"===O()||"https:"===O()}function O(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class D{constructor(t,e){this.shortDelay=t,this.longDelay=e,E(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(A()||(0,i.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function P(t,e){E(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class k{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void C("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void C("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void C("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},M=new D(3e4,6e4);function F(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function R(t,e,n,r){return N.apply(this,arguments)}function N(){return(N=(0,r.Z)(function*(t,e,n,r,s={}){return L(t,s,()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=(0,i.xO)(Object.assign({key:t.config.apiKey},o)).slice(1),u=new(k.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),k.fetch()(B(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})})).apply(this,arguments)}function L(t,e,n){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},x),e);try{const e=new q(t),i=yield Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw z(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw z(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw z(t,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw _(t,a,o);m(t,a)}}catch(s){if(s instanceof i.ZR)throw s;m(t,"network-request-failed")}})).apply(this,arguments)}function V(t,e,n,r){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(function*(t,e,n,r,i={}){const s=yield R(t,e,n,r,i);return"mfaPendingCredential"in s&&m(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function B(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?P(t.config,i):`${t.config.apiScheme}://${i}`}class q{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(y(this.auth,"timeout")),M.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function z(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=y(t,e,r);return i.customData._tokenResponse=n,i}function Z(){return(Z=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function $(t,e){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function G(t,e){return K.apply(this,arguments)}function K(){return(K=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function W(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Q(){return(Q=(0,r.Z)(function*(t,e=!1){const n=(0,i.m9)(t),r=yield n.getIdToken(e),s=J(r);w(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:W(Y(s.auth_time)),issuedAtTime:W(Y(s.iat)),expirationTime:W(Y(s.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function Y(t){return 1e3*Number(t)}function J(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return g("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,i.tV)(n);return t?JSON.parse(t):(g("Failed to decode base64 JWT payload"),null)}catch(s){return g("Caught error parsing JWT payload as JSON",s),null}}function X(t,e){return tt.apply(this,arguments)}function tt(){return(tt=(0,r.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof i.ZR&&et(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function et({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class nt{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout((0,r.Z)(function*(){yield e.iteration()}),n)}iteration(){var t=this;return(0,r.Z)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&t.schedule(!0))}t.schedule()})()}}class rt{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=W(this.lastLoginAt),this.creationTime=W(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function it(t){return st.apply(this,arguments)}function st(){return(st=(0,r.Z)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield X(t,G(n,{idToken:r}));w(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?ut(s.providerUserInfo):[],a=at(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rt(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,c)})).apply(this,arguments)}function ot(){return(ot=(0,r.Z)(function*(t){const e=(0,i.m9)(t);yield it(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function at(t,e){return[...t.filter(t=>!e.some(e=>e.providerId===t.providerId)),...e]}function ut(t){return t.map(t=>{var{providerId:e}=t,n=(0,o._T)(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ct(){return(ct=(0,r.Z)(function*(t,e){const n=yield L(t,{},()=>{const n=(0,i.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=B(t,r,"/v1/token",`key=${s}`);return k.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){w(t.idToken,"internal-error"),w(void 0!==t.idToken,"internal-error"),w(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=J(t);return w(e,"internal-error"),w(void 0!==e.exp,"internal-error"),w(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var n=this;return(0,r.Z)(function*(){return w(!n.accessToken||n.refreshToken,t,"user-token-expired"),e||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(t,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(t,e){return ct.apply(this,arguments)}(t,e);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new lt;return n&&(w("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(w("string"==typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(w("number"==typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lt,this.toJSON())}_performRefresh(){return C("not implemented")}}function ht(t,e){w("string"==typeof t||void 0===t,"internal-error",{appName:e})}class dt{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=(0,o._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new nt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new rt(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,r.Z)(function*(){const n=yield X(e,e.stsTokenManager.getToken(e.auth,t));return w(n,e.auth,"internal-error"),e.accessToken!==n&&(e.accessToken=n,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),n})()}getIdTokenResult(t){return function(t){return Q.apply(this,arguments)}(this,t)}reload(){return function(t){return ot.apply(this,arguments)}(this)}_assign(t){this!==t&&(w(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>Object.assign({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new dt(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var n=this;return(0,r.Z)(function*(){let r=!1;t.idToken&&t.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield it(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var t=this;return(0,r.Z)(function*(){const e=yield t.getIdToken();return yield X(t,function(t,e){return Z.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,o,a,u,c;const l=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,g=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,m=null!==(u=e.createdAt)&&void 0!==u?u:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:v,isAnonymous:b,providerData:C,stsTokenManager:E}=e;w(_&&E,t,"internal-error");const T=lt.fromJSON(this.name,E);w("string"==typeof _,t,"internal-error"),ht(l,t.name),ht(h,t.name),w("boolean"==typeof v,t,"internal-error"),w("boolean"==typeof b,t,"internal-error"),ht(d,t.name),ht(f,t.name),ht(p,t.name),ht(g,t.name),ht(m,t.name),ht(y,t.name);const S=new dt({uid:_,auth:t,email:h,emailVerified:v,displayName:l,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:m,lastLoginAt:y});return C&&Array.isArray(C)&&(S.providerData=C.map(t=>Object.assign({},t))),g&&(S._redirectEventId=g),S}static _fromIdTokenResponse(t,e,n=!1){return(0,r.Z)(function*(){const r=new lt;r.updateFromServerResponse(e);const i=new dt({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return yield it(i),i})()}}const ft=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(t,e){var n=this;return(0,r.Z)(function*(){n.storage[t]=e})()}_get(t){var e=this;return(0,r.Z)(function*(){const n=e.storage[t];return void 0===n?null:n})()}_remove(t){var e=this;return(0,r.Z)(function*(){delete e.storage[t]})()}_addListener(t,e){}_removeListener(t,e){}}return t.type="NONE",t})();function pt(t,e,n){return`firebase:${t}:${e}:${n}`}class gt{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=pt(this.userKey,r.apiKey,i),this.fullPersistenceKey=pt("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,r.Z)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?dt._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,r.Z)(function*(){if(e.persistence===t)return;const n=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,n?e.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return(0,r.Z)(function*(){if(!e.length)return new gt(S(ft),t,n);const i=(yield Promise.all(e.map(function(){var t=(0,r.Z)(function*(t){if(yield t._isAvailable())return t});return function(e){return t.apply(this,arguments)}}()))).filter(t=>t);let s=i[0]||S(ft);const o=pt(n,t.config.apiKey,t.name);let a=null;for(const n of e)try{const e=yield n._get(o);if(e){const r=dt._fromJSON(t,e);n!==s&&(a=r),s=n;break}}catch(c){}const u=i.filter(t=>t._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var t=(0,r.Z)(function*(t){if(t!==s)try{yield t._remove(o)}catch(e){}});return function(e){return t.apply(this,arguments)}}())),new gt(s,t,n)):new gt(s,t,n)})()}}function mt(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bt(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yt(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ct(e))return"Blackberry";if(Et(e))return"Webos";if(_t(e))return"Safari";if((e.includes("chrome/")||vt(e))&&!e.includes("edge/"))return"Chrome";if(wt(e))return"Android";{const e=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==e?void 0:e.length))return e[1]}return"Other"}function yt(t=(0,i.z$)()){return/firefox\//i.test(t)}function _t(t=(0,i.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vt(t=(0,i.z$)()){return/crios\//i.test(t)}function bt(t=(0,i.z$)()){return/iemobile/i.test(t)}function wt(t=(0,i.z$)()){return/android/i.test(t)}function Ct(t=(0,i.z$)()){return/blackberry/i.test(t)}function Et(t=(0,i.z$)()){return/webos/i.test(t)}function Tt(t=(0,i.z$)()){return/iphone|ipad|ipod/i.test(t)}function St(t=(0,i.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function It(t=(0,i.z$)()){return Tt(t)||wt(t)||Et(t)||Ct(t)||/windows phone/i.test(t)||bt(t)}function At(t,e=[]){let n;switch(t){case"Browser":n=mt((0,i.z$)());break;case"Worker":n=`${mt((0,i.z$)())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${s.SDK_VERSION}/${r}`}class Ot{constructor(t,e){this.app=t,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pt(this),this.idTokenSubscription=new Pt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,e){var n=this;return e&&(this._popupRedirectResolver=S(e)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r;n._deleted||(n.persistenceManager=yield gt.create(n,t),!n._deleted&&((null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(e),!n._deleted&&(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,r.Z)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e)}})()}initializeCurrentUser(t){var e=this;return(0,r.Z)(function*(){var n;let r=yield e.assertedPersistence.getCurrentUser();if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const i=null===(n=e.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield e.tryRedirectSignIn(t);(!i||i===s)&&(null==o?void 0:o.user)&&(r=o.user)}return r?r._redirectEventId?(w(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===r._redirectEventId?e.directlySetCurrentUser(r):e.reloadAndSetCurrentUserOrClear(r)):e.reloadAndSetCurrentUserOrClear(r):e.directlySetCurrentUser(null)})()}tryRedirectSignIn(t){var e=this;return(0,r.Z)(function*(){let n=null;try{n=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch(r){yield e._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,r.Z)(function*(){try{yield it(t)}catch(n){if("auth/network-request-failed"!==n.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var t=this;return(0,r.Z)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,r.Z)(function*(){const n=t?(0,i.m9)(t):null;return n&&w(n.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(n&&n._clone(e))})()}_updateCurrentUser(t){var e=this;return(0,r.Z)(function*(){if(!e._deleted)return t&&w(e.tenantId===t.tenantId,e,"tenant-id-mismatch"),e.queue((0,r.Z)(function*(){yield e.directlySetCurrentUser(t),e.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,r.Z)(function*(){return(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null)})()}setPersistence(t){var e=this;return this.queue((0,r.Z)(function*(){yield e.assertedPersistence.setPersistence(S(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new i.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,r.Z)(function*(){if(!e.redirectPersistenceManager){const n=t&&S(t)||e._popupRedirectResolver;w(n,e,"argument-error"),e.redirectPersistenceManager=yield gt.create(e,[S(n._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,r.Z)(function*(){var n,i;return e._isInitialized&&(yield e.queue((0,r.Z)(function*(){}))),(null===(n=e._currentUser)||void 0===n?void 0:n._redirectEventId)===t?e._currentUser:(null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,r.Z)(function*(){if(t===e.currentUser)return e.queue((0,r.Z)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"==typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return w(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof e?t.addObserver(e,n,r):t.addObserver(e)}directlySetCurrentUser(t){var e=this;return(0,r.Z)(function*(){e.currentUser&&e.currentUser!==t&&(e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh()),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=At(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Dt(t){return(0,i.m9)(t)}class Pt{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,i.ne)(t=>this.observer=t)}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kt(t,e,n){const r=Dt(t);w(r._canInitEmulator,r,"emulator-config-failed"),w(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=xt(e),{host:o,port:a}=function(t){const e=xt(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:Mt(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:Mt(e)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function xt(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Mt(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Ft{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return C("not implemented")}_getIdTokenResponse(t){return C("not implemented")}_linkToIdToken(t,e){return C("not implemented")}_getReauthenticationResolver(t){return C("not implemented")}}function Rt(t,e){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:resetPassword",F(t,e))})).apply(this,arguments)}function Lt(t,e){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Vt(t,e){return jt.apply(this,arguments)}function jt(){return(jt=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:update",F(t,e))})).apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithPassword",F(t,e))})).apply(this,arguments)}function qt(t,e){return zt.apply(this,arguments)}function zt(){return(zt=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:sendOobCode",F(t,e))})).apply(this,arguments)}function Zt(t,e){return $t.apply(this,arguments)}function $t(){return($t=(0,r.Z)(function*(t,e){return qt(t,e)})).apply(this,arguments)}function Ht(t,e){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,r.Z)(function*(t,e){return qt(t,e)})).apply(this,arguments)}function Kt(t,e){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(t,e){return qt(t,e)})).apply(this,arguments)}function Qt(t,e){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(t,e){return qt(t,e)})).apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithEmailLink",F(t,e))})).apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithEmailLink",F(t,e))})).apply(this,arguments)}class te extends Ft{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new te(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new te(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,r.Z)(function*(){switch(e.signInMethod){case"password":return function(t,e){return Bt.apply(this,arguments)}(t,{returnSecureToken:!0,email:e._email,password:e._password});case"emailLink":return function(t,e){return Jt.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:m(t,"internal-error")}})()}_linkToIdToken(t,e){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Lt(t,{idToken:e,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return Xt.apply(this,arguments)}(t,{idToken:e,email:n._email,oobCode:n._password});default:m(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function ee(t,e){return ne.apply(this,arguments)}function ne(){return(ne=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithIdp",F(t,e))})).apply(this,arguments)}class re extends Ft{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new re(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):m("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=(0,o._T)(e,["providerId","signInMethod"]);if(!n||!r)return null;const s=new re(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){return ee(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,ee(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ee(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,i.xO)(e)}return t}}function ie(t,e){return se.apply(this,arguments)}function se(){return(se=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:sendVerificationCode",F(t,e))})).apply(this,arguments)}function oe(){return(oe=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithPhoneNumber",F(t,e))})).apply(this,arguments)}function ae(){return(ae=(0,r.Z)(function*(t,e){const n=yield V(t,"POST","/v1/accounts:signInWithPhoneNumber",F(t,e));if(n.temporaryProof)throw z(t,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const ue={USER_NOT_FOUND:"user-not-found"};function ce(){return(ce=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithPhoneNumber",F(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),ue)})).apply(this,arguments)}class le extends Ft{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new le({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new le({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return function(t,e){return oe.apply(this,arguments)}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return function(t,e){return ae.apply(this,arguments)}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return function(t,e){return ce.apply(this,arguments)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new le({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class he{constructor(t){var e,n,r,s,o,a;const u=(0,i.zd)((0,i.pd)(t)),c=null!==(e=u.apiKey)&&void 0!==e?e:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,h=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=u.mode)&&void 0!==r?r:null);w(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=(0,i.zd)((0,i.pd)(t)).link,n=e?(0,i.zd)((0,i.pd)(e)).deep_link_id:null,r=(0,i.zd)((0,i.pd)(t)).deep_link_id;return(r?(0,i.zd)((0,i.pd)(r)).link:null)||r||n||e||t}(t);try{return new he(e)}catch(n){return null}}}let de=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(t,e){return te._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=he.parseLink(e);return w(n,"argument-error"),te._fromEmailAndCode(t,n.code,n.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class fe{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class pe extends fe{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ge extends pe{static credentialFromJSON(t){const e="string"==typeof t?JSON.parse(t):t;return w("providerId"in e&&"signInMethod"in e,"argument-error"),re._fromParams(e)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return w(t.idToken||t.accessToken,"argument-error"),re._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return ge.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return ge.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=t;if(!n&&!r&&!e&&!i||!o)return null;try{return new ge(o)._credential({idToken:e,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let me=(()=>{class t extends pe{constructor(){super("facebook.com")}static credential(e){return re._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch(n){return null}}}return t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com",t})(),ye=(()=>{class t extends pe{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return re._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return t.credential(n,r)}catch(i){return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})(),_e=(()=>{class t extends pe{constructor(){super("github.com")}static credential(e){return re._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch(n){return null}}}return t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com",t})();class ve extends Ft{constructor(t,e){super(t,t),this.pendingToken=e}_getIdTokenResponse(t){return ee(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,ee(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ee(t,e)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r,pendingToken:i}=e;return n&&r&&i&&n===r?new ve(n,i):null}static _create(t,e){return new ve(t,e)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let be=(()=>{class t extends pe{constructor(){super("twitter.com")}static credential(e,n){return re._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return t.credential(n,r)}catch(i){return null}}}return t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com",t})();function we(t,e){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signUp",F(t,e))})).apply(this,arguments)}class Ee{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,n,i=!1){return(0,r.Z)(function*(){const r=yield dt._fromIdTokenResponse(t,n,i),s=Te(n);return new Ee({user:r,providerId:s,_tokenResponse:n,operationType:e})})()}static _forOperation(t,e,n){return(0,r.Z)(function*(){yield t._updateTokensIfNecessary(n,!0);const r=Te(n);return new Ee({user:t,providerId:r,_tokenResponse:n,operationType:e})})()}}function Te(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function Se(t){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,r.Z)(function*(t){var e;const n=Dt(t);if(yield n._initializationPromise,null===(e=n.currentUser)||void 0===e?void 0:e.isAnonymous)return new Ee({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield we(n,{returnSecureToken:!0}),i=yield Ee._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Ae extends i.ZR{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ae.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new Ae(t,e,n,r)}}function Oe(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(n=>{throw"auth/multi-factor-auth-required"===n.code?Ae._fromErrorAndOperation(t,n,e,r):n})}function De(t){return new Set(t.map(({providerId:t})=>t).filter(t=>!!t))}function Pe(t,e){return ke.apply(this,arguments)}function ke(){return(ke=(0,r.Z)(function*(t,e){const n=(0,i.m9)(t);yield Fe(!0,n,e);const{providerUserInfo:r}=yield $(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),s=De(r||[]);return n.providerData=n.providerData.filter(t=>s.has(t.providerId)),s.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function xe(t,e){return Me.apply(this,arguments)}function Me(){return(Me=(0,r.Z)(function*(t,e,n=!1){const r=yield X(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ee._forOperation(t,"link",r)})).apply(this,arguments)}function Fe(t,e,n){return Re.apply(this,arguments)}function Re(){return(Re=(0,r.Z)(function*(t,e,n){yield it(e);const r=!1===t?"provider-already-linked":"no-such-provider";w(De(e.providerData).has(n)===t,e.auth,r)})).apply(this,arguments)}function Ne(t,e){return Le.apply(this,arguments)}function Le(){return(Le=(0,r.Z)(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield X(t,Oe(r,i,e,t),n);w(s.idToken,r,"internal-error");const o=J(s.idToken);w(o,r,"internal-error");const{sub:a}=o;return w(t.uid===a,r,"user-mismatch"),Ee._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&m(r,"user-mismatch"),s}})).apply(this,arguments)}function Ue(t,e){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(function*(t,e,n=!1){const r="signIn",i=yield Oe(t,r,e),s=yield Ee._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function je(t,e){return Be.apply(this,arguments)}function Be(){return(Be=(0,r.Z)(function*(t,e){return Ue(Dt(t),e)})).apply(this,arguments)}function qe(t,e){return ze.apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(t,e){const n=(0,i.m9)(t);return yield Fe(!1,n,e.providerId),xe(n,e)})).apply(this,arguments)}function Ze(t,e){return $e.apply(this,arguments)}function $e(){return($e=(0,r.Z)(function*(t,e){return Ne((0,i.m9)(t),e)})).apply(this,arguments)}function He(t,e){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,r.Z)(function*(t,e){return V(t,"POST","/v1/accounts:signInWithCustomToken",F(t,e))})).apply(this,arguments)}function Ke(t,e){return We.apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(t,e){const n=Dt(t),r=yield He(n,{token:e,returnSecureToken:!0}),i=yield Ee._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Qe{constructor(t,e){this.factorId=t,this.uid=e.mfaEnrollmentId,this.enrollmentTime=new Date(e.enrolledAt).toUTCString(),this.displayName=e.displayName}static _fromServerResponse(t,e){return"phoneInfo"in e?Ye._fromServerResponse(t,e):m(t,"internal-error")}}class Ye extends Qe{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,e){return new Ye(e)}}function Je(t,e,n){var r;w((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),w(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(w(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(w(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function Xe(t,e,n){return tn.apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t),s={requestType:"PASSWORD_RESET",email:e};n&&Je(r,s,n),yield Ht(r,s)})).apply(this,arguments)}function en(t,e,n){return nn.apply(this,arguments)}function nn(){return(nn=(0,r.Z)(function*(t,e,n){yield Rt((0,i.m9)(t),{oobCode:e,newPassword:n})})).apply(this,arguments)}function rn(t,e){return sn.apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(t,e){yield Vt((0,i.m9)(t),{oobCode:e})})).apply(this,arguments)}function on(t,e){return an.apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(t,e){const n=(0,i.m9)(t),r=yield Rt(n,{oobCode:e}),s=r.requestType;switch(w(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":w(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":w(r.mfaInfo,n,"internal-error");default:w(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Qe._fromServerResponse(Dt(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}})).apply(this,arguments)}function un(t,e){return cn.apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(t,e){const{data:n}=yield on((0,i.m9)(t),e);return n.email})).apply(this,arguments)}function ln(t,e,n){return hn.apply(this,arguments)}function hn(){return(hn=(0,r.Z)(function*(t,e,n){const r=Dt(t),i=yield we(r,{returnSecureToken:!0,email:e,password:n}),s=yield Ee._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function dn(t,e,n){return je((0,i.m9)(t),de.credential(e,n))}function fn(t,e,n){return pn.apply(this,arguments)}function pn(){return(pn=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t),s={requestType:"EMAIL_SIGNIN",email:e};w(n.handleCodeInApp,r,"argument-error"),n&&Je(r,s,n),yield Kt(r,s)})).apply(this,arguments)}function gn(t,e){const n=he.parseLink(e);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}function mn(t,e,n){return yn.apply(this,arguments)}function yn(){return(yn=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t),s=de.credentialWithLink(e,n||I());return w(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),je(r,s)})).apply(this,arguments)}function _n(t,e){return vn.apply(this,arguments)}function vn(){return(vn=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:createAuthUri",F(t,e))})).apply(this,arguments)}function bn(t,e){return wn.apply(this,arguments)}function wn(){return(wn=(0,r.Z)(function*(t,e){const n={identifier:e,continueUri:A()?I():"http://localhost"},{signinMethods:r}=yield _n((0,i.m9)(t),n);return r||[]})).apply(this,arguments)}function Cn(t,e){return En.apply(this,arguments)}function En(){return(En=(0,r.Z)(function*(t,e){const n=(0,i.m9)(t),r={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&Je(n.auth,r,e);const{email:s}=yield Zt(n.auth,r);s!==t.email&&(yield t.reload())})).apply(this,arguments)}function Tn(t,e,n){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&Je(r.auth,s,n);const{email:o}=yield Qt(r.auth,s);o!==t.email&&(yield t.reload())})).apply(this,arguments)}function In(t,e){return An.apply(this,arguments)}function An(){return(An=(0,r.Z)(function*(t,e){return R(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function On(t,e){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,r.Z)(function*(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=(0,i.m9)(t),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=yield X(r,In(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:t})=>"password"===t);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function Pn(t,e){return xn((0,i.m9)(t),e,null)}function kn(t,e){return xn((0,i.m9)(t),null,e)}function xn(t,e,n){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,r.Z)(function*(t,e,n){const{auth:r}=t,i={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const s=yield X(t,Lt(r,i));yield t._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class Fn{constructor(t,e,n={}){this.isNewUser=t,this.providerId=e,this.profile=n}}class Rn extends Fn{constructor(t,e,n,r){super(t,e,n),this.username=r}}class Nn extends Fn{constructor(t,e){super(t,"facebook.com",e)}}class Ln extends Rn{constructor(t,e){super(t,"github.com",e,"string"==typeof(null==e?void 0:e.login)?null==e?void 0:e.login:null)}}class Un extends Fn{constructor(t,e){super(t,"google.com",e)}}class Vn extends Rn{constructor(t,e,n){super(t,"twitter.com",e,n)}}function jn(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||"identitytoolkit#SignupNewUserResponse"===t.kind;if(!r&&(null==t?void 0:t.idToken)){const r=null===(n=null===(e=J(t.idToken))||void 0===e?void 0:e.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Fn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Nn(s,i);case"github.com":return new Ln(s,i);case"google.com":return new Un(s,i);case"twitter.com":return new Vn(s,i,t.screenName||null);case"custom":case"anonymous":return new Fn(s,null);default:return new Fn(s,r,i)}}(n)}class Bn{constructor(t,e){this.type=t,this.credential=e}static _fromIdtoken(t){return new Bn("enroll",t)}static _fromMfaPendingCredential(t){return new Bn("signin",t)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var e,n;if(null==t?void 0:t.multiFactorSession){if(null===(e=t.multiFactorSession)||void 0===e?void 0:e.pendingCredential)return Bn._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.idToken)return Bn._fromIdtoken(t.multiFactorSession.idToken)}return null}}class qn{constructor(t,e,n){this.session=t,this.hints=e,this.signInResolver=n}static _fromError(t,e){const n=Dt(t),i=e.customData._serverResponse,s=(i.mfaInfo||[]).map(t=>Qe._fromServerResponse(n,t));w(i.mfaPendingCredential,n,"internal-error");const o=Bn._fromMfaPendingCredential(i.mfaPendingCredential);return new qn(o,s,function(){var t=(0,r.Z)(function*(t){const r=yield t._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(e.operationType){case"signIn":const t=yield Ee._fromIdTokenResponse(n,e.operationType,s);return yield n._updateCurrentUser(t.user),t;case"reauthenticate":return w(e.user,n,"internal-error"),Ee._forOperation(e.user,e.operationType,s);default:m(n,"internal-error")}});return function(e){return t.apply(this,arguments)}}())}resolveSignIn(t){var e=this;return(0,r.Z)(function*(){return e.signInResolver(t)})()}}function zn(t,e){var n;const r=(0,i.m9)(t),s=e;return w(e.customData.operationType,r,"argument-error"),w(null===(n=s.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),qn._fromError(r,s)}function Zn(t,e){return R(t,"POST","/v2/accounts/mfaEnrollment:start",F(t,e))}class $n{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(e=>{e.mfaInfo&&(this.enrolledFactors=e.mfaInfo.map(e=>Qe._fromServerResponse(t.auth,e)))})}static _fromUser(t){return new $n(t)}getSession(){var t=this;return(0,r.Z)(function*(){return Bn._fromIdtoken(yield t.user.getIdToken())})()}enroll(t,e){var n=this;return(0,r.Z)(function*(){const r=t,i=yield n.getSession(),s=yield X(n.user,r._process(n.user.auth,i,e));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(t){var e=this;return(0,r.Z)(function*(){const n="string"==typeof t?t:t.uid,r=yield e.user.getIdToken(),i=yield X(e.user,function(t,e){return R(t,"POST","/v2/accounts/mfaEnrollment:withdraw",F(t,e))}(e.user.auth,{idToken:r,mfaEnrollmentId:n}));e.enrolledFactors=e.enrolledFactors.filter(({uid:t})=>t!==n),yield e.user._updateTokensIfNecessary(i);try{yield e.user.reload()}catch(s){if("auth/user-token-expired"!==s.code)throw s}})()}}const Hn=new WeakMap;function Gn(t){const e=(0,i.m9)(t);return Hn.has(e)||Hn.set(e,$n._fromUser(e)),Hn.get(e)}const Kn="__sak";class Wn{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Kn,"1"),this.storage.removeItem(Kn),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qn=(()=>{class t extends Wn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=(0,i.z$)();return _t(t)||Tt(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=It(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys((t,e,n)=>{this.notifyListeners(t,n)});const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const r=()=>{const t=this.storage.getItem(n);!e&&this.localCache[n]===t||this.notifyListeners(n,t)},s=this.storage.getItem(n);(0,i.w1)()&&10===document.documentMode&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,10):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,e){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,t,e),i.localCache[t]=JSON.stringify(e)})()}_get(t){var e=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield e().call(n,t);return n.localCache[t]=JSON.stringify(r),r})()}_remove(t){var e=()=>super._remove,n=this;return(0,r.Z)(function*(){yield e().call(n,t),delete n.localCache[t]})()}}return t.type="LOCAL",t})(),Yn=(()=>{class t extends Wn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}return t.type="SESSION",t})();let Jn=(()=>{class t{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(t=>t.isListeningto(e));if(n)return n;const r=new t(e);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var e=this;return(0,r.Z)(function*(){const n=t,{eventId:i,eventType:s,data:o}=n.data,a=e.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(a).map(function(){var t=(0,r.Z)(function*(t){return t(n.origin,o)});return function(e){return t.apply(this,arguments)}}()),c=yield function(t){return Promise.all(t.map(function(){var t=(0,r.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}});return function(e){return t.apply(this,arguments)}}()))}(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function Xn(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class tr{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Xn("",20);r.port1.start();const l=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(e.data.response);break;default:clearTimeout(l),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function er(){return window}function nr(){return void 0!==er().WorkerGlobalScope&&"function"==typeof er().importScripts}function rr(){return(rr=(0,r.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(Gi){return null}})).apply(this,arguments)}const ir="firebaseLocalStorageDb",sr="firebaseLocalStorage",or="fbase_key";class ar{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ur(t,e){return t.transaction([sr],e?"readwrite":"readonly").objectStore(sr)}function cr(){const t=indexedDB.open(ir,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore(sr,{keyPath:or})}catch(r){n(r)}}),t.addEventListener("success",(0,r.Z)(function*(){const n=t.result;n.objectStoreNames.contains(sr)?e(n):(n.close(),yield function(){const t=indexedDB.deleteDatabase(ir);return new ar(t).toPromise()}(),e(yield cr()))}))})}function lr(t,e,n){return hr.apply(this,arguments)}function hr(){return(hr=(0,r.Z)(function*(t,e,n){const r=ur(t,!0).put({[or]:e,value:n});return new ar(r).toPromise()})).apply(this,arguments)}function dr(){return(dr=(0,r.Z)(function*(t,e){const n=ur(t,!1).get(e),r=yield new ar(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function fr(t,e){const n=ur(t,!0).delete(e);return new ar(n).toPromise()}const pr=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,r.Z)(function*(){return t.db||(t.db=yield cr()),t.db})()}_withRetries(t){var e=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield e._openDb();return yield t(n)}catch(r){if(n++>3)throw r;e.db&&(e.db.close(),e.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,r.Z)(function*(){return nr()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,r.Z)(function*(){t.receiver=Jn._getInstance(nr()?self:null),t.receiver._subscribe("keyChanged",function(){var e=(0,r.Z)(function*(e,n){return{keyProcessed:(yield t._poll()).includes(n.key)}});return function(t,n){return e.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var t=(0,r.Z)(function*(t,e){return["keyChanged"]});return function(e,n){return t.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,r.Z)(function*(){var e,n;if(t.activeServiceWorker=yield function(){return rr.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new tr(t.activeServiceWorker);const r=yield t.sender._send("ping",{},800);!r||(null===(e=r[0])||void 0===e?void 0:e.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var e=this;return(0,r.Z)(function*(){if(e.sender&&e.activeServiceWorker&&function(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===e.activeServiceWorker)try{yield e.sender._send("keyChanged",{key:t},e.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const t=yield cr();return yield lr(t,Kn,"1"),yield fr(t,Kn),!0}catch(t){}return!1})()}_withPendingWrite(t){var e=this;return(0,r.Z)(function*(){e.pendingWrites++;try{yield t()}finally{e.pendingWrites--}})()}_set(t,e){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>lr(n,t,e)),n.localCache[t]=e,n.notifyServiceWorker(t)}))})()}_get(t){var e=this;return(0,r.Z)(function*(){const n=yield e._withRetries(e=>function(t,e){return dr.apply(this,arguments)}(e,t));return e.localCache[t]=n,n})()}_remove(t){var e=this;return(0,r.Z)(function*(){return e._withPendingWrite((0,r.Z)(function*(){return yield e._withRetries(e=>fr(e,t)),delete e.localCache[t],e.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,r.Z)(function*(){const e=yield t._withRetries(t=>{const e=ur(t,!1).getAll();return new ar(e).toPromise()});if(!e)return[];if(0!==t.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(t.localCache[i])!==JSON.stringify(s)&&(t.notifyListeners(i,s),n.push(i));for(const i of Object.keys(t.localCache))t.localCache[i]&&!r.has(i)&&(t.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function gr(t,e){return R(t,"POST","/v2/accounts/mfaSignIn:start",F(t,e))}function mr(){return(mr=(0,r.Z)(function*(t){return(yield R(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yr(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=y("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function _r(t){return`__${t}${Math.floor(1e6*Math.random())}`}const vr=1e12;class br{constructor(t){this.auth=t,this.counter=vr,this._widgets=new Map}render(t,e){const n=this.counter;return this._widgets.set(n,new wr(t,this.auth.name,e||{})),this.counter++,n}reset(t){var e;const n=t||vr;null===(e=this._widgets.get(n))||void 0===e||e.delete(),this._widgets.delete(n)}getResponse(t){var e;return(null===(e=this._widgets.get(t||vr))||void 0===e?void 0:e.getResponse())||""}execute(t){var e=this;return(0,r.Z)(function*(){var n;return null===(n=e._widgets.get(t||vr))||void 0===n||n.execute(),""})()}}class wr{constructor(t,e,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof t?document.getElementById(t):t;w(r,"argument-error",{appName:e}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}();const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cr=_r("rcb"),Er=new D(3e4,6e4);class Tr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!er().grecaptcha}load(t,e=""){return w((n=e).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n),t,"argument-error"),this.shouldResolveImmediately(e)?Promise.resolve(er().grecaptcha):new Promise((n,r)=>{const s=er().setTimeout(()=>{r(y(t,"network-request-failed"))},Er.get());er()[Cr]=()=>{er().clearTimeout(s),delete er()[Cr];const i=er().grecaptcha;if(!i)return void r(y(t,"internal-error"));const o=i.render;i.render=(t,e)=>{const n=o(t,e);return this.counter++,n},this.hostLanguage=e,n(i)},yr(`https://www.google.com/recaptcha/api.js??${(0,i.xO)({onload:Cr,render:"explicit",hl:e})}`).catch(()=>{clearTimeout(s),r(y(t,"internal-error"))})});var n}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){return!!er().grecaptcha&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sr{load(t){return(0,r.Z)(function*(){return new br(t)})()}clearedOneInstance(){}}const Ir="recaptcha",Ar={theme:"light",type:"image"};class Or{constructor(t,e=Object.assign({},Ar),n){this.parameters=e,this.type=Ir,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Dt(n),this.isInvisible="invisible"===this.parameters.size,w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof t?document.getElementById(t):t;w(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sr:new Tr,this.validateStartingState()}verify(){var t=this;return(0,r.Z)(function*(){t.assertNotDestroyed();const e=yield t.render(),n=t.getAssertedRecaptcha();return n.getResponse(e)||new Promise(r=>{const i=e=>{!e||(t.tokenChangeListeners.delete(i),r(e))};t.tokenChangeListeners.add(i),t.isInvisible&&n.execute(e)})})()}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){w(!this.parameters.sitekey,this.auth,"argument-error"),w(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),w("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(t=>t(e)),"function"==typeof t)t(e);else if("string"==typeof t){const n=er()[t];"function"==typeof n&&n(e)}}}assertNotDestroyed(){w(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var t=this;return(0,r.Z)(function*(){if(yield t.init(),!t.widgetId){let e=t.container;if(!t.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}t.widgetId=t.getAssertedRecaptcha().render(e,t.parameters)}return t.widgetId})()}init(){var t=this;return(0,r.Z)(function*(){w(A()&&!nr(),t.auth,"internal-error"),yield function(){let t=null;return new Promise(e=>{"complete"!==document.readyState?(t=()=>e(),window.addEventListener("load",t)):e()}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}(),t.recaptcha=yield t._recaptchaLoader.load(t.auth,t.auth.languageCode||void 0);const e=yield function(t){return mr.apply(this,arguments)}(t.auth);w(e,t.auth,"internal-error"),t.parameters.sitekey=e})()}getAssertedRecaptcha(){return w(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dr{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=le._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}function Pr(t,e,n){return kr.apply(this,arguments)}function kr(){return(kr=(0,r.Z)(function*(t,e,n){const r=Dt(t),s=yield Nr(r,e,(0,i.m9)(n));return new Dr(s,t=>je(r,t))})).apply(this,arguments)}function xr(t,e,n){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t);yield Fe(!1,r,"phone");const s=yield Nr(r.auth,e,(0,i.m9)(n));return new Dr(s,t=>qe(r,t))})).apply(this,arguments)}function Fr(t,e,n){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t),s=yield Nr(r.auth,e,(0,i.m9)(n));return new Dr(s,t=>Ze(r,t))})).apply(this,arguments)}function Nr(t,e,n){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(t,e,n){var r;const i=yield n.verify();try{let s;if(w("string"==typeof i,t,"argument-error"),w(n.type===Ir,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s)return w("enroll"===e.type,t,"internal-error"),(yield Zn(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{w("signin"===e.type,t,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return w(n,t,"missing-multi-factor-info"),(yield gr(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=yield ie(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}})).apply(this,arguments)}function Ur(t,e){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,r.Z)(function*(t,e){yield xe((0,i.m9)(t),e)})).apply(this,arguments)}let jr=(()=>{class t{constructor(e){this.providerId=t.PROVIDER_ID,this.auth=Dt(e)}verifyPhoneNumber(t,e){return Nr(this.auth,t,(0,i.m9)(e))}static credential(t,e){return le._fromVerification(t,e)}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?le._fromTokenResponse(e,n):null}}return t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone",t})();function Br(t,e){return e?S(e):(w(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class qr extends Ft{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ee(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ee(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ee(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function zr(t){return Ue(t.auth,new qr(t),t.bypassAuthState)}function Zr(t){const{auth:e,user:n}=t;return w(n,e,"internal-error"),Ne(n,new qr(t),t.bypassAuthState)}function $r(t){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,r.Z)(function*(t){const{auth:e,user:n}=t;return w(n,e,"internal-error"),xe(n,new qr(t),t.bypassAuthState)})).apply(this,arguments)}class Gr{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,r.Z)(function*(e,n){t.pendingPromise={resolve:e,reject:n};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(r){t.reject(r)}});return function(t,n){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o)return void e.reject(o);const u={auth:e.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(a)(u))}catch(c){e.reject(c)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return zr;case"linkViaPopup":case"linkViaRedirect":return $r;case"reauthViaPopup":case"reauthViaRedirect":return Zr;default:m(this.auth,"internal-error")}}resolve(t){E(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){E(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Kr=new D(2e3,1e4);function Wr(t,e,n){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,r.Z)(function*(t,e,n){const r=Dt(t);v(t,e,fe);const i=Br(r,n);return new ei(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}function Yr(t,e,n){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t);v(r.auth,e,fe);const s=Br(r.auth,n);return new ei(r.auth,"reauthViaPopup",e,s,r).executeNotNull()})).apply(this,arguments)}function Xr(t,e,n){return ti.apply(this,arguments)}function ti(){return(ti=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t);v(r.auth,e,fe);const s=Br(r.auth,n);return new ei(r.auth,"linkViaPopup",e,s,r).executeNotNull()})).apply(this,arguments)}let ei=(()=>{class t extends Gr{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var t=this;return(0,r.Z)(function*(){const e=yield t.execute();return w(e,t.auth,"internal-error"),e})()}onExecution(){var t=this;return(0,r.Z)(function*(){E(1===t.filter.length,"Popup operations only handle one event");const e=Xn();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],e),t.authWindow.associatedEvent=e,t.resolver._originValidation(t.auth).catch(e=>{t.reject(e)}),t.resolver._isIframeWebStorageSupported(t.auth,e=>{e||t.reject(y(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(y(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;this.pollId=(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(y(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,Kr.get())};t()}}return t.currentPopupAction=null,t})();const ni=new Map;class ri extends Gr{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,r.Z)(function*(){let n=ni.get(e.auth._key());if(!n){try{const r=(yield function(t,e){return ii.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}ni.set(e.auth._key(),n)}return e.bypassAuthState||ni.set(e.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===t.type)return e().call(n,t);if("unknown"!==t.type){if(t.eventId){const r=yield n.auth._redirectUserForId(t.eventId);if(r)return n.user=r,e().call(n,t);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function ii(){return(ii=(0,r.Z)(function*(t,e){const n=ci(e),r=ui(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function si(t,e){return oi.apply(this,arguments)}function oi(){return(oi=(0,r.Z)(function*(t,e){return ui(t)._set(ci(e),"true")})).apply(this,arguments)}function ai(){ni.clear()}function ui(t){return S(t._redirectPersistence)}function ci(t){return pt("pendingRedirect",t.config.apiKey,t.name)}function li(t,e,n){return function(t,e,n){return hi.apply(this,arguments)}(t,e,n)}function hi(){return(hi=(0,r.Z)(function*(t,e,n){const r=Dt(t);v(t,e,fe);const i=Br(r,n);return yield si(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function di(t,e,n){return function(t,e,n){return fi.apply(this,arguments)}(t,e,n)}function fi(){return(fi=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t);v(r.auth,e,fe);const s=Br(r.auth,n);yield si(s,r.auth);const o=yield bi(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",o)})).apply(this,arguments)}function pi(t,e,n){return function(t,e,n){return gi.apply(this,arguments)}(t,e,n)}function gi(){return(gi=(0,r.Z)(function*(t,e,n){const r=(0,i.m9)(t);v(r.auth,e,fe);const s=Br(r.auth,n);yield Fe(!1,r,e.providerId),yield si(s,r.auth);const o=yield bi(r);return s._openRedirect(r.auth,e,"linkViaRedirect",o)})).apply(this,arguments)}function mi(t,e){return yi.apply(this,arguments)}function yi(){return(yi=(0,r.Z)(function*(t,e){return yield Dt(t)._initializationPromise,_i(t,e,!1)})).apply(this,arguments)}function _i(t,e){return vi.apply(this,arguments)}function vi(){return(vi=(0,r.Z)(function*(t,e,n=!1){const r=Dt(t),i=Br(r,e),s=yield new ri(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}function bi(t){return wi.apply(this,arguments)}function wi(){return(wi=(0,r.Z)(function*(t){const e=Xn(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})).apply(this,arguments)}class Ci{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ti(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Ti(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(y(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ei(t))}saveEventToCache(t){this.cachedEventUids.add(Ei(t)),this.lastProcessedEventTime=Date.now()}}function Ei(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function Ti({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function Si(t){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,r.Z)(function*(t,e={}){return R(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Ai=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oi=/^https?/;function Di(){return(Di=(0,r.Z)(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield Si(t);for(const r of e)try{if(Pi(r))return}catch(n){}m(t,"unauthorized-domain")})).apply(this,arguments)}function Pi(t){const e=I(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Oi.test(n))return!1;if(Ai.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ki=new D(3e4,6e4);function xi(){const t=er().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Mi=null;function Fi(t){return Mi=Mi||function(t){return new Promise((e,n)=>{var r,i,s;function o(){xi(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xi(),n(y(t,"network-request-failed"))},timeout:ki.get()})}if(null===(i=null===(r=er().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=er().gapi)||void 0===s?void 0:s.load)){const e=_r("iframefcb");return er()[e]=()=>{gapi.load?o():n(y(t,"network-request-failed"))},yr(`https://apis.google.com/js/api.js?onload=${e}`)}o()}}).catch(t=>{throw Mi=null,t})}(t),Mi}const Ri=new D(5e3,15e3),Ni={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true"},Li=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ui(t){const e=t.config;w(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:s.SDK_VERSION},o=Li.get(t.config.apiHost);o&&(r.eid=o);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,i.xO)(r).slice(1)}`}function Vi(){return(Vi=(0,r.Z)(function*(t){const e=yield Fi(t),n=er().gapi;return w(n,t,"internal-error"),e.open({where:document.body,url:Ui(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ni,dontclear:!0},e=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield e.restyle({setHideOnLeave:!1});const i=y(t,"network-request-failed"),s=er().setTimeout(()=>{r(i)},Ri.get());function o(){er().clearTimeout(s),n(e)}e.ping(o).then(o,()=>{r(i)})});return function(t,e){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const ji={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bi{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function qi(t,e,n,r,o,a){w(t.config.authDomain,t,"auth-domain-config-required"),w(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:s.SDK_VERSION,eventId:o};if(e instanceof fe){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",(0,i.xb)(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))u[t]=e}if(e instanceof pe){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(u.scopes=t.join(","))}t.tenantId&&(u.tid=t.tenantId);const c=u;for(const i of Object.keys(c))void 0===c[i]&&delete c[i];return`${function({config:t}){return t.emulator?P(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${(0,i.xO)(c).slice(1)}`}const zi="webStorageSupport",Zi=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yn,this._completeRedirectFn=_i}_openPopup(t,e,n,s){var o=this;return(0,r.Z)(function*(){var r;E(null===(r=o.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=qi(t,e,n,I(),s);return function(t,e,n,r=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},ji),{width:r.toString(),height:s.toString(),top:o,left:a}),l=(0,i.z$)().toLowerCase();n&&(u=vt(l)?"_blank":n),yt(l)&&(e=e||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((t,[e,n])=>`${t}${e}=${n},`,"");if(function(t=(0,i.z$)()){var e;return Tt(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",u),new Bi(null);const d=window.open(e||"",u,h);w(d,t,"popup-blocked");try{d.focus()}catch(f){}return new Bi(d)}(t,a,Xn())})()}_openRedirect(t,e,n,i){var s=this;return(0,r.Z)(function*(){return yield s._originValidation(t),r=qi(t,e,n,I(),i),er().location.href=r,new Promise(()=>{});var r})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(E(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n}initAndGetManager(t){var e=this;return(0,r.Z)(function*(){const n=yield function(t){return Vi.apply(this,arguments)}(t),r=new Ci(t);return n.register("authEvent",e=>(w(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:r},e.iframes[t._key()]=n,r})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(zi,{type:zi},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[zi];void 0!==i&&e(!!i),m(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(t){return Di.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return It()||_t()||Tt()}};class $i extends class{constructor(t){this.factorId=t}_process(t,e,n){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,n);case"signin":return this._finalizeSignIn(t,e.credential);default:return C("unexpected MultiFactorSessionType")}}}{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new $i(t)}_finalizeEnroll(t,e,n){return function(t,e){return R(t,"POST","/v2/accounts/mfaEnrollment:finalize",F(t,e))}(t,{idToken:e,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return function(t,e){return R(t,"POST","/v2/accounts/mfaSignIn:finalize",F(t,e))}(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hi=(()=>{class t{constructor(){}static assertion(t){return $i._fromCredential(t)}}return t.FACTOR_ID="phone",t})();var Gi,Ki="@firebase/auth";class Wi{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,r.Z)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{var n;t((null===(n=e)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);!e||(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qi(t=(0,s.getApp)()){const e=(0,s._getProvider)(t,"auth");return e.isInitialized()?e.getImmediate():function(t,e){const n=(0,s._getProvider)(t,"auth");if(n.isInitialized()){const t=n.getImmediate(),r=n.getOptions();if((0,i.vZ)(r,null!=e?e:{}))return t;m(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Zi,persistence:[pr,Qn,Yn]})}Gi="Browser",(0,s._registerComponent)(new u.wA("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(t=>{w(r&&!r.includes(":"),"invalid-api-key",{appName:t.name}),w(!(null==i?void 0:i.includes(":")),"argument-error",{appName:t.name});const n={apiKey:r,authDomain:i,clientPlatform:Gi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:At(Gi)},s=new Ot(t,n);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(S);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(s,e),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),(0,s._registerComponent)(new u.wA("auth-internal",t=>{const e=Dt(t.getProvider("auth").getImmediate());return new Wi(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)(Ki,"0.19.0",void 0),(0,s.registerVersion)(Ki,"0.19.0","esm2017")},6034:function(t,e,n){"use strict";n.d(e,{wA:function(){return s},H0:function(){return c}});var r=n(4762),i=n(3854),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=o),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:u(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(s){}return i||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();function u(t){return t===o?void 0:t}var c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},1304:function(t,e,n){"use strict";n.d(e,{u7:function(){return cp},Jj:function(){return sf},IX:function(){return qd},my:function(){return kd},xU:function(){return Uf},Lz:function(){return rf},WA:function(){return xr},F8:function(){return af},$q:function(){return Vf},W:function(){return jf},EK:function(){return Hr},PU:function(){return dp},l7:function(){return vd},Ky:function(){return pi},Xb:function(){return ti},Cf:function(){return Id},K9:function(){return Dr},Me:function(){return ni},yq:function(){return Sr},Wi:function(){return Cd},ET:function(){return Tp},Ab:function(){return Fp},vr:function(){return Mp},Fc:function(){return Qd},hJ:function(){return Fd},B$:function(){return Rd},at:function(){return Pd},oe:function(){return Ep},AK:function(){return kp},TF:function(){return Xd},JU:function(){return Nd},ST:function(){return Gd},fH:function(){return Kd},Ix:function(){return Jd},Wu:function(){return ip},Lx:function(){return rp},qY:function(){return $d},GL:function(){return Ap},QT:function(){return pp},kl:function(){return mp},Xk:function(){return yp},PL:function(){return _p},UQ:function(){return vp},zN:function(){return bp},ad:function(){return Zd},nP:function(){return Rp},b9:function(){return Yf},vh:function(){return Jf},Pb:function(){return tf},L$:function(){return ef},cf:function(){return Sp},sc:function(){return Ip},Xo:function(){return Wf},IO:function(){return $f},iE:function(){return Ud},Eo:function(){return Ld},i3:function(){return Pp},Bt:function(){return xp},pl:function(){return wp},Ub:function(){return Cr},qK:function(){return qf},TQ:function(){return ep},e0:function(){return tp},r7:function(){return Cp},Mx:function(){return Yd},ar:function(){return Gf}});var r,i=n(8239),s=n(5452),o=n(6034),a=n(5601),u=n(3854),c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l={},h=h||{},d=c||self;function f(){}function p(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),y=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:v).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function C(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function E(){this.s=this.s,this.o=this.o}var T={};E.prototype.s=!1,E.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++y)}(this);delete T[t]}},E.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},I=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function A(t){return Array.prototype.concat.apply([],arguments)}function O(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function D(t){return/^[\s\xa0]*$/.test(t)}var P,k=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function x(t,e){return-1!=t.indexOf(e)}function M(t,e){return t<e?-1:t>e?1:0}t:{var F=d.navigator;if(F){var R=F.userAgent;if(R){P=R;break t}}P=""}function N(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function L(t){const e={};for(const n in t)e[n]=t[n];return e}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<U.length;e++)n=U[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=f;var B,q,z=x(P,"Opera"),Z=x(P,"Trident")||x(P,"MSIE"),$=x(P,"Edge"),H=$||Z,G=x(P,"Gecko")&&!(x(P.toLowerCase(),"webkit")&&!x(P,"Edge"))&&!(x(P,"Trident")||x(P,"MSIE"))&&!x(P,"Edge"),K=x(P.toLowerCase(),"webkit")&&!x(P,"Edge");function W(){var t=d.document;return t?t.documentMode:void 0}t:{var Q="",Y=(q=P,G?/rv:([^\);]+)(\)|;)/.exec(q):$?/Edge\/([\d\.]+)/.exec(q):Z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):K?/WebKit\/(\S+)/.exec(q):z?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(Y&&(Q=Y?Y[1]:""),Z){var J=W();if(null!=J&&J>parseFloat(Q)){B=String(J);break t}}B=Q}var X={};function tt(){return t=X,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let t=0;const e=k(String(B)).split("."),n=k("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=M(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||M(0==i[2].length,0==s[2].length)||M(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var t}var et=d.document&&Z&&(W()||parseInt(B,10))||void 0,nt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{d.addEventListener("test",f,e),d.removeEventListener("test",f,e)}catch(n){}return t}();function rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function it(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(G){t:{try{j(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:st[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&it.Z.h.call(this)}}rt.prototype.h=function(){this.defaultPrevented=!0},C(it,rt);var st={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ot="closure_listenable_"+(1e6*Math.random()|0),at=0;function ut(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++at,this.ca=this.fa=!1}function ct(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function lt(t){this.src=t,this.g={},this.h=0}function ht(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=S(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ct(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function dt(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}lt.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=dt(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new ut(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),pt={};function gt(t,e,n,r,i){if(r&&r.once)return yt(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)gt(t,e[s],n,r,i);return null}return n=Tt(n),t&&t[ot]?t.N(e,n,g(r)?!!r.capture:!!r,i):mt(t,e,n,!1,r,i)}function mt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=g(i)?!!i.capture:!!i,a=Ct(t);if(a||(t[ft]=a=new lt(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=wt;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nt||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yt(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)yt(t,e[s],n,r,i);return null}return n=Tt(n),t&&t[ot]?t.O(e,n,g(r)?!!r.capture:!!r,i):mt(t,e,n,!0,r,i)}function _t(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)_t(t,e[s],n,r,i);else r=g(r)?!!r.capture:!!r,n=Tt(n),t&&t[ot]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=dt(s=t.g[e],n,r,i))&&(ct(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Ct(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dt(e,n,r,i)),(n=-1<t?e[t]:null)&&vt(n))}function vt(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ot])ht(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ct(e))?(ht(n,t),0==n.h&&(n.src=null,e[ft]=null)):ct(t)}}}function bt(t){return t in pt?pt[t]:pt[t]="on"+t}function wt(t,e){if(t.ca)t=!0;else{e=new it(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&vt(t),t=n.call(r,e)}return t}function Ct(t){return(t=t[ft])instanceof lt?t:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(t){return"function"==typeof t?t:(t[Et]||(t[Et]=function(e){return t.handleEvent(e)}),t[Et])}function St(){E.call(this),this.i=new lt(this),this.P=this,this.I=null}function It(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new rt(e,t);else if(e instanceof rt)e.target=e.target||t;else{var i=e;V(e=new rt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=At(o,r,!0,e)&&i}if(i=At(o=e.g=t,r,!0,e)&&i,i=At(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=At(o=e.g=n[s],r,!1,e)&&i}function At(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&ht(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}C(St,E),St.prototype[ot]=!0,St.prototype.removeEventListener=function(t,e,n,r){_t(this,t,e,n,r)},St.prototype.M=function(){if(St.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ct(n[r]);delete e.g[t],e.h--}}this.I=null},St.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},St.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ot=d.JSON.stringify;function Dt(){var t=Nt;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Pt,kt=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new xt,t=>t.reset());class xt{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Mt(t){d.setTimeout(()=>{throw t},0)}function Ft(t,e){Pt||function(){var t=d.Promise.resolve(void 0);Pt=function(){t.then(Lt)}}(),Rt||(Pt(),Rt=!0),Nt.add(t,e)}var Rt=!1,Nt=new class{constructor(){this.h=this.g=null}add(t,e){const n=kt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function Lt(){for(var t;t=Dt();){try{t.h.call(t.g)}catch(n){Mt(n)}var e=kt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rt=!1}function Ut(t,e){St.call(this),this.h=t||1,this.g=e||d,this.j=b(this.kb,this),this.l=Date.now()}function Vt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function jt(t,e,n){if("function"==typeof t)n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:d.setTimeout(t,e||0)}function Bt(t){t.g=jt(()=>{t.g=null,t.i&&(t.i=!1,Bt(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}C(Ut,St),(r=Ut.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),It(this,"tick"),this.da&&(Vt(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Ut.Z.M.call(this),Vt(this),delete this.g};class qt extends E{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Bt(this)}M(){super.M(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zt(t){E.call(this),this.h=t,this.g={}}C(zt,E);var Zt=[];function $t(t,e,n,r){Array.isArray(n)||(n&&(Zt[0]=n.toString()),n=Zt);for(var i=0;i<n.length;i++){var s=gt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Ht(t){N(t.g,function(t,e){this.g.hasOwnProperty(e)&&vt(t)},t),t.g={}}function Gt(){this.g=!0}function Kt(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ot(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}zt.prototype.M=function(){zt.Z.M.call(this),Ht(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gt.prototype.Aa=function(){this.g=!1},Gt.prototype.info=function(){};var Wt={},Qt=null;function Yt(){return Qt=Qt||new St}function Jt(t){rt.call(this,Wt.Ma,t)}function Xt(t){const e=Yt();It(e,new Jt(e,t))}function te(t,e){rt.call(this,Wt.STAT_EVENT,t),this.stat=e}function ee(t){const e=Yt();It(e,new te(e,t))}function ne(t,e){rt.call(this,Wt.Na,t),this.size=e}function re(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){t()},e)}Wt.Ma="serverreachability",C(Jt,rt),Wt.STAT_EVENT="statevent",C(te,rt),Wt.Na="timingevent",C(ne,rt);var ie={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},se={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function oe(){}function ae(){}oe.prototype.h=null;var ue,ce={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function le(){rt.call(this,"d")}function he(){rt.call(this,"c")}function de(){}function fe(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new zt(this),this.P=ge,this.W=new Ut(t=H?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}C(le,rt),C(he,rt),C(de,oe),de.prototype.g=function(){return new XMLHttpRequest},de.prototype.i=function(){return{}},ue=new de;var ge=45e3,me={},ye={};function _e(t,e,n){t.K=1,t.v=Be(Re(e)),t.s=n,t.U=!0,ve(t,null)}function ve(t,e){t.F=Date.now(),Ee(t),t.A=Re(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),tn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new pe,t.g=er(t.l,n?e:null,!t.s),0<t.O&&(t.L=new qt(b(t.Ia,t,t.g),t.O)),$t(t.V,t.g,"readystatechange",t.gb),e=t.H?L(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Xt(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function be(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function we(t,e,n){let r,i=!0;for(;!t.I&&t.C<n.length;){if(r=Ce(t,n),r==ye){4==e&&(t.o=4,ee(14),i=!1),Kt(t.j,t.m,null,"[Incomplete Response]");break}if(r==me){t.o=4,ee(15),Kt(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Kt(t.j,t.m,r,null),Oe(t,r)}be(t)&&r!=ye&&r!=me&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ee(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gn(e),e.L=!0,ee(11))):(Kt(t.j,t.m,n,"[Invalid Chunked Response]"),Ae(t),Ie(t))}function Ce(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ye:(n=Number(e.substring(n,r)),isNaN(n)?me:(r+=1)+n>e.length?ye:(e=e.substr(r,n),t.C=r+n,e))}function Ee(t){t.Y=Date.now()+t.P,Te(t,t.P)}function Te(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=re(b(t.eb,t),e)}function Se(t){t.B&&(d.clearTimeout(t.B),t.B=null)}function Ie(t){0==t.l.G||t.I||Qn(t.l,t)}function Ae(t){Se(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Vt(t.W),Ht(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Oe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||an(n.i,t)))if(n.I=t.N,!t.J&&an(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])t:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=re(b(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break t;Wn(n),Un(n)}Hn(n),ee(18)}if(1>=on(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Jn(n,11)}else if((t.J||n.g==t)&&Wn(n),!D(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const e=c[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=c[5];null!=l&&"number"==typeof l&&0<l&&(n.K=r=1.5*l,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.i;!s.g&&(x(t,"spdy")||x(t,"quic")||x(t,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(un(s,s.h),s.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.sa=t,je(r.F,r.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=tr(r,r.H?r.la:null,r.W),o.J){cn(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Se(a),Ee(a)),r.g=o}else $n(r);0<n.l.length&&Bn(n)}else"stop"!=c[0]&&"close"!=c[0]||Jn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Jn(n,7):Ln(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Xt(4)}catch(c){}}function De(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)I(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(p(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Pe(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pe)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ke(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];xe(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)xe(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=fe.prototype).setTimeout=function(t){this.P=t},r.gb=function(t){t=t.target;const e=this.L;e&&3==xn(t)?e.l():this.Ia(t)},r.Ia=function(t){try{if(t==this.g)t:{const l=xn(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>l)&&(3!=l||H||this.g&&(this.h.h||this.g.ga()||Mn(this.g)))){this.I||4!=l||7==e||Xt(8==e||0>=h?3:2),Se(this);var n=this.g.ba();this.N=n;e:if(be(this)){var r=Mn(this.g);t="";var i=r.length,s=4==xn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ae(this),Ie(this);var o="";break e}this.h.i=new d.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,ee(12),Ae(this),Ie(this);break t}Kt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Oe(this,n)}this.U?(we(this,l,o),H&&this.i&&3==l&&($t(this.V,this.W,"tick",this.fb),this.W.start())):(Kt(this.j,this.m,o,null),Oe(this,o)),4==l&&Ae(this),this.i&&!this.I&&(4==l?Qn(this.l,this):(this.i=!1,Ee(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ee(12)):(this.o=0,ee(13)),Ae(this),Ie(this)}}}catch(l){}},r.fb=function(){if(this.g){var t=xn(this.g),e=this.g.ga();this.C<e.length&&(Se(this),we(this,t,e),this.i&&4!=t&&Ee(this))}},r.cancel=function(){this.I=!0,Ae(this)},r.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Xt(3),ee(17)),Ae(this),this.o=2,Ie(this)):Te(this,this.Y-t)},(r=Pe.prototype).R=function(){ke(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},r.T=function(){return ke(this),this.g.concat()},r.get=function(t,e){return xe(this.h,t)?this.h[t]:e},r.set=function(t,e){xe(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},r.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Fe(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Fe){this.g=void 0!==e?e:t.g,Ne(this,t.j),this.s=t.s,Le(this,t.i),Ue(this,t.m),this.l=t.l,e=t.h;var n=new Qe;n.i=e.i,e.g&&(n.g=new Pe(e.g),n.h=e.h),Ve(this,n),this.o=t.o}else t&&(n=String(t).match(Me))?(this.g=!!e,Ne(this,n[1]||"",!0),this.s=qe(n[2]||""),Le(this,n[3]||"",!0),Ue(this,n[4]),this.l=qe(n[5]||"",!0),Ve(this,n[6]||"",!0),this.o=qe(n[7]||"")):(this.g=!!e,this.h=new Qe(null,this.g))}function Re(t){return new Fe(t)}function Ne(t,e,n){t.j=n?qe(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Le(t,e,n){t.i=n?qe(e,!0):e}function Ue(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ve(t,e,n){e instanceof Qe?(t.h=e,function(t,e){e&&!t.j&&(Ye(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),tn(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=ze(e,Ke)),t.h=new Qe(e,t.g))}function je(t,e,n){t.h.set(e,n)}function Be(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ze(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Fe.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ze(e,$e,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ze(e,$e,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(ze(n,"/"==n.charAt(0)?Ge:He,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ze(n,We)),t.join("")};var $e=/[#\/\?@]/g,He=/[#\?:]/g,Ge=/[#\?]/g,Ke=/[#\?@]/g,We=/#/g;function Qe(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ye(t){t.g||(t.g=new Pe,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Je(t,e){Ye(t),e=en(t,e),xe(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,xe((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&ke(t)))}function Xe(t,e){return Ye(t),e=en(t,e),xe(t.g.h,e)}function tn(t,e,n){Je(t,e),0<n.length&&(t.i=null,t.g.set(en(t,e),O(n)),t.h+=n.length)}function en(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function nn(t){this.l=t||rn,t=d.PerformanceNavigationTiming?0<(t=d.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(d.g&&d.g.Ea&&d.g.Ea()&&d.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(r=Qe.prototype).add=function(t,e){Ye(this),this.i=null,t=en(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},r.forEach=function(t,e){Ye(this),this.g.forEach(function(n,r){I(n,function(n){t.call(e,n,r,this)},this)},this)},r.T=function(){Ye(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},r.R=function(t){Ye(this);var e=[];if("string"==typeof t)Xe(this,t)&&(e=A(e,this.g.get(en(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=A(e,t[n])}return e},r.set=function(t,e){return Ye(this),this.i=null,Xe(this,t=en(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},r.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var rn=10;function sn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function on(t){return t.h?1:t.g?t.g.size:0}function an(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function un(t,e){t.g?t.g.add(e):t.h=e}function cn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ln(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return O(t.i)}function hn(){}function dn(){this.g=new hn}function fn(t,e,n){const r=n||"";try{De(t,function(t,n){let i=t;g(t)&&(i=Ot(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function gn(t){this.l=t.$b||null,this.j=t.ib||!1}function mn(t,e){St.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=yn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},hn.prototype.stringify=function(t){return d.JSON.stringify(t,void 0)},hn.prototype.parse=function(t){return d.JSON.parse(t,void 0)},C(gn,oe),gn.prototype.g=function(){return new mn(this.l,this.j)},gn.prototype.i=function(t){return function(){return t}}({}),C(mn,St);var yn=0;function _n(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function vn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bn(t)}function bn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(r=mn.prototype).open=function(t,e){if(this.readyState!=yn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bn(this)},r.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||d).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,vn(this)),this.readyState=yn},r.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bn(this)),this.g&&(this.readyState=3,bn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==d.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_n(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?vn(this):bn(this),3==this.readyState&&_n(this)}},r.Ua=function(t){this.g&&(this.response=this.responseText=t,vn(this))},r.Ta=function(t){this.g&&(this.response=t,vn(this))},r.ha=function(){this.g&&vn(this)},r.setRequestHeader=function(t,e){this.v.append(t,e)},r.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(mn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var wn=d.JSON.parse;function Cn(t){St.call(this),this.headers=new Pe,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=En,this.K=this.L=!1}C(Cn,St);var En="",Tn=/^https?$/i,Sn=["POST","PUT"];function In(t){return"content-type"==t.toLowerCase()}function An(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,On(t),Pn(t)}function On(t){t.D||(t.D=!0,It(t,"complete"),It(t,"error"))}function Dn(t){if(t.h&&void 0!==h&&(!t.C[1]||4!=xn(t)||2!=t.ba()))if(t.v&&4==xn(t))jt(t.Fa,0,t);else if(It(t,"readystatechange"),4==xn(t)){t.h=!1;try{const u=t.ba();t:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===u){var i=String(t.H).match(Me)[1]||null;if(!i&&d.self&&d.self.location){var s=d.self.location.protocol;i=s.substr(0,s.length-1)}r=!Tn.test(i?i.toLowerCase():"")}n=r}if(n)It(t,"complete"),It(t,"success");else{t.m=6;try{var o=2<xn(t)?t.g.statusText:""}catch(a){o=""}t.j=o+" ["+t.ba()+"]",On(t)}}finally{Pn(t)}}}function Pn(t,e){if(t.g){kn(t);const r=t.g,i=t.C[0]?f:null;t.g=null,t.C=null,e||It(t,"ready");try{r.onreadystatechange=i}catch(n){}}}function kn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(d.clearTimeout(t.A),t.A=null)}function xn(t){return t.g?t.g.readyState:0}function Mn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case En:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Fn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){let e="";return N(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):je(t,e,n))}function Rn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Nn(t){this.za=0,this.l=[],this.h=new Gt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Rn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Rn("baseRetryDelayMs",5e3,t),this.$a=Rn("retryDelaySeedMs",1e4,t),this.Ya=Rn("forwardChannelMaxRetries",2,t),this.ra=Rn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new nn(t&&t.concurrentRequestLimit),this.Ca=new dn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Ln(t){if(Vn(t),3==t.G){var e=t.V++,n=Re(t.F);je(n,"SID",t.J),je(n,"RID",e),je(n,"TYPE","terminate"),zn(t,n),(e=new fe(t,t.h,e,void 0)).K=2,e.v=Be(Re(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(e.v.toString(),"")),!n&&d.Image&&((new Image).src=e.v,n=!0),n||(e.g=er(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ee(e)}Xn(t)}function Un(t){t.g&&(Gn(t),t.g.cancel(),t.g=null)}function Vn(t){Un(t),t.u&&(d.clearTimeout(t.u),t.u=null),Wn(t),t.i.cancel(),t.m&&("number"==typeof t.m&&d.clearTimeout(t.m),t.m=null)}function jn(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Bn(t)}function Bn(t){sn(t.i)||t.m||(t.m=!0,Ft(t.Ha,t),t.C=0)}function qn(t,e){var n;n=e?e.m:t.V++;const r=Re(t.F);je(r,"SID",t.J),je(r,"RID",n),je(r,"AID",t.U),zn(t,r),t.o&&t.s&&Fn(r,t.o,t.s),n=new fe(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Zn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),un(t.i,n),_e(n,r,e)}function zn(t,e){t.j&&De({},function(t,n){je(e,n,t)})}function Zn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?b(t.j.Oa,t.j,t):null;t:{var i=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=i[a].h;const u=i[a].g;if(n-=e,0>n)e=Math.max(0,i[a].h-100),o=!1;else try{fn(u,t,"req"+n+"_")}catch(s){r&&r(u)}}if(o){r=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,r}function $n(t){t.g||t.u||(t.Y=1,Ft(t.Ga,t),t.A=0)}function Hn(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=re(b(t.Ga,t),Yn(t,t.A)),t.A++,0))}function Gn(t){null!=t.B&&(d.clearTimeout(t.B),t.B=null)}function Kn(t){t.g=new fe(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Re(t.oa);je(e,"RID","rpc"),je(e,"SID",t.J),je(e,"CI",t.N?"0":"1"),je(e,"AID",t.U),zn(t,e),je(e,"TYPE","xmlhttp"),t.o&&t.s&&Fn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Be(Re(e)),n.s=null,n.U=!0,ve(n,t)}function Wn(t){null!=t.v&&(d.clearTimeout(t.v),t.v=null)}function Qn(t,e){var n=null;if(t.g==e){Wn(t),Gn(t),t.g=null;var r=2}else{if(!an(t.i,e))return;n=e.D,cn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;It(r=Yt(),new ne(r,n,e,i)),Bn(t)}else $n(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(on(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=re(b(t.Ha,t,e),Yn(t,t.C)),t.C++,0)))}(t,e)||2==r&&Hn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Jn(t,5);break;case 4:Jn(t,10);break;case 3:Jn(t,6);break;default:Jn(t,2)}}function Yn(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Jn(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=b(t.jb,t);n||(n=new Fe("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Ne(n,"https"),Be(n)),function(t,e){const n=new Gt;if(d.Image){const r=new Image;r.onload=w(pn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=w(pn,n,r,"TestLoadImage: error",!1,e),r.onabort=w(pn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=w(pn,n,r,"TestLoadImage: timeout",!1,e),d.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ee(2);t.G=0,t.j&&t.j.va(e),Xn(t),Vn(t)}function Xn(t){t.G=0,t.I=-1,t.j&&((0!=ln(t.i).length||0!=t.l.length)&&(t.i.i.length=0,O(t.l),t.l.length=0),t.j.ua())}function tr(t,e,n){let r=function(t){return t instanceof Fe?Re(t):new Fe(t,void 0)}(n);if(""!=r.i)e&&Le(r,e+"."+r.i),Ue(r,r.m);else{const t=d.location;r=function(t,e,n,r){var i=new Fe(null,void 0);return t&&Ne(i,t),e&&Le(i,e),n&&Ue(i,n),r&&(i.l=r),i}(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&N(t.aa,function(t,e){je(r,e,t)}),n=t.sa,(e=t.D)&&n&&je(r,e,n),je(r,"VER",t.ma),zn(t,r),r}function er(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Cn(n&&t.Ba&&!t.qa?new gn({ib:!0}):t.qa)).L=t.H,e}function nr(){}function rr(){if(Z&&!(10<=Number(et)))throw Error("Environmental error: no available transport.")}function ir(t,e){St.call(this),this.g=new Nn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!D(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!D(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ar(this)}function sr(t){le.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function or(){he.call(this),this.status=1}function ar(t){this.g=t}(r=Cn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ue.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:ue),this.g.onreadystatechange=b(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void An(this,s)}t=n||"";const i=new Pe(this.headers);r&&De(r,function(t,e){i.set(e,t)}),r=function(t){t:{var e=In;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=d.FormData&&t instanceof d.FormData,!(0<=S(Sn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kn(this),0<this.B&&((this.K=function(t){return Z&&tt()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=b(this.pa,this)):this.A=jt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){An(this,s)}},r.pa=function(){void 0!==h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,It(this,"timeout"),this.abort(8))},r.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,It(this,"complete"),It(this,"abort"),Pn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pn(this,!0)),Cn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?Dn(this):this.cb())},r.cb=function(){Dn(this)},r.ba=function(){try{return 2<xn(this)?this.g.status:-1}catch(q){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(q){return""}},r.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),wn(e)}},r.Da=function(){return this.m},r.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(r=Nn.prototype).ma=8,r.G=1,r.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},r.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new fe(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=L(s),V(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Zn(this,i,e),je(n=Re(this.F),"RID",t),je(n,"CVER",22),this.D&&je(n,"X-HTTP-Session-Id",this.D),zn(this,n),this.o&&s&&Fn(n,this.o,s),un(this.i,i),this.Ra&&je(n,"TYPE","init"),this.ja?(je(n,"$req",e),je(n,"SID","null"),i.$=!0,_e(i,n,null)):_e(i,n,e),this.G=2}}else 3==this.G&&(t?qn(this,t):0==this.l.length||sn(this.i)||qn(this))},r.Ga=function(){if(this.u=null,Kn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=re(b(this.bb,this),t)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ee(10),Un(this),Kn(this))},r.ab=function(){null!=this.v&&(this.v=null,Un(this),Hn(this),ee(19))},r.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ee(2)):(this.h.info("Failed to ping google.com"),ee(1))},(r=nr.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},rr.prototype.g=function(t,e){return new ir(t,e)},C(ir,St),ir.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ft(b(t.hb,t,e))),ee(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=tr(t,null,t.W),Bn(t)},ir.prototype.close=function(){Ln(this.g)},ir.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,jn(this.g,e)}else this.v?((e={}).__data__=Ot(t),jn(this.g,e)):jn(this.g,t)},ir.prototype.M=function(){this.g.j=null,delete this.j,Ln(this.g),delete this.g,ir.Z.M.call(this)},C(sr,le),C(or,he),C(ar,nr),ar.prototype.xa=function(){It(this.g,"a")},ar.prototype.wa=function(t){It(this.g,new sr(t))},ar.prototype.va=function(t){It(this.g,new or(t))},ar.prototype.ua=function(){It(this.g,"b")},rr.prototype.createWebChannel=rr.prototype.g,ir.prototype.send=ir.prototype.u,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,se.COMPLETE="complete",ae.EventType=ce,ce.OPEN="a",ce.CLOSE="b",ce.ERROR="c",ce.MESSAGE="d",St.prototype.listen=St.prototype.N,Cn.prototype.listenOnce=Cn.prototype.O,Cn.prototype.getLastError=Cn.prototype.La,Cn.prototype.getLastErrorCode=Cn.prototype.Da,Cn.prototype.getStatus=Cn.prototype.ba,Cn.prototype.getResponseJson=Cn.prototype.Qa,Cn.prototype.getResponseText=Cn.prototype.ga,Cn.prototype.send=Cn.prototype.ea;var ur=l.createWebChannelTransport=function(){return new rr},cr=l.getStatEventTarget=function(){return Yt()},lr=l.ErrorCode=ie,hr=l.EventType=se,dr=l.Event=Wt,fr=l.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},pr=l.FetchXmlHttpFactory=gn,gr=l.WebChannel=ae,mr=l.XhrIo=Cn;const yr="@firebase/firestore";class _r{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");let vr="9.2.0";const br=new a.Yd("@firebase/firestore");function wr(){return br.logLevel}function Cr(t){br.setLogLevel(t)}function Er(t,...e){if(br.logLevel<=a.in.DEBUG){const n=e.map(Ir);br.debug(`Firestore (${vr}): ${t}`,...n)}}function Tr(t,...e){if(br.logLevel<=a.in.ERROR){const n=e.map(Ir);br.error(`Firestore (${vr}): ${t}`,...n)}}function Sr(t,...e){if(br.logLevel<=a.in.WARN){const n=e.map(Ir);br.warn(`Firestore (${vr}): ${t}`,...n)}}function Ir(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Ar(t="Unexpected state"){const e=`FIRESTORE (${vr}) INTERNAL ASSERTION FAILED: `+t;throw Tr(e),new Error(e)}function Or(t,e){t||Ar()}function Dr(t,e){t||Ar()}function Pr(t,e){return t}const kr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xr extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Fr{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class Rr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(_r.UNAUTHENTICATED))}shutdown(){}}class Nr{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Lr{constructor(t){this.t=t,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var n=this;let r=this.i;const s=t=>this.i!==r?(r=this.i,e(t)):Promise.resolve();let o=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mr,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const e=o;t.enqueueRetryable((0,i.Z)(function*(){yield e.promise,yield s(n.currentUser)}))},u=t=>{Er("FirebaseCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(t=>u(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?u(t):(Er("FirebaseCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mr)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(Er("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Or("string"==typeof e.accessToken),new Fr(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Or(null===t||"string"==typeof t),new _r(t)}}class Ur{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=_r.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class Vr{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new Ur(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jr{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.g(t),this.p=t=>e.writeSequenceNumber(t))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function Br(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}jr.T=-1;class qr{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=Br(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length))}return n}}function zr(t,e){return t<e?-1:t>e?1:0}function Zr(t,e,n){return t.length===e.length&&t.every((t,r)=>n(t,e[r]))}function $r(t){return t+"\0"}class Hr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xr(kr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xr(kr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xr(kr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xr(kr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Hr.fromMillis(Date.now())}static fromDate(t){return Hr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new Hr(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?zr(this.nanoseconds,t.nanoseconds):zr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Gr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Gr(t)}static min(){return new Gr(new Hr(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Kr(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Qr(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Yr{constructor(t,e,n){void 0===e?e=0:e>t.length&&Ar(),void 0===n?n=t.length-e:n>t.length-e&&Ar(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Yr.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Yr?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Jr extends Yr{construct(t,e,n){return new Jr(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new xr(kr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(t=>t.length>0))}return new Jr(e)}static emptyPath(){return new Jr([])}}const Xr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ti extends Yr{construct(t,e,n){return new ti(t,e,n)}static isValidIdentifier(t){return Xr.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ti.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ti(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new xr(kr.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new xr(kr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new xr(kr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new xr(kr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ti(e)}static emptyPath(){return new ti([])}}class ei{constructor(t){this.fields=t,t.sort(ti.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Zr(this.fields,t.fields,(t,e)=>t.isEqual(e))}}function ni(){return"undefined"!=typeof atob}class ri{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ri(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new ri(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const ii=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(t){if(Or(!!t),"string"==typeof t){let e=0;const n=ii.exec(t);if(Or(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:oi(t.seconds),nanos:oi(t.nanos)}}function oi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ai(t){return"string"==typeof t?ri.fromBase64String(t):ri.fromUint8Array(t)}function ui(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ci(t){const e=t.mapValue.fields.__previous_value__;return ui(e)?ci(e):e}function li(t){const e=si(t.mapValue.fields.__local_write_time__.timestampValue);return new Hr(e.seconds,e.nanos)}function hi(t){return null==t}function di(t){return 0===t&&1/t==-1/0}function fi(t){return"number"==typeof t&&Number.isInteger(t)&&!di(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class pi{constructor(t){this.path=t}static fromPath(t){return new pi(Jr.fromString(t))}static fromName(t){return new pi(Jr.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===Jr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Jr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pi(new Jr(t.slice()))}}function gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ui(t)?4:10:Ar()}function mi(t,e){const n=gi(t);if(n!==gi(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return li(t).isEqual(li(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=si(t.timestampValue),r=si(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return r=e,ai(t.bytesValue).isEqual(ai(r.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return oi(t.geoPointValue.latitude)===oi(e.geoPointValue.latitude)&&oi(t.geoPointValue.longitude)===oi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return oi(t.integerValue)===oi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=oi(t.doubleValue),r=oi(e.doubleValue);return n===r?di(n)===di(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Zr(t.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Kr(n)!==Kr(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!mi(n[i],r[i])))return!1;return!0}(t,e);default:return Ar()}var r}function yi(t,e){return void 0!==(t.values||[]).find(t=>mi(t,e))}function _i(t,e){const n=gi(t),r=gi(e);if(n!==r)return zr(n,r);switch(n){case 0:return 0;case 1:return zr(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=oi(t.integerValue||t.doubleValue),r=oi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return vi(t.timestampValue,e.timestampValue);case 4:return vi(li(t),li(e));case 5:return zr(t.stringValue,e.stringValue);case 6:return function(t,e){const n=ai(t),r=ai(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=zr(n[i],r[i]);if(0!==t)return t}return zr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=zr(oi(t.latitude),oi(e.latitude));return 0!==n?n:zr(oi(t.longitude),oi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=_i(n[i],r[i]);if(t)return t}return zr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const t=zr(r[o],s[o]);if(0!==t)return t;const e=_i(n[r[o]],i[s[o]]);if(0!==e)return e}return zr(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Ar()}}function vi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return zr(t,e);const n=si(t),r=si(e),i=zr(n.seconds,r.seconds);return 0!==i?i:zr(n.nanos,r.nanos)}function bi(t){return wi(t)}function wi(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=si(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ai(t.bytesValue).toBase64():"referenceValue"in t?pi.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=wi(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${wi(t.fields[i])}`;return n+"}"}(t.mapValue):Ar();var e}function Ci(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ei(t){return!!t&&"integerValue"in t}function Ti(t){return!!t&&"arrayValue"in t}function Si(t){return!!t&&"nullValue"in t}function Ii(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ai(t){return!!t&&"mapValue"in t}function Oi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Oi(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oi(t.arrayValue.values[n]);return e}return Object.assign({},t)}class Di{constructor(t){this.value=t}static empty(){return new Di({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Ai(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Oi(e)}setAll(t){let e=ti.emptyPath(),n={},r=[];t.forEach((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Oi(t):r.push(i.lastSegment())});const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());Ai(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return mi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Ai(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Wr(e,(e,n)=>t[e]=n);for(const r of n)delete t[r]}clone(){return new Di(Oi(this.value))}}function Pi(t){const e=[];return Wr(t.fields,(t,n)=>{const r=new ti([t]);if(Ai(n)){const t=Pi(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)}),new ei(e)}class ki{constructor(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(t){return new ki(t,0,Gr.min(),Di.empty(),0)}static newFoundDocument(t,e,n){return new ki(t,1,e,n,0)}static newNoDocument(t,e){return new ki(t,2,e,Di.empty(),0)}static newUnknownDocument(t,e){return new ki(t,3,e,Di.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Di.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ki&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new ki(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xi{constructor(t,e=null,n=[],r=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function Mi(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xi(t,e,n,r,i,s,o)}function Fi(t){const e=Pr(t);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>function(t){return t.field.canonicalString()+t.op.toString()+bi(t.value)}(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>{return(e=t).field.canonicalString()+e.dir;var e}).join(","),hi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Gi(e.startAt)),e.endAt&&(t+="|ub:",t+=Gi(e.endAt)),e.A=t}return e.A}function Ri(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Wi(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!mi(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yi(t.startAt,e.startAt)&&Yi(t.endAt,e.endAt)}function Ni(t){return pi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Li extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,n):new Ui(t,e,n):"array-contains"===e?new qi(t,n):"in"===e?new zi(t,n):"not-in"===e?new Zi(t,n):"array-contains-any"===e?new $i(t,n):new Li(t,e,n)}static R(t,e,n){return"in"===e?new Vi(t,n):new ji(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P(_i(e,this.value)):null!==e&&gi(this.value)===gi(e)&&this.P(_i(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ar()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ui extends Li{constructor(t,e,n){super(t,e,n),this.key=pi.fromName(n.referenceValue)}matches(t){const e=pi.comparator(t.key,this.key);return this.P(e)}}class Vi extends Li{constructor(t,e){super(t,"in",e),this.keys=Bi(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class ji extends Li{constructor(t,e){super(t,"not-in",e),this.keys=Bi(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Bi(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>pi.fromName(t.referenceValue))}class qi extends Li{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ti(e)&&yi(e.arrayValue,this.value)}}class zi extends Li{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&yi(this.value.arrayValue,e)}}class Zi extends Li{constructor(t,e){super(t,"not-in",e)}matches(t){if(yi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!yi(this.value.arrayValue,e)}}class $i extends Li{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ti(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>yi(this.value.arrayValue,t))}}class Hi{constructor(t,e){this.position=t,this.before=e}}function Gi(t){return`${t.before?"b":"a"}:${t.position.map(t=>bi(t)).join(",")}`}class Ki{constructor(t,e="asc"){this.field=t,this.dir=e}}function Wi(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Qi(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?pi.comparator(pi.fromName(o.referenceValue),n.key):_i(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Yi(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mi(t.position[n],e.position[n]))return!1;return!0}class Ji{constructor(t,e=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function Xi(t,e,n,r,i,s,o,a){return new Ji(t,e,n,r,i,s,o,a)}function ts(t){return new Ji(t)}function es(t){return!hi(t.limit)&&"F"===t.limitType}function ns(t){return!hi(t.limit)&&"L"===t.limitType}function rs(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function is(t){for(const e of t.filters)if(e.v())return e.field;return null}function ss(t){return null!==t.collectionGroup}function os(t){const e=Pr(t);if(null===e.V){e.V=[];const t=is(e),n=rs(e);if(null!==t&&null===n)t.isKeyField()||e.V.push(new Ki(t)),e.V.push(new Ki(ti.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.V.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new Ki(ti.keyField(),t))}}}return e.V}function as(t){const e=Pr(t);if(!e.S)if("F"===e.limitType)e.S=Mi(e.path,e.collectionGroup,os(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of os(e))t.push(new Ki(i.field,"desc"===i.dir?"asc":"desc"));const n=e.endAt?new Hi(e.endAt.position,!e.endAt.before):null,r=e.startAt?new Hi(e.startAt.position,!e.startAt.before):null;e.S=Mi(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.S}function us(t,e,n){return new Ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cs(t,e){return Ri(as(t),as(e))&&t.limitType===e.limitType}function ls(t){return`${Fi(as(t))}|lt:${t.limitType}`}function hs(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(t=>{return`${(e=t).field.canonicalString()} ${e.op} ${bi(e.value)}`;var e}).join(", ")}]`),hi(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(t=>{return`${(e=t).field.canonicalString()} (${e.dir})`;var e}).join(", ")}]`),t.startAt&&(e+=", startAt: "+Gi(t.startAt)),t.endAt&&(e+=", endAt: "+Gi(t.endAt)),`Target(${e})`}(as(t))}; limitType=${t.limitType})`}function ds(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):pi.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!Qi(n.startAt,os(n),r)||n.endAt&&Qi(n.endAt,os(n),r)));var n,r}function fs(t){return(e,n)=>{let r=!1;for(const i of os(t)){const t=ps(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function ps(t,e,n){const r=t.field.isKeyField()?pi.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?_i(r,i):Ar()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ar()}}function gs(t,e){if(t.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:di(e)?"-0":e}}function ms(t){return{integerValue:""+t}}function ys(t,e){return fi(e)?ms(e):gs(t,e)}class _s{constructor(){this._=void 0}}function vs(t,e,n){return t instanceof Cs?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Es?Ts(t,e):t instanceof Ss?Is(t,e):function(t,e){const n=ws(t,e),r=Os(n)+Os(t.C);return Ei(n)&&Ei(t.C)?ms(r):gs(t.N,r)}(t,e)}function bs(t,e,n){return t instanceof Es?Ts(t,e):t instanceof Ss?Is(t,e):n}function ws(t,e){return t instanceof As?Ei(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}class Cs extends _s{}class Es extends _s{constructor(t){super(),this.elements=t}}function Ts(t,e){const n=Ds(e);for(const r of t.elements)n.some(t=>mi(t,r))||n.push(r);return{arrayValue:{values:n}}}class Ss extends _s{constructor(t){super(),this.elements=t}}function Is(t,e){let n=Ds(e);for(const r of t.elements)n=n.filter(t=>!mi(t,r));return{arrayValue:{values:n}}}class As extends _s{constructor(t,e){super(),this.N=t,this.C=e}}function Os(t){return oi(t.integerValue||t.doubleValue)}function Ds(t){return Ti(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ps{constructor(t,e){this.field=t,this.transform=e}}class ks{constructor(t,e){this.version=t,this.transformResults=e}}class xs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new xs}static exists(t){return new xs(void 0,t)}static updateTime(t){return new xs(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ms(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Fs{}function Rs(t,e,n){t instanceof js?function(t,e,n){const r=t.value.clone(),i=zs(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Bs?function(t,e,n){if(!Ms(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=zs(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(qs(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Ns(t,e,n){var r;t instanceof js?function(t,e,n){if(!Ms(t.precondition,e))return;const r=t.value.clone(),i=Zs(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Vs(e),r).setHasLocalMutations()}(t,e,n):t instanceof Bs?function(t,e,n){if(!Ms(t.precondition,e))return;const r=Zs(t.fieldTransforms,n,e),i=e.data;i.setAll(qs(t)),i.setAll(r),e.convertToFoundDocument(Vs(e),i).setHasLocalMutations()}(t,e,n):Ms(t.precondition,r=e)&&r.convertToNoDocument(Gr.min())}function Ls(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=ws(r.transform,t||null);null!=i&&(null==n&&(n=Di.empty()),n.set(r.field,i))}return n||null}function Us(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Zr(n,r,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Es&&r instanceof Es||n instanceof Ss&&r instanceof Ss?Zr(n.elements,r.elements,mi):n instanceof As&&r instanceof As?mi(n.C,r.C):n instanceof Cs&&r instanceof Cs);var n,r}(t,e))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function Vs(t){return t.isFoundDocument()?t.version:Gr.min()}class js extends Fs{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Bs extends Fs{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function qs(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zs(t,e,n){const r=new Map;Or(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,bs(o,a,n[i]))}return r}function Zs(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,vs(t,s,e))}return r}class $s extends Fs{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class Hs extends Fs{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class Gs{constructor(t){this.count=t}}var Ks,Ws;function Qs(t){switch(t){default:return Ar();case kr.CANCELLED:case kr.UNKNOWN:case kr.DEADLINE_EXCEEDED:case kr.RESOURCE_EXHAUSTED:case kr.INTERNAL:case kr.UNAVAILABLE:case kr.UNAUTHENTICATED:return!1;case kr.INVALID_ARGUMENT:case kr.NOT_FOUND:case kr.ALREADY_EXISTS:case kr.PERMISSION_DENIED:case kr.FAILED_PRECONDITION:case kr.ABORTED:case kr.OUT_OF_RANGE:case kr.UNIMPLEMENTED:case kr.DATA_LOSS:return!0}}function Ys(t){if(void 0===t)return Tr("GRPC error has no .code"),kr.UNKNOWN;switch(t){case Ks.OK:return kr.OK;case Ks.CANCELLED:return kr.CANCELLED;case Ks.UNKNOWN:return kr.UNKNOWN;case Ks.DEADLINE_EXCEEDED:return kr.DEADLINE_EXCEEDED;case Ks.RESOURCE_EXHAUSTED:return kr.RESOURCE_EXHAUSTED;case Ks.INTERNAL:return kr.INTERNAL;case Ks.UNAVAILABLE:return kr.UNAVAILABLE;case Ks.UNAUTHENTICATED:return kr.UNAUTHENTICATED;case Ks.INVALID_ARGUMENT:return kr.INVALID_ARGUMENT;case Ks.NOT_FOUND:return kr.NOT_FOUND;case Ks.ALREADY_EXISTS:return kr.ALREADY_EXISTS;case Ks.PERMISSION_DENIED:return kr.PERMISSION_DENIED;case Ks.FAILED_PRECONDITION:return kr.FAILED_PRECONDITION;case Ks.ABORTED:return kr.ABORTED;case Ks.OUT_OF_RANGE:return kr.OUT_OF_RANGE;case Ks.UNIMPLEMENTED:return kr.UNIMPLEMENTED;case Ks.DATA_LOSS:return kr.DATA_LOSS;default:return Ar()}}(Ws=Ks||(Ks={}))[Ws.OK=0]="OK",Ws[Ws.CANCELLED=1]="CANCELLED",Ws[Ws.UNKNOWN=2]="UNKNOWN",Ws[Ws.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ws[Ws.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ws[Ws.NOT_FOUND=5]="NOT_FOUND",Ws[Ws.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ws[Ws.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ws[Ws.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ws[Ws.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ws[Ws.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ws[Ws.ABORTED=10]="ABORTED",Ws[Ws.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ws[Ws.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ws[Ws.INTERNAL=13]="INTERNAL",Ws[Ws.UNAVAILABLE=14]="UNAVAILABLE",Ws[Ws.DATA_LOSS=15]="DATA_LOSS";class Js{constructor(t,e){this.comparator=t,this.root=e||to.EMPTY}insert(t,e){return new Js(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,to.BLACK,null,null))}remove(t){return new Js(this.comparator,this.root.remove(t,this.comparator).copy(null,null,to.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xs(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xs(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xs(this.root,t,this.comparator,!0)}}class Xs{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class to{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:to.RED,this.left=null!=r?r:to.EMPTY,this.right=null!=i?i:to.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new to(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return to.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return to.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,to.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,to.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ar();const t=this.left.check();if(t!==this.right.check())throw Ar();return t+(this.isRed()?0:1)}}to.EMPTY=null,to.RED=!0,to.BLACK=!1,to.EMPTY=new class{constructor(){this.size=0}get key(){throw Ar()}get value(){throw Ar()}get color(){throw Ar()}get left(){throw Ar()}get right(){throw Ar()}copy(t,e,n,r,i){return this}insert(t,e,n){return new to(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class eo{constructor(t){this.comparator=t,this.data=new Js(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new no(this.data.getIterator())}getIteratorFrom(t){return new no(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new eo(this.comparator);return e.data=t,e}}class no{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const ro=new Js(pi.comparator);function io(){return ro}const so=new Js(pi.comparator);function oo(){return so}const ao=new Js(pi.comparator);function uo(){return ao}const co=new eo(pi.comparator);function lo(...t){let e=co;for(const n of t)e=e.add(n);return e}const ho=new eo(zr);function fo(){return ho}class po{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,go.createSynthesizedTargetChangeForCurrentChange(t,e)),new po(Gr.min(),n,fo(),io(),lo())}}class go{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e){return new go(ri.EMPTY_BYTE_STRING,e,lo(),lo(),lo())}}class mo{constructor(t,e,n,r){this.k=t,this.removedTargetIds=e,this.key=n,this.$=r}}class yo{constructor(t,e){this.targetId=t,this.O=e}}class _o{constructor(t,e,n=ri.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class vo{constructor(){this.F=0,this.M=Co(),this.L=ri.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=lo(),e=lo(),n=lo();return this.M.forEach((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ar()}}),new go(this.L,this.B,t,e,n)}G(){this.U=!1,this.M=Co()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class bo{constructor(t){this.tt=t,this.et=new Map,this.nt=io(),this.st=wo(),this.it=new eo(zr)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.ct(e,t.key,t.$);for(const e of t.removedTargetIds)this.ct(e,t.key,t.$)}at(t){this.forEachTarget(t,e=>{const n=this.ut(e);switch(t.state){case 0:this.ht(e)&&n.j(t.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(t.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(e);break;case 3:this.ht(e)&&(n.Z(),n.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),n.j(t.resumeToken));break;default:Ar()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach((t,n)=>{this.ht(n)&&e(n)})}ft(t){const e=t.targetId,n=t.O.count,r=this.dt(e);if(r){const t=r.target;if(Ni(t))if(0===n){const n=new pi(t.path);this.ct(e,n,ki.newNoDocument(n,Gr.min()))}else Or(1===n);else this.wt(e)!==n&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&Ni(i.target)){const e=new pi(i.target.path);null!==this.nt.get(e)||this.gt(r,e)||this.ct(r,e,ki.newNoDocument(e,t))}n.K&&(e.set(r,n.W()),n.G())}});let n=lo();this.st.forEach((t,e)=>{let r=!0;e.forEachWhile(t=>{const e=this.dt(t);return!e||2===e.purpose||(r=!1,!1)}),r&&(n=n.add(t))});const r=new po(t,e,this.it,this.nt,n);return this.nt=io(),this.st=wo(),this.it=new eo(zr),r}ot(t,e){if(!this.ht(t))return;const n=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,n),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}ct(t,e,n){if(!this.ht(t))return;const r=this.ut(t);this.gt(t,e)?r.H(e,1):r.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),n&&(this.nt=this.nt.insert(e,n))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new vo,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new eo(zr),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||Er("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Tt(t)}lt(t){this.et.set(t,new vo),this.tt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function wo(){return new Js(pi.comparator)}function Co(){return new Js(pi.comparator)}const Eo={asc:"ASCENDING",desc:"DESCENDING"},To={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class So{constructor(t,e){this.databaseId=t,this.D=e}}function Io(t,e){return t.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ao(t,e){return t.D?e.toBase64():e.toUint8Array()}function Oo(t,e){return Io(t,e.toTimestamp())}function Do(t){return Or(!!t),Gr.fromTimestamp(function(t){const e=si(t);return new Hr(e.seconds,e.nanos)}(t))}function Po(t,e){return(n=t,new Jr(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function ko(t){const e=Jr.fromString(t);return Or(ea(e)),e}function xo(t,e){return Po(t.databaseId,e.path)}function Mo(t,e){const n=ko(e);if(n.get(1)!==t.databaseId.projectId)throw new xr(kr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xr(kr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new pi(Lo(n))}function Fo(t,e){return Po(t.databaseId,e)}function Ro(t){const e=ko(t);return 4===e.length?Jr.emptyPath():Lo(e)}function No(t){return new Jr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Lo(t){return Or(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Uo(t,e,n){return{name:xo(t,e),fields:n.value.mapValue.fields}}function Vo(t,e,n){const r=Mo(t,e.name),i=Do(e.updateTime),s=new Di({mapValue:{fields:e.fields}}),o=ki.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function jo(t,e){let n;if(e instanceof js)n={update:Uo(t,e.key,e.value)};else if(e instanceof $s)n={delete:xo(t,e.key)};else if(e instanceof Bs)n={update:Uo(t,e.key,e.data),updateMask:ta(e.fieldMask)};else{if(!(e instanceof Hs))return Ar();n={verify:xo(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof Cs)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Es)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ss)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof As)return{fieldPath:e.field.canonicalString(),increment:n.C};throw Ar()}(0,t))),e.precondition.isNone||(n.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Oo(t,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Ar()),n;var r}function Bo(t,e){const n=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?xs.updateTime(Do(i.updateTime)):void 0!==i.exists?xs.exists(i.exists):xs.none():xs.none(),r=e.updateTransforms?e.updateTransforms.map(e=>function(t,e){let n=null;"setToServerValue"in e?(Or("REQUEST_TIME"===e.setToServerValue),n=new Cs):"appendMissingElements"in e?n=new Es(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ss(e.removeAllFromArray.values||[]):"increment"in e?n=new As(t,e.increment):Ar();const r=ti.fromServerFormat(e.fieldPath);return new Ps(r,n)}(t,e)):[];var i;if(e.update){const i=Mo(t,e.update.name),s=new Di({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=new ei((e.updateMask.fieldPaths||[]).map(t=>ti.fromServerFormat(t)));return new Bs(i,s,t,n,r)}return new js(i,s,n,r)}if(e.delete){const r=Mo(t,e.delete);return new $s(r,n)}if(e.verify){const r=Mo(t,e.verify);return new Hs(r,n)}return Ar()}function qo(t,e){return{documents:[Fo(t,e.path)]}}function zo(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Fo(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fo(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0===t.length)return;const e=t.map(t=>function(t){if("=="===t.op){if(Ii(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(Si(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ii(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(Si(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:Wo(t.op),value:t.value}}}(t));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(t){if(0!==t.length)return t.map(t=>{return{field:Qo((e=t).field),direction:Ko(e.dir)};var e})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(a=e.limit,t.D||hi(a)?a:{value:a});var a;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=Ho(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Ho(e.endAt)),n}function Zo(t){let e=Ro(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Or(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=$o(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(t=>{return new Ki(Yo((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e}));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,hi(e)?null:e}(n.limit));let u=null;n.startAt&&(u=Go(n.startAt));let c=null;return n.endAt&&(c=Go(n.endAt)),Xi(e,i,o,s,a,"F",u,c)}function $o(t){return t?void 0!==t.unaryFilter?[Xo(t)]:void 0!==t.fieldFilter?[Jo(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(t=>$o(t)).reduce((t,e)=>t.concat(e)):Ar():[]}function Ho(t){return{before:t.before,values:t.position}}function Go(t){return new Hi(t.values||[],!!t.before)}function Ko(t){return Eo[t]}function Wo(t){return To[t]}function Qo(t){return{fieldPath:t.canonicalString()}}function Yo(t){return ti.fromServerFormat(t.fieldPath)}function Jo(t){return Li.create(Yo(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ar()}}(t.fieldFilter.op),t.fieldFilter.value)}function Xo(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Yo(t.unaryFilter.field);return Li.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Yo(t.unaryFilter.field);return Li.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yo(t.unaryFilter.field);return Li.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Yo(t.unaryFilter.field);return Li.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ar()}}function ta(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ea(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function na(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ia(e)),e=ra(t.get(n),e);return ia(e)}function ra(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function ia(t){return t+"\x01\x01"}function sa(t){const e=t.length;if(Or(e>=2),2===e)return Or("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Jr.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const e=t.indexOf("\x01",s);switch((e<0||e>n)&&Ar(),t.charAt(e+1)){case"\x01":const n=t.substring(s,e);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=t.substring(s,e),i+="\0";break;case"\x11":i+=t.substring(s,e+1);break;default:Ar()}s=e+2}return new Jr(r)}class oa{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class aa{constructor(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}}aa.store="owner",aa.key="owner";class ua{constructor(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}}ua.store="mutationQueues",ua.keyPath="userId";class ca{constructor(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}ca.store="mutations",ca.keyPath="batchId",ca.userMutationsIndex="userMutationsIndex",ca.userMutationsKeyPath=["userId","batchId"];class la{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,na(e)]}static key(t,e,n){return[t,na(e),n]}}la.store="documentMutations",la.PLACEHOLDER=new la;class ha{constructor(t,e){this.path=t,this.readTime=e}}class da{constructor(t,e){this.path=t,this.version=e}}class fa{constructor(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}fa.store="remoteDocuments",fa.readTimeIndex="readTimeIndex",fa.readTimeIndexPath="readTime",fa.collectionReadTimeIndex="collectionReadTimeIndex",fa.collectionReadTimeIndexPath=["parentPath","readTime"];class pa{constructor(t){this.byteSize=t}}pa.store="remoteDocumentGlobal",pa.key="remoteDocumentGlobalKey";class ga{constructor(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}ga.store="targets",ga.keyPath="targetId",ga.queryTargetsIndexName="queryTargetsIndex",ga.queryTargetsKeyPath=["canonicalId","targetId"];class ma{constructor(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}}ma.store="targetDocuments",ma.keyPath=["targetId","path"],ma.documentTargetsIndex="documentTargetsIndex",ma.documentTargetsKeyPath=["path","targetId"];class ya{constructor(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}ya.key="targetGlobalKey",ya.store="targetGlobal";class _a{constructor(t,e){this.collectionId=t,this.parent=e}}_a.store="collectionParents",_a.keyPath=["collectionId","parent"];class va{constructor(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}}va.store="clientMetadata",va.keyPath="clientId";class ba{constructor(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}}ba.store="bundles",ba.keyPath="bundleId";class wa{constructor(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}}wa.store="namedQueries",wa.keyPath="name";const Ca=[ua.store,ca.store,la.store,fa.store,ga.store,aa.store,ya.store,ma.store,va.store,pa.store,_a.store,ba.store,wa.store],Ea="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ta{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Sa{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ar(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Sa((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Sa?e:Sa.resolve(e)}catch(e){return Sa.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Sa.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Sa.reject(e)}static resolve(t){return new Sa((e,n)=>{e(t)})}static reject(t){return new Sa((e,n)=>{n(t)})}static waitFor(t){return new Sa((e,n)=>{let r=0,i=0,s=!1;t.forEach(t=>{++r,t.next(()=>{++i,s&&i===r&&e()},t=>n(t))}),s=!0,i===r&&e()})}static or(t){let e=Sa.resolve(!1);for(const n of t)e=e.next(t=>t?Sa.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,r)=>{n.push(e.call(this,t,r))}),this.waitFor(n)}}class Ia{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Et=new Mr,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{e.error?this.Et.reject(new Da(t,e.error)):this.Et.resolve()},this.transaction.onerror=e=>{const n=Fa(e.target.error);this.Et.reject(new Da(t,n))}}static open(t,e,n,r){try{return new Ia(e,t.transaction(r,n))}catch(i){throw new Da(e,i)}}get It(){return this.Et.promise}abort(t){t&&this.Et.reject(t),this.aborted||(Er("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new ka(e)}}class Aa{constructor(t,e,n){this.name=t,this.version=e,this.At=n,12.2===Aa.Rt((0,u.z$)())&&Tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Er("SimpleDb","Removing database:",t),xa(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,u.hl)())return!1;if(Aa.Pt())return!0;const t=(0,u.z$)(),e=Aa.Rt(t),n=0<e&&e<10,r=Aa.vt(t),i=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||i)}static Pt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Vt)}static St(t,e){return t.store(e)}static Rt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(t){var e=this;return(0,i.Z)(function*(){return e.db||(Er("SimpleDb","Opening database:",e.name),e.db=yield new Promise((n,r)=>{const i=indexedDB.open(e.name,e.version);i.onsuccess=t=>{n(t.target.result)},i.onblocked=()=>{r(new Da(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=e=>{const n=e.target.error;r("VersionError"===n.name?new xr(kr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new xr(kr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new Da(t,n))},i.onupgradeneeded=t=>{Er("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion),e.At.Ct(t.target.result,i.transaction,t.oldVersion,e.version).next(()=>{Er("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Nt&&(e.db.onversionchange=t=>e.Nt(t)),e.db})()}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,n,r){var s=this;return(0,i.Z)(function*(){const i="readonly"===e;let o=0;for(;;){++o;try{s.db=yield s.Dt(t);const e=Ia.open(s.db,t,i?"readonly":"readwrite",n),o=r(e).catch(t=>(e.abort(t),Sa.reject(t))).toPromise();return o.catch(()=>{}),yield e.It,o}catch(a){const t="FirebaseError"!==a.name&&o<3;if(Er("SimpleDb","Transaction failed with error:",a.message,"Retrying:",t),s.close(),!t)return Promise.reject(a)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Oa{constructor(t){this.kt=t,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(t){this.kt=t}done(){this.$t=!0}Mt(t){this.Ot=t}delete(){return xa(this.kt.delete())}}class Da extends xr{constructor(t,e){super(kr.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Pa(t){return"IndexedDbTransactionError"===t.name}class ka{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(Er("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Er("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),xa(n)}add(t){return Er("SimpleDb","ADD",this.store.name,t,t),xa(this.store.add(t))}get(t){return xa(this.store.get(t)).next(e=>(void 0===e&&(e=null),Er("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Er("SimpleDb","DELETE",this.store.name,t),xa(this.store.delete(t))}count(){return Er("SimpleDb","COUNT",this.store.name),xa(this.store.count())}Lt(t,e){const n=this.cursor(this.options(t,e)),r=[];return this.Bt(n,(t,e)=>{r.push(e)}).next(()=>r)}Ut(t,e){Er("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(t,e,n)=>n.delete())}Kt(t,e){let n;e?n=t:(n={},e=t);const r=this.cursor(n);return this.Bt(r,e)}jt(t){const e=this.cursor({});return new Sa((n,r)=>{e.onerror=t=>{const e=Fa(t.target.error);r(e)},e.onsuccess=e=>{const r=e.target.result;r?t(r.primaryKey,r.value).next(t=>{t?r.continue():n()}):n()}})}Bt(t,e){const n=[];return new Sa((r,i)=>{t.onerror=t=>{i(t.target.error)},t.onsuccess=t=>{const i=t.target.result;if(!i)return void r();const s=new Oa(i),o=e(i.primaryKey,i.value,s);if(o instanceof Sa){const t=o.catch(t=>(s.done(),Sa.reject(t)));n.push(t)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>Sa.waitFor(n))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.qt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function xa(t){return new Sa((e,n)=>{t.onsuccess=t=>{e(t.target.result)},t.onerror=t=>{const e=Fa(t.target.error);n(e)}})}let Ma=!1;function Fa(t){const e=Aa.Rt((0,u.z$)());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new xr("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ma||(Ma=!0,setTimeout(()=>{throw t},0)),t}}return t}class Ra extends Ta{constructor(t,e){super(),this.Qt=t,this.currentSequenceNumber=e}}function Na(t,e){const n=Pr(t);return Aa.St(n.Qt,e)}class La{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&Rs(e,t,n[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Ns(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Ns(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const n=t.get(e.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(Gr.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),lo())}isEqual(t){return this.batchId===t.batchId&&Zr(this.mutations,t.mutations,(t,e)=>Us(t,e))&&Zr(this.baseMutations,t.baseMutations,(t,e)=>Us(t,e))}}class Ua{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Or(t.mutations.length===n.length);let r=uo();const i=t.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Ua(t,e,n,r)}}class Va{constructor(t,e,n,r,i=Gr.min(),s=Gr.min(),o=ri.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new Va(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class ja{constructor(t){this.Wt=t}}function Ba(t,e){if(e.document)return Vo(t.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=pi.fromSegments(e.noDocument.path),n=Ha(e.noDocument.readTime),r=ki.newNoDocument(t,n);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){const t=pi.fromSegments(e.unknownDocument.path),n=Ha(e.unknownDocument.version);return ki.newUnknownDocument(t,n)}return Ar()}function qa(t,e,n){const r=za(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const n={name:xo(s=t.Wt,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Io(s,o.version.toTimestamp())};return new fa(null,null,n,e.hasCommittedMutations,r,i)}var s,o;if(e.isNoDocument()){const t=e.key.path.toArray(),n=$a(e.version),s=e.hasCommittedMutations;return new fa(null,new ha(t,n),null,s,r,i)}if(e.isUnknownDocument()){const t=e.key.path.toArray(),n=$a(e.version);return new fa(new da(t,n),null,null,!0,r,i)}return Ar()}function za(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Za(t){const e=new Hr(t[0],t[1]);return Gr.fromTimestamp(e)}function $a(t){const e=t.toTimestamp();return new oa(e.seconds,e.nanoseconds)}function Ha(t){const e=new Hr(t.seconds,t.nanoseconds);return Gr.fromTimestamp(e)}function Ga(t,e){const n=(e.baseMutations||[]).map(e=>Bo(t.Wt,e));for(let s=0;s<e.mutations.length-1;++s){const t=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(t.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(e=>Bo(t.Wt,e)),i=Hr.fromMillis(e.localWriteTimeMs);return new La(e.batchId,i,n,r)}function Ka(t){const e=Ha(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Ha(t.lastLimboFreeSnapshotVersion):Gr.min();let r;var i;return void 0!==t.query.documents?(Or(1===(i=t.query).documents.length),r=as(ts(Ro(i.documents[0])))):r=as(Zo(t.query)),new Va(r,t.targetId,0,t.lastListenSequenceNumber,e,n,ri.fromBase64String(t.resumeToken))}function Wa(t,e){const n=$a(e.snapshotVersion),r=$a(e.lastLimboFreeSnapshotVersion);let i;i=Ni(e.target)?qo(t.Wt,e.target):zo(t.Wt,e.target);const s=e.resumeToken.toBase64();return new ga(e.targetId,Fi(e.target),n,s,e.sequenceNumber,r,i)}function Qa(t){const e=Zo({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?us(e,e.limit,"L"):e}class Ya{getBundleMetadata(t,e){return Ja(t).get(e).next(t=>{if(t)return{id:(e=t).bundleId,createTime:Ha(e.createTime),version:e.version};var e})}saveBundleMetadata(t,e){return Ja(t).put({bundleId:(n=e).id,createTime:$a(Do(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return Xa(t).get(e).next(t=>{if(t)return{name:(e=t).name,query:Qa(e.bundledQuery),readTime:Ha(e.readTime)};var e})}saveNamedQuery(t,e){return Xa(t).put({name:(n=e).name,readTime:$a(Do(n.readTime)),bundledQuery:n.bundledQuery});var n}}function Ja(t){return Na(t,ba.store)}function Xa(t){return Na(t,wa.store)}class tu{constructor(){this.Gt=new eu}addToCollectionParentIndex(t,e){return this.Gt.add(e),Sa.resolve()}getCollectionParents(t,e){return Sa.resolve(this.Gt.getEntries(e))}}class eu{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new eo(Jr.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new eo(Jr.comparator)).toArray()}}class nu{constructor(){this.zt=new eu}addToCollectionParentIndex(t,e){if(!this.zt.has(e)){const n=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.zt.add(e)});const i={collectionId:n,parent:na(r)};return ru(t).put(i)}return Sa.resolve()}getCollectionParents(t,e){const n=[],r=IDBKeyRange.bound([e,""],[$r(e),""],!1,!0);return ru(t).Lt(r).next(t=>{for(const r of t){if(r.collectionId!==e)break;n.push(sa(r.parent))}return n})}}function ru(t){return Na(t,_a.store)}const iu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class su{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new su(t,su.DEFAULT_COLLECTION_PERCENTILE,su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ou(t,e,n){const r=t.store(ca.store),i=t.store(la.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Kt({range:o},(t,e,n)=>(a++,n.delete()));s.push(u.next(()=>{Or(1===a)}));const c=[];for(const l of n.mutations){const t=la.key(e,l.key.path,n.batchId);s.push(i.delete(t)),c.push(l.key)}return Sa.waitFor(s).next(()=>c)}function au(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ar();e=t.noDocument}return JSON.stringify(e).length}su.DEFAULT_COLLECTION_PERCENTILE=10,su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,su.DEFAULT=new su(41943040,su.DEFAULT_COLLECTION_PERCENTILE,su.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),su.DISABLED=new su(-1,0,0);class uu{constructor(t,e,n,r){this.userId=t,this.N=e,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(t,e,n,r){Or(""!==t.uid);const i=t.isAuthenticated()?t.uid:"";return new uu(i,e,n,r)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lu(t).Kt({index:ca.userMutationsIndex,range:n},(t,n,r)=>{e=!1,r.done()}).next(()=>e)}addMutationBatch(t,e,n,r){const i=hu(t),s=lu(t);return s.add({}).next(o=>{Or("number"==typeof o);const a=new La(o,e,n,r),u=function(t,e,n){const r=n.baseMutations.map(e=>jo(t.Wt,e)),i=n.mutations.map(e=>jo(t.Wt,e));return new ca(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let l=new eo((t,e)=>zr(t.canonicalString(),e.canonicalString()));for(const t of r){const e=la.key(this.userId,t.key.path,o);l=l.add(t.key.path.popLast()),c.push(s.put(u)),c.push(i.put(e,la.PLACEHOLDER))}return l.forEach(e=>{c.push(this.Ht.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),Sa.waitFor(c).next(()=>a)})}lookupMutationBatch(t,e){return lu(t).get(e).next(t=>t?(Or(t.userId===this.userId),Ga(this.N,t)):null)}Xt(t,e){return this.Jt[e]?Sa.resolve(this.Jt[e]):this.lookupMutationBatch(t,e).next(t=>{if(t){const n=t.keys();return this.Jt[e]=n,n}return null})}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return lu(t).Kt({index:ca.userMutationsIndex,range:r},(t,e,r)=>{e.userId===this.userId&&(Or(e.batchId>=n),i=Ga(this.N,e)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return lu(t).Kt({index:ca.userMutationsIndex,range:e,reverse:!0},(t,e,r)=>{n=e.batchId,r.done()}).next(()=>n)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lu(t).Lt(ca.userMutationsIndex,e).next(t=>t.map(t=>Ga(this.N,t)))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=la.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(n),i=[];return hu(t).Kt({range:r},(n,r,s)=>{const[o,a,u]=n,c=sa(a);if(o===this.userId&&e.path.isEqual(c))return lu(t).get(u).next(t=>{if(!t)throw Ar();Or(t.userId===this.userId),i.push(Ga(this.N,t))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new eo(zr);const r=[];return e.forEach(e=>{const i=la.prefixForPath(this.userId,e.path),s=IDBKeyRange.lowerBound(i),o=hu(t).Kt({range:s},(t,r,i)=>{const[s,o,a]=t,u=sa(o);s===this.userId&&e.path.isEqual(u)?n=n.add(a):i.done()});r.push(o)}),Sa.waitFor(r).next(()=>this.Zt(t,n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1,i=la.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new eo(zr);return hu(t).Kt({range:s},(t,e,i)=>{const[s,a,u]=t,c=sa(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(u)):i.done()}).next(()=>this.Zt(t,o))}Zt(t,e){const n=[],r=[];return e.forEach(e=>{r.push(lu(t).get(e).next(t=>{if(null===t)throw Ar();Or(t.userId===this.userId),n.push(Ga(this.N,t))}))}),Sa.waitFor(r).next(()=>n)}removeMutationBatch(t,e){return ou(t.Qt,this.userId,e).next(n=>(t.addOnCommittedListener(()=>{this.te(e.batchId)}),Sa.forEach(n,e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))}te(t){delete this.Jt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Sa.resolve();const n=IDBKeyRange.lowerBound(la.prefixForUser(this.userId)),r=[];return hu(t).Kt({range:n},(t,e,n)=>{if(t[0]===this.userId){const e=sa(t[1]);r.push(e)}else n.done()}).next(()=>{Or(0===r.length)})})}containsKey(t,e){return cu(t,this.userId,e)}ee(t){return du(t).get(this.userId).next(t=>t||new ua(this.userId,-1,""))}}function cu(t,e,n){const r=la.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return hu(t).Kt({range:s,qt:!0},(t,n,r)=>{const[s,a,u]=t;s===e&&a===i&&(o=!0),r.done()}).next(()=>o)}function lu(t){return Na(t,ca.store)}function hu(t){return Na(t,la.store)}function du(t){return Na(t,ua.store)}class fu{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new fu(0)}static ie(){return new fu(-1)}}class pu{constructor(t,e){this.referenceDelegate=t,this.N=e}allocateTargetId(t){return this.re(t).next(e=>{const n=new fu(e.highestTargetId);return e.highestTargetId=n.next(),this.oe(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.re(t).next(t=>Gr.fromTimestamp(new Hr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.re(t).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(t,e,n){return this.re(t).next(r=>(r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.oe(t,r)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.re(t).next(n=>(n.targetCount+=1,this.ae(e,n),this.oe(t,n))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>gu(t).delete(e.targetId)).next(()=>this.re(t)).next(e=>(Or(e.targetCount>0),e.targetCount-=1,this.oe(t,e)))}removeTargets(t,e,n){let r=0;const i=[];return gu(t).Kt((s,o)=>{const a=Ka(o);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(t,a)))}).next(()=>Sa.waitFor(i)).next(()=>r)}forEachTarget(t,e){return gu(t).Kt((t,n)=>{const r=Ka(n);e(r)})}re(t){return mu(t).get(ya.key).next(t=>(Or(null!==t),t))}oe(t,e){return mu(t).put(ya.key,e)}ce(t,e){return gu(t).put(Wa(this.N,e))}ae(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.re(t).next(t=>t.targetCount)}getTargetData(t,e){const n=Fi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return gu(t).Kt({range:r,index:ga.queryTargetsIndexName},(t,n,r)=>{const s=Ka(n);Ri(e,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(t,e,n){const r=[],i=yu(t);return e.forEach(e=>{const s=na(e.path);r.push(i.put(new ma(n,s))),r.push(this.referenceDelegate.addReference(t,n,e))}),Sa.waitFor(r)}removeMatchingKeys(t,e,n){const r=yu(t);return Sa.forEach(e,e=>{const i=na(e.path);return Sa.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(t,n,e)])})}removeMatchingKeysForTargetId(t,e){const n=yu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),r=yu(t);let i=lo();return r.Kt({range:n,qt:!0},(t,e,n)=>{const r=sa(t[1]),s=new pi(r);i=i.add(s)}).next(()=>i)}containsKey(t,e){const n=na(e.path),r=IDBKeyRange.bound([n],[$r(n)],!1,!0);let i=0;return yu(t).Kt({index:ma.documentTargetsIndex,qt:!0,range:r},([t,e],n,r)=>{0!==t&&(i++,r.done())}).next(()=>i>0)}Tt(t,e){return gu(t).get(e).next(t=>t?Ka(t):null)}}function gu(t){return Na(t,ga.store)}function mu(t){return Na(t,ya.store)}function yu(t){return Na(t,ma.store)}function _u(t){return vu.apply(this,arguments)}function vu(){return(vu=(0,i.Z)(function*(t){if(t.code!==kr.FAILED_PRECONDITION||t.message!==Ea)throw t;Er("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function bu([t,e],[n,r]){const i=zr(t,n);return 0===i?zr(e,r):i}class wu{constructor(t){this.ue=t,this.buffer=new eo(bu),this.he=0}le(){return++this.he}fe(t){const e=[t,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();bu(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Cu{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.de=!1,this.we=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(t)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(t){var e=this;const n=this.de?3e5:6e4;Er("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,i.Z)(function*(){e.we=null,e.de=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(n){Pa(n)?Er("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield _u(n)}yield e._e(t)}))}}class Eu{constructor(t,e){this.me=t,this.params=e}calculateTargetCount(t,e){return this.me.ge(t).next(t=>Math.floor(e/100*t))}nthSequenceNumber(t,e){if(0===e)return Sa.resolve(jr.T);const n=new wu(e);return this.me.forEachTarget(t,t=>n.fe(t.sequenceNumber)).next(()=>this.me.ye(t,t=>n.fe(t))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.me.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.me.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Er("LruGarbageCollector","Garbage collection skipped; disabled"),Sa.resolve(iu)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Er("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iu):this.pe(t,e))}getCacheSize(t){return this.me.getCacheSize(t)}pe(t,e){let n,r,i,s,o,u,c;const l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(e>this.params.maximumSequenceNumbersToCollect?(Er("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),r=this.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),this.nthSequenceNumber(t,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(t,n,e))).next(e=>(i=e,u=Date.now(),this.removeOrphanedDocuments(t,n))).next(t=>(c=Date.now(),wr()<=a.in.DEBUG&&Er("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-l}ms\n\tDetermined least recently used ${r} in `+(o-s)+`ms\n\tRemoved ${i} targets in `+(u-o)+`ms\n\tRemoved ${t} documents in `+(c-u)+`ms\nTotal Duration: ${c-l}ms`),Sa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})))}}class Tu{constructor(t,e){this.db=t,this.garbageCollector=new Eu(this,e)}ge(t){const e=this.Te(t);return this.db.getTargetCache().getTargetCount(t).next(t=>e.next(e=>t+e))}Te(t){let e=0;return this.ye(t,t=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ye(t,e){return this.Ee(t,(t,n)=>e(n))}addReference(t,e,n){return Su(t,n)}removeReference(t,e,n){return Su(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return Su(t,e)}Ie(t,e){return function(t,e){let n=!1;return du(t).jt(r=>cu(t,r,e).next(t=>(t&&(n=!0),Sa.resolve(!t)))).next(()=>n)}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ee(t,(s,o)=>{if(o<=e){const e=this.Ie(t,s).next(e=>{if(!e)return i++,n.getEntry(t,s).next(()=>(n.removeEntry(s),yu(t).delete([0,na(s.path)])))});r.push(e)}}).next(()=>Sa.waitFor(r)).next(()=>n.apply(t)).next(()=>i)}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return Su(t,e)}Ee(t,e){const n=yu(t);let r,i=jr.T;return n.Kt({index:ma.documentTargetsIndex},([t,n],{path:s,sequenceNumber:o})=>{0===t?(i!==jr.T&&e(new pi(sa(r)),i),i=o,r=s):i=jr.T}).next(()=>{i!==jr.T&&e(new pi(sa(r)),i)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Su(t,e){return yu(t).put((n=t.currentSequenceNumber,new ma(0,na(e.path),n)));var n}class Iu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1}forEach(t){Wr(this.inner,(e,n)=>{for(const[r,i]of n)t(r,i)})}isEmpty(){return Qr(this.inner)}}class Au{constructor(){this.changes=new Iu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Gr.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:ki.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Sa.resolve(n.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ou{constructor(t,e){this.N=t,this.Ht=e}addEntry(t,e,n){return ku(t).put(xu(e),n)}removeEntry(t,e){const n=ku(t),r=xu(e);return n.delete(r)}updateMetadata(t,e){return this.getMetadata(t).next(n=>(n.byteSize+=e,this.Ae(t,n)))}getEntry(t,e){return ku(t).get(xu(e)).next(t=>this.Re(e,t))}be(t,e){return ku(t).get(xu(e)).next(t=>({document:this.Re(e,t),size:au(t)}))}getEntries(t,e){let n=io();return this.Pe(t,e,(t,e)=>{const r=this.Re(t,e);n=n.insert(t,r)}).next(()=>n)}ve(t,e){let n=io(),r=new Js(pi.comparator);return this.Pe(t,e,(t,e)=>{const i=this.Re(t,e);n=n.insert(t,i),r=r.insert(t,au(e))}).next(()=>({documents:n,Ve:r}))}Pe(t,e,n){if(e.isEmpty())return Sa.resolve();const r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator();let s=i.getNext();return ku(t).Kt({range:r},(t,e,r)=>{const o=pi.fromSegments(t);for(;s&&pi.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(t,e,n){let r=io();const i=e.path.length+1,s={};if(n.isEqual(Gr.min())){const t=e.path.toArray();s.range=IDBKeyRange.lowerBound(t)}else{const t=e.path.toArray(),r=za(n);s.range=IDBKeyRange.lowerBound([t,r],!0),s.index=fa.collectionReadTimeIndex}return ku(t).Kt(s,(t,n,s)=>{if(t.length!==i)return;const o=Ba(this.N,n);e.path.isPrefixOf(o.key.path)?ds(e,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(t){return new Du(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(t=>t.byteSize)}getMetadata(t){return Pu(t).get(pa.key).next(t=>(Or(!!t),t))}Ae(t,e){return Pu(t).put(pa.key,e)}Re(t,e){if(e){const t=Ba(this.N,e);if(!t.isNoDocument()||!t.version.isEqual(Gr.min()))return t}return ki.newInvalidDocument(t)}}class Du extends Au{constructor(t,e){super(),this.Se=t,this.trackRemovals=e,this.De=new Iu(t=>t.toString(),(t,e)=>t.isEqual(e))}applyChanges(t){const e=[];let n=0,r=new eo((t,e)=>zr(t.canonicalString(),e.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=qa(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast()),n+=au(a)-o,e.push(this.Se.addEntry(t,i,a))}else if(n-=o,this.trackRemovals){const n=qa(this.Se.N,ki.newNoDocument(i,Gr.min()),this.getReadTime(i));e.push(this.Se.addEntry(t,i,n))}else e.push(this.Se.removeEntry(t,i))}),r.forEach(n=>{e.push(this.Se.Ht.addToCollectionParentIndex(t,n))}),e.push(this.Se.updateMetadata(t,n)),Sa.waitFor(e)}getFromCache(t,e){return this.Se.be(t,e).next(t=>(this.De.set(e,t.size),t.document))}getAllFromCache(t,e){return this.Se.ve(t,e).next(({documents:t,Ve:e})=>(e.forEach((t,e)=>{this.De.set(t,e)}),t))}}function Pu(t){return Na(t,pa.store)}function ku(t){return Na(t,fa.store)}function xu(t){return t.path.toArray()}class Mu{constructor(t){this.N=t}Ct(t,e,n,r){Or(n<r&&n>=0&&r<=11);const i=new Ia("createOrUpgrade",e);var s;n<1&&r>=1&&(t.createObjectStore(aa.store),(s=t).createObjectStore(ua.store,{keyPath:ua.keyPath}),s.createObjectStore(ca.store,{keyPath:ca.keyPath,autoIncrement:!0}).createIndex(ca.userMutationsIndex,ca.userMutationsKeyPath,{unique:!0}),s.createObjectStore(la.store),Fu(t),function(t){t.createObjectStore(fa.store)}(t));let o=Sa.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ma.store),t.deleteObjectStore(ga.store),t.deleteObjectStore(ya.store)}(t),Fu(t)),o=o.next(()=>function(t){const e=t.store(ya.store),n=new ya(0,0,Gr.min().toTimestamp(),0);return e.put(ya.key,n)}(i))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>function(t,e){return e.store(ca.store).Lt().next(n=>{t.deleteObjectStore(ca.store),t.createObjectStore(ca.store,{keyPath:ca.keyPath,autoIncrement:!0}).createIndex(ca.userMutationsIndex,ca.userMutationsKeyPath,{unique:!0});const r=e.store(ca.store),i=n.map(t=>r.put(t));return Sa.waitFor(i)})}(t,i))),o=o.next(()=>{!function(t){t.createObjectStore(va.store,{keyPath:va.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(()=>this.Ce(i))),n<6&&r>=6&&(o=o.next(()=>(function(t){t.createObjectStore(pa.store)}(t),this.Ne(i)))),n<7&&r>=7&&(o=o.next(()=>this.xe(i))),n<8&&r>=8&&(o=o.next(()=>this.ke(t,i))),n<9&&r>=9&&(o=o.next(()=>{(function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")})(t),function(t){const e=t.objectStore(fa.store);e.createIndex(fa.readTimeIndex,fa.readTimeIndexPath,{unique:!1}),e.createIndex(fa.collectionReadTimeIndex,fa.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(()=>this.$e(i))),n<11&&r>=11&&(o=o.next(()=>{(function(t){t.createObjectStore(ba.store,{keyPath:ba.keyPath})})(t),function(t){t.createObjectStore(wa.store,{keyPath:wa.keyPath})}(t)})),o}Ne(t){let e=0;return t.store(fa.store).Kt((t,n)=>{e+=au(n)}).next(()=>{const n=new pa(e);return t.store(pa.store).put(pa.key,n)})}Ce(t){const e=t.store(ua.store),n=t.store(ca.store);return e.Lt().next(e=>Sa.forEach(e,e=>{const r=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.Lt(ca.userMutationsIndex,r).next(n=>Sa.forEach(n,n=>{Or(n.userId===e.userId);const r=Ga(this.N,n);return ou(t,e.userId,r).next(()=>{})}))}))}xe(t){const e=t.store(ma.store),n=t.store(fa.store);return t.store(ya.store).get(ya.key).next(t=>{const r=[];return n.Kt((n,i)=>{const s=new Jr(n),o=[0,na(s)];r.push(e.get(o).next(n=>n?Sa.resolve():e.put(new ma(0,na(s),t.highestListenSequenceNumber))))}).next(()=>Sa.waitFor(r))})}ke(t,e){t.createObjectStore(_a.store,{keyPath:_a.keyPath});const n=e.store(_a.store),r=new eu,i=t=>{if(r.add(t)){const e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:na(r)})}};return e.store(fa.store).Kt({qt:!0},(t,e)=>{const n=new Jr(t);return i(n.popLast())}).next(()=>e.store(la.store).Kt({qt:!0},([t,e,n],r)=>{const s=sa(e);return i(s.popLast())}))}$e(t){const e=t.store(ga.store);return e.Kt((t,n)=>{const r=Ka(n),i=Wa(this.N,r);return e.put(i)})}}function Fu(t){t.createObjectStore(ma.store,{keyPath:ma.keyPath}).createIndex(ma.documentTargetsIndex,ma.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ga.store,{keyPath:ga.keyPath}).createIndex(ga.queryTargetsIndexName,ga.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ya.store)}const Ru="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Nu{constructor(t,e,n,r,i,s,o,a,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=u,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=t=>Promise.resolve(),!Nu.bt())throw new xr(kr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tu(this,r),this.We=e+"main",this.N=new ja(a),this.Ge=new Aa(this.We,11,new Mu(this.N)),this.ze=new pu(this.referenceDelegate,this.N),this.Ht=new nu,this.He=new Ou(this.N,this.Ht),this.Je=new Ya,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&Tr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xr(kr.FAILED_PRECONDITION,Ru);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ze.getHighestSequenceNumber(t))}).then(t=>{this.Le=new jr(t,this.Fe)}).then(()=>{this.Be=!0}).catch(t=>(this.Ge&&this.Ge.close(),Promise.reject(t)))}nn(t){var e=this;return this.Qe=function(){var n=(0,i.Z)(function*(n){if(e.started)return t(n)});return function(t){return n.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt(function(){var e=(0,i.Z)(function*(e){null===e.newVersion&&(yield t())});return function(t){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,i.Z)(function*(){e.started&&(yield e.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Uu(t).put(new va(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(t).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(t)).next(e=>this.isPrimary&&!e?this.on(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(Pa(t))return Er("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Er("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.Qe(t)),this.isPrimary=t})}sn(t){return Lu(t).get(aa.key).next(t=>Sa.resolve(this.an(t)))}un(t){return Uu(t).delete(this.clientId)}hn(){var t=this;return(0,i.Z)(function*(){if(t.isPrimary&&!t.ln(t.je,18e5)){t.je=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const n=Na(e,va.store);return n.Lt().next(e=>{const r=t.fn(e,18e5),i=e.filter(t=>-1===r.indexOf(t));return Sa.forEach(i,t=>n.delete(t.clientId)).next(()=>i)})}).catch(()=>[]);if(t.Ye)for(const n of e)t.Ye.removeItem(t.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(t){return!!t&&t.ownerId===this.clientId}rn(t){return this.Me?Sa.resolve(!0):Lu(t).get(aa.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.an(e)&&this.networkEnabled)return!0;if(!this.an(e)){if(!e.allowTabSynchronization)throw new xr(kr.FAILED_PRECONDITION,Ru);return!1}}return!(!this.networkEnabled||!this.inForeground)||Uu(t).Lt().next(t=>void 0===this.fn(t,5e3).find(t=>{if(this.clientId!==t.clientId){const e=!this.inForeground&&t.inForeground,n=this.networkEnabled===t.networkEnabled;if(!this.networkEnabled&&t.networkEnabled||e&&n)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Er("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var t=this;return(0,i.Z)(function*(){t.Be=!1,t._n(),t.Ke&&(t.Ke.cancel(),t.Ke=null),t.mn(),t.gn(),yield t.Ge.runTransaction("shutdown","readwrite",[aa.store,va.store],e=>{const n=new Ra(e,jr.T);return t.on(n).next(()=>t.un(n))}),t.Ge.close(),t.yn()})()}fn(t,e){return t.filter(t=>this.ln(t.updateTimeMs,e)&&!this.wn(t.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",t=>Uu(t).Lt().next(t=>this.fn(t,18e5).map(t=>t.clientId)))}get started(){return this.Be}getMutationQueue(t){return uu.Yt(t,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,e,n){let r;return Er("IndexedDbPersistence","Starting transaction:",t),this.Ge.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ca,i=>(r=new Ra(i,this.Le?this.Le.next():jr.T),"readwrite-primary"===e?this.sn(r).next(t=>!!t||this.rn(r)).next(e=>{if(!e)throw Tr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new xr(kr.FAILED_PRECONDITION,Ea);return n(r)}).next(t=>this.cn(r).next(()=>t)):this.Tn(r).next(()=>n(r)))).then(t=>(r.raiseOnCommittedEvent(),t))}Tn(t){return Lu(t).get(aa.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xr(kr.FAILED_PRECONDITION,Ru)})}cn(t){const e=new aa(this.clientId,this.allowTabSynchronization,Date.now());return Lu(t).put(aa.key,e)}static bt(){return Aa.bt()}on(t){const e=Lu(t);return e.get(aa.key).next(t=>this.an(t)?(Er("IndexedDbPersistence","Releasing primary lease."),e.delete(aa.key)):Sa.resolve())}ln(t,e){const n=Date.now();return!(t<n-e||t>n&&(Tr(`Detected an update time that is in the future: ${t} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ue=()=>{this._n(),(0,u.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(t){var e;try{const n=null!==(null===(e=this.Ye)||void 0===e?void 0:e.getItem(this.dn(t)));return Er("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Tr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(t){Tr("Failed to set zombie client id.",t)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(t){}}dn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Lu(t){return Na(t,aa.store)}function Uu(t){return Na(t,va.store)}function Vu(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class ju{constructor(t,e){this.progress=t,this.En=e}}class Bu{constructor(t,e,n){this.He=t,this.In=e,this.Ht=n}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next(n=>this.Rn(t,e,n))}Rn(t,e,n){return this.He.getEntry(t,e).next(t=>{for(const e of n)e.applyToLocalView(t);return t})}bn(t,e){t.forEach((t,n)=>{for(const r of e)r.applyToLocalView(n)})}Pn(t,e){return this.He.getEntries(t,e).next(e=>this.vn(t,e).next(()=>e))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>this.bn(e,t))}getDocumentsMatchingQuery(t,e,n){return pi.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Vn(t,e.path):ss(e)?this.Sn(t,e,n):this.Dn(t,e,n);var r}Vn(t,e){return this.An(t,new pi(e)).next(t=>{let e=oo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}Sn(t,e,n){const r=e.collectionGroup;let i=oo();return this.Ht.getCollectionParents(t,r).next(s=>Sa.forEach(s,s=>{const o=(a=e,u=s.child(r),new Ji(u,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));var a,u;return this.Dn(t,o,n).next(t=>{t.forEach((t,e)=>{i=i.insert(t,e)})})}).next(()=>i))}Dn(t,e,n){let r,i;return this.He.getDocumentsMatchingQuery(t,e,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(t,e))).next(e=>(i=e,this.Cn(t,i,r).next(t=>{r=t;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=ki.newInvalidDocument(n),r=r.insert(n,i)),Ns(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((t,n)=>{ds(e,n)||(r=r.remove(t))}),r))}Cn(t,e,n){let r=lo();for(const s of e)for(const t of s.mutations)t instanceof Bs&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(t,r).next(t=>(t.forEach((t,e)=>{e.isFoundDocument()&&(i=i.insert(t,e))}),i))}}class qu{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Nn=n,this.xn=r}static kn(t,e){let n=lo(),r=lo();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new qu(t,e.fromCache,n,r)}}class zu{$n(t){this.On=t}getDocumentsMatchingQuery(t,e,n,r){return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Gr.min())?this.Fn(t,e):this.On.Pn(t,r).next(i=>{const s=this.Mn(e,i);return(es(e)||ns(e))&&this.Ln(e.limitType,s,r,n)?this.Fn(t,e):(wr()<=a.in.DEBUG&&Er("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),hs(e)),this.On.getDocumentsMatchingQuery(t,e,n).next(t=>(s.forEach(e=>{t=t.insert(e.key,e)}),t)))});var i}Mn(t,e){let n=new eo(fs(t));return e.forEach((e,r)=>{ds(t,r)&&(n=n.add(r))}),n}Ln(t,e,n,r){if(n.size!==e.size)return!0;const i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(t,e){return wr()<=a.in.DEBUG&&Er("QueryEngine","Using full collection scan to execute query:",hs(e)),this.On.getDocumentsMatchingQuery(t,e,Gr.min())}}class Zu{constructor(t,e,n,r){this.persistence=t,this.Bn=e,this.N=r,this.Un=new Js(zr),this.qn=new Iu(t=>Fi(t),Ri),this.Kn=Gr.min(),this.In=t.getMutationQueue(n),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new Bu(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Un))}}function $u(t,e,n,r){return new Zu(t,e,n,r)}function Hu(t,e){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,i.Z)(function*(t,e){const n=Pr(t);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",t=>{let s;return n.In.getAllMutationBatches(t).next(o=>(s=o,r=n.persistence.getMutationQueue(e),i=new Bu(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t))).next(e=>{const n=[],r=[];let o=lo();for(const t of s){n.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return i.Pn(t,o).next(t=>({Wn:t,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function Ku(t,e){const n=Pr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const r=e.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let o=Sa.resolve();return s.forEach(t=>{o=o.next(()=>r.getEntry(e,t)).next(e=>{const s=n.docVersions.get(t);Or(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(()=>t.In.removeMutationBatch(e,i))}(n,t,e,i).next(()=>i.apply(t)).next(()=>n.In.performConsistencyCheck(t)).next(()=>n.Qn.Pn(t,r))})}function Wu(t){const e=Pr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function Qu(t,e){const n=Pr(t),r=e.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];e.targetChanges.forEach((e,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(t,e.removedDocuments,s).next(()=>n.ze.addMatchingKeys(t,e.addedDocuments,s)));const u=e.resumeToken;if(u.approximateByteSize()>0){const d=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,d),c=a,h=e,Or((l=d).resumeToken.approximateByteSize()>0),(0===c.resumeToken.approximateByteSize()||l.snapshotVersion.toMicroseconds()-c.snapshotVersion.toMicroseconds()>=3e8||h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size>0)&&o.push(n.ze.updateTargetData(t,d))}var c,l,h});let a=io();if(e.documentUpdates.forEach((r,i)=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(Yu(t,s,e.documentUpdates,r,void 0).next(t=>{a=t})),!r.isEqual(Gr.min())){const e=n.ze.getLastRemoteSnapshotVersion(t).next(e=>n.ze.setTargetsMetadata(t,t.currentSequenceNumber,r));o.push(e)}return Sa.waitFor(o).next(()=>s.apply(t)).next(()=>n.Qn.vn(t,a)).next(()=>a)}).then(t=>(n.Un=i,t))}function Yu(t,e,n,r,i){let s=lo();return n.forEach(t=>s=s.add(t)),e.getEntries(t,s).next(t=>{let s=io();return n.forEach((n,o)=>{const a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Gr.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):Er("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function Ju(t,e){const n=Pr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.In.getNextMutationBatchAfterBatchId(t,e)))}function Xu(t,e){const n=Pr(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let r;return n.ze.getTargetData(t,e).next(i=>i?(r=i,Sa.resolve(r)):n.ze.allocateTargetId(t).next(i=>(r=new Va(e,i,0,t.currentSequenceNumber),n.ze.addTargetData(t,r).next(()=>r))))}).then(t=>{const r=n.Un.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function tc(t,e,n){return ec.apply(this,arguments)}function ec(){return(ec=(0,i.Z)(function*(t,e,n){const r=Pr(t),i=r.Un.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(o){if(!Pa(o))throw o;Er("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Un=r.Un.remove(e),r.qn.delete(i.target)})).apply(this,arguments)}function nc(t,e,n){const r=Pr(t);let i=Gr.min(),s=lo();return r.persistence.runTransaction("Execute query","readonly",t=>function(t,e,n){const r=Pr(t),i=r.qn.get(n);return void 0!==i?Sa.resolve(r.Un.get(i)):r.ze.getTargetData(e,n)}(r,t,as(e)).next(e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(t,e.targetId).next(t=>{s=t})}).next(()=>r.Bn.getDocumentsMatchingQuery(t,e,n?i:Gr.min(),n?s:lo())).next(t=>({documents:t,Gn:s})))}function rc(t,e){const n=Pr(t),r=Pr(n.ze),i=n.Un.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",t=>r.Tt(t,e).next(t=>t?t.target:null))}function ic(t){const e=Pr(t);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(t,e,n){const r=Pr(t);let i=io(),s=za(n);const o=ku(e),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:fa.readTimeIndex,range:a},(t,e)=>{const n=Ba(r.N,e);i=i.insert(n.key,n),s=e.readTime}).next(()=>({En:i,readTime:Za(s)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:n})=>(e.Kn=n,t))}function sc(){return(sc=(0,i.Z)(function*(t){const e=Pr(t);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(t){const e=ku(t);let n=Gr.min();return e.Kt({index:fa.readTimeIndex,reverse:!0},(t,e,r)=>{e.readTime&&(n=Za(e.readTime)),r.done()}).next(()=>n)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function oc(){return(oc=(0,i.Z)(function*(t,e,n,r){const i=Pr(t);let s=lo(),o=io(),a=uo();for(const h of n){const t=e.zn(h.metadata.name);h.document&&(s=s.add(t)),o=o.insert(t,e.Hn(h)),a=a.insert(t,e.Jn(h.metadata.readTime))}const u=i.jn.newChangeBuffer({trackRemovals:!0}),c=yield Xu(i,(l=r,as(ts(Jr.fromString(`__bundle__/docs/${l}`)))));var l;return i.persistence.runTransaction("Apply bundle documents","readwrite",t=>Yu(t,u,o,Gr.min(),a).next(e=>(u.apply(t),e)).next(e=>i.ze.removeMatchingKeysForTargetId(t,c.targetId).next(()=>i.ze.addMatchingKeys(t,s,c.targetId)).next(()=>i.Qn.vn(t,e)).next(()=>e)))})).apply(this,arguments)}function ac(t,e){return uc.apply(this,arguments)}function uc(){return(uc=(0,i.Z)(function*(t,e,n=lo()){const r=yield Xu(t,as(Qa(e.bundledQuery))),i=Pr(t);return i.persistence.runTransaction("Save named query","readwrite",t=>{const s=Do(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(t,e);const o=r.withResumeToken(ri.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(t,o).next(()=>i.ze.removeMatchingKeysForTargetId(t,r.targetId)).next(()=>i.ze.addMatchingKeys(t,n,r.targetId)).next(()=>i.Je.saveNamedQuery(t,e))})})).apply(this,arguments)}class cc{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return Sa.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var n;return this.Yn.set(e.id,{id:(n=e).id,version:n.version,createTime:Do(n.createTime)}),Sa.resolve()}getNamedQuery(t,e){return Sa.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,{name:(n=e).name,query:Qa(n.bundledQuery),readTime:Do(n.readTime)}),Sa.resolve();var n}}class lc{constructor(){this.Zn=new eo(hc.ts),this.es=new eo(hc.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const n=new hc(t,e);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.rs(new hc(t,e))}os(t,e){t.forEach(t=>this.removeReference(t,e))}cs(t){const e=new pi(new Jr([])),n=new hc(e,t),r=new hc(e,t+1),i=[];return this.es.forEachInRange([n,r],t=>{this.rs(t),i.push(t.key)}),i}us(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new pi(new Jr([])),n=new hc(e,t),r=new hc(e,t+1);let i=lo();return this.es.forEachInRange([n,r],t=>{i=i.add(t.key)}),i}containsKey(t){const e=new hc(t,0),n=this.Zn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class hc{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return pi.comparator(t.key,e.key)||zr(t.ls,e.ls)}static ns(t,e){return zr(t.ls,e.ls)||pi.comparator(t.key,e.key)}}class dc{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new eo(hc.ts)}checkEmpty(t){return Sa.resolve(0===this.In.length)}addMutationBatch(t,e,n,r){const i=this.fs;this.fs++;const s=new La(i,e,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new hc(o.key,i)),this.Ht.addToCollectionParentIndex(t,o.key.path.popLast());return Sa.resolve(s)}lookupMutationBatch(t,e){return Sa.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const n=this._s(e+1),r=n<0?0:n;return Sa.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return Sa.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return Sa.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new hc(e,0),r=new hc(e,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],t=>{const e=this.ws(t.ls);i.push(e)}),Sa.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new eo(zr);return e.forEach(t=>{const e=new hc(t,0),r=new hc(t,Number.POSITIVE_INFINITY);this.ds.forEachInRange([e,r],t=>{n=n.add(t.ls)})}),Sa.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;pi.isDocumentKey(i)||(i=i.child(""));const s=new hc(new pi(i),0);let o=new eo(zr);return this.ds.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ls)),!0)},s),Sa.resolve(this.gs(o))}gs(t){const e=[];return t.forEach(t=>{const n=this.ws(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){Or(0===this.ys(e.batchId,"removed")),this.In.shift();let n=this.ds;return Sa.forEach(e.mutations,r=>{const i=new hc(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=n})}te(t){}containsKey(t,e){const n=new hc(e,0),r=this.ds.firstAfterOrEqual(n);return Sa.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Sa.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class fc{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new Js(pi.comparator),this.size=0}addEntry(t,e,n){const r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Sa.resolve(n?n.document.clone():ki.newInvalidDocument(e))}getEntries(t,e){let n=io();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.clone():ki.newInvalidDocument(t))}),Sa.resolve(n)}getDocumentsMatchingQuery(t,e,n){let r=io();const i=new pi(e.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:t,value:{document:i,readTime:o}}=s.getNext();if(!e.path.isPrefixOf(t.path))break;o.compareTo(n)<=0||ds(e,i)&&(r=r.insert(i.key,i.clone()))}return Sa.resolve(r)}Ts(t,e){return Sa.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new pc(this)}getSize(t){return Sa.resolve(this.size)}}class pc extends Au{constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?e.push(this.Se.addEntry(t,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),Sa.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class gc{constructor(t){this.persistence=t,this.Es=new Iu(t=>Fi(t),Ri),this.lastRemoteSnapshotVersion=Gr.min(),this.highestTargetId=0,this.Is=0,this.As=new lc,this.targetCount=0,this.Rs=fu.se()}forEachTarget(t,e){return this.Es.forEach((t,n)=>e(n)),Sa.resolve()}getLastRemoteSnapshotVersion(t){return Sa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Sa.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),Sa.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Is&&(this.Is=e),Sa.resolve()}ce(t){this.Es.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new fu(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,Sa.resolve()}updateTargetData(t,e){return this.ce(e),Sa.resolve()}removeTargetData(t,e){return this.Es.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,Sa.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Es.forEach((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)}),Sa.waitFor(i).next(()=>r)}getTargetCount(t){return Sa.resolve(this.targetCount)}getTargetData(t,e){const n=this.Es.get(e)||null;return Sa.resolve(n)}addMatchingKeys(t,e,n){return this.As.ss(e,n),Sa.resolve()}removeMatchingKeys(t,e,n){this.As.os(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(e=>{i.push(r.markPotentiallyOrphaned(t,e))}),Sa.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),Sa.resolve()}getMatchingKeysForTargetId(t,e){const n=this.As.hs(e);return Sa.resolve(n)}containsKey(t,e){return Sa.resolve(this.As.containsKey(e))}}class mc{constructor(t,e){this.bs={},this.Le=new jr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new gc(this),this.Ht=new tu,this.He=new fc(this.Ht,t=>this.referenceDelegate.Ps(t)),this.N=new ja(e),this.Je=new cc(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new dc(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,n){Er("MemoryPersistence","Starting transaction:",t);const r=new yc(this.Le.next());return this.referenceDelegate.vs(),n(r).next(t=>this.referenceDelegate.Vs(r).next(()=>t)).toPromise().then(t=>(r.raiseOnCommittedEvent(),t))}Ss(t,e){return Sa.or(Object.values(this.bs).map(n=>()=>n.containsKey(t,e)))}}class yc extends Ta{constructor(t){super(),this.currentSequenceNumber=t}}class _c{constructor(t){this.persistence=t,this.Ds=new lc,this.Cs=null}static Ns(t){return new _c(t)}get xs(){if(this.Cs)return this.Cs;throw Ar()}addReference(t,e,n){return this.Ds.addReference(n,e),this.xs.delete(n.toString()),Sa.resolve()}removeReference(t,e,n){return this.Ds.removeReference(n,e),this.xs.add(n.toString()),Sa.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Sa.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach(t=>this.xs.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.xs.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sa.forEach(this.xs,n=>{const r=pi.fromPath(n);return this.ks(t,r).next(t=>{t||e.removeEntry(r)})}).next(()=>(this.Cs=null,e.apply(t)))}updateLimboDocument(t,e){return this.ks(t,e).next(t=>{t?this.xs.delete(e.toString()):this.xs.add(e.toString())})}Ps(t){return 0}ks(t,e){return Sa.or([()=>Sa.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}function vc(t,e){return`firestore_clients_${t}_${e}`}function bc(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function wc(t,e){return`firestore_targets_${t}_${e}`}class Cc{constructor(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}static $s(t,e,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new xr(r.error.code,r.error.message))),s?new Cc(t,e,r.state,i):(Tr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ec{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static $s(t,e){const n=JSON.parse(e);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new xr(n.error.code,n.error.message))),i?new Ec(t,n.state,r):(Tr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Tc{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const n=JSON.parse(e);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=fo();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=fi(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Tc(t,i):(Tr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Sc{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Sc(e.clientId,e.onlineState):(Tr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Ic{constructor(){this.activeTargetIds=fo()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ac{constructor(t,e,n,r,i){this.window=t,this.Oe=e,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Js(zr),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=vc(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Ic),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(t){return`firestore_bundle_loaded_${t}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,i.Z)(function*(){const e=yield t.syncEngine.pn();for(const r of e){if(r===t.Ls)continue;const e=t.getItem(vc(t.persistenceKey,r));if(e){const n=Tc.$s(r,e);n&&(t.qs=t.qs.insert(n.clientId,n))}}t.Ys();const n=t.storage.getItem(t.Hs);if(n){const e=t.Xs(n);e&&t.Zs(e)}for(const r of t.Ks)t.Us(r);t.Ks=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Qs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(t){let e=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ei(t,"pending")}updateMutationState(t,e,n){this.ei(t,e,n),this.ni(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(wc(this.persistenceKey,t));if(n){const r=Ec.$s(t,n);r&&(e=r.state)}}return this.si.Fs(t),this.Ys(),e}removeLocalQueryTarget(t){this.si.Ms(t),this.Ys()}isLocalQueryTarget(t){return this.si.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(wc(this.persistenceKey,t))}updateQueryState(t,e,n){this.ii(t,e,n)}handleUserChange(t,e,n){e.forEach(t=>{this.ni(t)}),this.currentUser=t,n.forEach(t=>{this.addPendingMutation(t)})}setOnlineState(t){this.ri(t)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Er("SharedClientState","READ",t,e),e}setItem(t,e){Er("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Er("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Us(t){var e=this;const n=t;if(n.storageArea===this.storage){if(Er("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void Tr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,i.Z)(function*(){if(e.started){if(null!==n.key)if(e.Ws.test(n.key)){if(null==n.newValue){const t=e.ci(n.key);return e.ai(t,null)}{const t=e.ui(n.key,n.newValue);if(t)return e.ai(t.clientId,t)}}else if(e.Gs.test(n.key)){if(null!==n.newValue){const t=e.hi(n.key,n.newValue);if(t)return e.li(t)}}else if(e.zs.test(n.key)){if(null!==n.newValue){const t=e.fi(n.key,n.newValue);if(t)return e.di(t)}}else if(n.key===e.Hs){if(null!==n.newValue){const t=e.Xs(n.newValue);if(t)return e.Zs(t)}}else if(n.key===e.Qs){const t=function(t){let e=jr.T;if(null!=t)try{const n=JSON.parse(t);Or("number"==typeof n),e=n}catch(n){Tr("SharedClientState","Failed to read sequence number from WebStorage",n)}return e}(n.newValue);t!==jr.T&&e.sequenceNumberHandler(t)}else if(n.key===e.Js)return e.syncEngine.wi()}else e.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(t,e,n){const r=new Cc(this.currentUser,t,e,n),i=bc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Os())}ni(t){const e=bc(this.persistenceKey,this.currentUser,t);this.removeItem(e)}ri(t){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:t}))}ii(t,e,n){const r=wc(this.persistenceKey,t),i=new Ec(t,e,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(t){const e=this.Ws.exec(t);return e?e[1]:null}ui(t,e){const n=this.ci(t);return Tc.$s(n,e)}hi(t,e){const n=this.Gs.exec(t),r=Number(n[1]);return Cc.$s(new _r(void 0!==n[2]?n[2]:null),r,e)}fi(t,e){const n=this.zs.exec(t),r=Number(n[1]);return Ec.$s(r,e)}Xs(t){return Sc.$s(t)}li(t){var e=this;return(0,i.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine._i(t.batchId,t.state,t.error);Er("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}di(t){return this.syncEngine.mi(t.targetId,t.state,t.error)}ai(t,e){const n=e?this.qs.insert(t,e):this.qs.remove(t),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(t=>{r.has(t)||s.push(t)}),r.forEach(t=>{i.has(t)||o.push(t)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ti(t){let e=fo();return t.forEach((t,n)=>{e=e.unionWith(n.activeTargetIds)}),e}}class Oc{constructor(){this.yi=new Ic,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,n){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new Ic,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class Dc{Ti(t){}shutdown(){}}class Pc{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Er("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){Er("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class xc{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class Mc extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,n,r){const i=this.Bi(t,e);Er("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(t,i,s,n).then(t=>(Er("RestConnection","Received: ",t),t),e=>{throw Sr("RestConnection",`${t} failed with error: `,e,"url: ",i,"request:",n),e})}Ki(t,e,n,r){return this.Li(t,e,n,r)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+vr,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])}Bi(t,e){return`${this.Fi}/v1/${e}:${kc[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,n,r){return new Promise((i,s)=>{const o=new mr;o.listenOnce(hr.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case lr.NO_ERROR:const e=o.getResponseJson();Er("Connection","XHR received:",JSON.stringify(e)),i(e);break;case lr.TIMEOUT:Er("Connection",'RPC "'+t+'" timed out'),s(new xr(kr.DEADLINE_EXCEEDED,"Request time out"));break;case lr.HTTP_ERROR:const n=o.getStatus();if(Er("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const t=o.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(kr).indexOf(e)>=0?e:kr.UNKNOWN}(t.status);s(new xr(e,t.message))}else s(new xr(kr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new xr(kr.UNAVAILABLE,"Connection failed."));break;default:Ar()}}finally{Er("Connection",'RPC "'+t+'" completed.')}});const a=JSON.stringify(r);o.send(e,"POST",a,n,15)})}ji(t,e){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=ur(),i=cr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new pr({})),this.Ui(s.initMessageHeaders,e),(0,u.uI)()||(0,u.b$)()||(0,u.d)()||(0,u.w1)()||(0,u.Mn)()||(0,u.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");Er("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let c=!1,l=!1;const h=new xc({vi:t=>{l?Er("Connection","Not sending because WebChannel is closed:",t):(c||(Er("Connection","Opening WebChannel transport."),a.open(),c=!0),Er("Connection","WebChannel sending:",t),a.send(t))},Vi:()=>a.close()}),d=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(e){setTimeout(()=>{throw e},0)}})};return d(a,gr.EventType.OPEN,()=>{l||Er("Connection","WebChannel transport opened.")}),d(a,gr.EventType.CLOSE,()=>{l||(l=!0,Er("Connection","WebChannel transport closed"),h.$i())}),d(a,gr.EventType.ERROR,t=>{l||(l=!0,Sr("Connection","WebChannel transport errored:",t),h.$i(new xr(kr.UNAVAILABLE,"The operation could not be completed")))}),d(a,gr.EventType.MESSAGE,t=>{var e;if(!l){const n=t.data[0];Or(!!n);const r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Er("Connection","WebChannel received error:",i);const t=i.status;let e=function(t){const e=Ks[t];if(void 0!==e)return Ys(e)}(t),n=i.message;void 0===e&&(e=kr.INTERNAL,n="Unknown error status: "+t+" with message "+i.message),l=!0,h.$i(new xr(e,n)),a.close()}else Er("Connection","WebChannel received:",n),h.Oi(n)}}),d(i,dr.STAT_EVENT,t=>{t.stat===fr.PROXY?Er("Connection","Detected buffering proxy"):t.stat===fr.NOPROXY&&Er("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.ki()},0),h}}function Fc(){return"undefined"!=typeof window?window:null}function Rc(){return"undefined"!=typeof document?document:null}function Nc(t){return new So(t,!0)}class Lc{constructor(t,e,n=1e3,r=1.5,i=6e4){this.Oe=t,this.timerId=e,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,e-n);r>0&&Er("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),t())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Uc{constructor(t,e,n,r,i,s,o){this.Oe=t,this.er=n,this.nr=r,this.sr=i,this.credentialsProvider=s,this.listener=o,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new Lc(t,e)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var t=this;return(0,i.Z)(function*(){t.ur()&&(yield t.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(t){this.gr(),this.stream.send(t)}_r(){var t=this;return(0,i.Z)(function*(){if(t.hr())return t.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(t,e){var n=this;return(0,i.Z)(function*(){n.gr(),n.yr(),n.ar.cancel(),n.ir++,4!==t?n.ar.reset():e&&e.code===kr.RESOURCE_EXHAUSTED?(Tr(e.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),n.ar.Yi()):e&&e.code===kr.UNAUTHENTICATED&&3!==n.state&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.pr(),n.stream.close(),n.stream=null),n.state=t,yield n.listener.Ci(e)})()}pr(){}auth(){this.state=1;const t=this.Tr(this.ir),e=this.ir;this.credentialsProvider.getToken().then(t=>{this.ir===e&&this.Er(t)},e=>{t(()=>{const t=new xr(kr.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Ir(t)})})}Er(t){const e=this.Tr(this.ir);this.stream=this.Ar(t),this.stream.Si(()=>{e(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(t=>{e(()=>this.Ir(t))}),this.stream.onMessage(t=>{e(()=>this.onMessage(t))})}lr(){var t=this;this.state=5,this.ar.Xi((0,i.Z)(function*(){t.state=0,t.start()}))}Ir(t){return Er("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Tr(t){return e=>{this.Oe.enqueueAndForget(()=>this.ir===t?e():(Er("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Vc extends Uc{constructor(t,e,n,r,i){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i),this.N=r}Ar(t){return this.sr.ji("Listen",t)}onMessage(t){this.ar.reset();const e=function(t,e){let n;if("targetChange"in e){const i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Ar(),s=e.targetChange.targetIds||[],o=function(t,e){return t.D?(Or(void 0===e||"string"==typeof e),ri.fromBase64String(e||"")):(Or(void 0===e||e instanceof Uint8Array),ri.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(t){const e=void 0===t.code?kr.UNKNOWN:Ys(t.code);return new xr(e,t.message||"")}(a);n=new _o(i,s,o,u||null)}else if("documentChange"in e){const r=e.documentChange,i=Mo(t,r.document.name),s=Do(r.document.updateTime),o=new Di({mapValue:{fields:r.document.fields}}),a=ki.newFoundDocument(i,s,o);n=new mo(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Mo(t,r.document),s=r.readTime?Do(r.readTime):Gr.min(),o=ki.newNoDocument(i,s);n=new mo([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Mo(t,r.document);n=new mo([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ar();{const t=e.filter,r=new Gs(t.count||0);n=new yo(t.targetId,r)}}var r;return n}(this.N,t),n=function(t){if(!("targetChange"in t))return Gr.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?Gr.min():e.readTime?Do(e.readTime):Gr.min()}(t);return this.listener.Rr(e,n)}br(t){const e={};e.database=No(this.N),e.addTarget=function(t,e){let n;const r=e.target;return n=Ni(r)?{documents:qo(t,r)}:{query:zo(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Ao(t,e.resumeToken):e.snapshotVersion.compareTo(Gr.min())>0&&(n.readTime=Io(t,e.snapshotVersion.toTimestamp())),n}(this.N,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ar()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.mr(e)}Pr(t){const e={};e.database=No(this.N),e.removeTarget=t,this.mr(e)}}class jc extends Uc{constructor(t,e,n,r,i){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i),this.N=r,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(t){return this.sr.ji("Write",t)}onMessage(t){if(Or(!!t.streamToken),this.lastStreamToken=t.streamToken,this.vr){this.ar.reset();const e=function(t,e){return t&&t.length>0?(Or(void 0!==e),t.map(t=>function(t,e){let n=Do(t.updateTime?t.updateTime:e);return n.isEqual(Gr.min())&&(n=Do(e)),new ks(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=Do(t.commitTime);return this.listener.Dr(n,e)}return Or(!t.writeResults||0===t.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const t={};t.database=No(this.N),this.mr(t)}Sr(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>jo(this.N,t))};this.mr(e)}}class Bc extends class{}{constructor(t,e,n){super(),this.credentials=t,this.sr=e,this.N=n,this.kr=!1}$r(){if(this.kr)throw new xr(kr.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Li(t,e,n,r)).catch(t=>{throw"FirebaseError"===t.name?(t.code===kr.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new xr(kr.UNKNOWN,t.toString())})}Ki(t,e,n){return this.$r(),this.credentials.getToken().then(r=>this.sr.Ki(t,e,n,r)).catch(t=>{throw"FirebaseError"===t.name?(t.code===kr.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new xr(kr.UNKNOWN,t.toString())})}terminate(){this.kr=!0}}class qc{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(t){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Br("Offline")))}set(t){this.Kr(),this.Or=0,"Online"===t&&(this.Mr=!1),this.Br(t)}Br(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Ur(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(Tr(e),this.Mr=!1):Er("OnlineStateTracker",e)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class zc{constructor(t,e,n,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=s,this.zr.Ti(t=>{n.enqueueAndForget((0,i.Z)(function*(){var t;tl(o)&&(Er("RemoteStore","Restarting streams for network reachability change."),yield(t=(0,i.Z)(function*(t){const e=Pr(t);e.Wr.add(4),yield Hc(e),e.Hr.set("Unknown"),e.Wr.delete(4),yield Zc(e)}),function(e){return t.apply(this,arguments)})(o))}))}),this.Hr=new qc(n,r)}}function Zc(t){return $c.apply(this,arguments)}function $c(){return($c=(0,i.Z)(function*(t){if(tl(t))for(const e of t.Gr)yield e(!0)})).apply(this,arguments)}function Hc(t){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,i.Z)(function*(t){for(const e of t.Gr)yield e(!1)})).apply(this,arguments)}function Kc(t,e){const n=Pr(t);n.Qr.has(e.targetId)||(n.Qr.set(e.targetId,e),Xc(n)?Jc(n):Al(n).hr()&&Qc(n,e))}function Wc(t,e){const n=Pr(t),r=Al(n);n.Qr.delete(e),r.hr()&&Yc(n,e),0===n.Qr.size&&(r.hr()?r.wr():tl(n)&&n.Hr.set("Unknown"))}function Qc(t,e){t.Jr.Y(e.targetId),Al(t).br(e)}function Yc(t,e){t.Jr.Y(e),Al(t).Pr(e)}function Jc(t){t.Jr=new bo({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.Qr.get(e)||null}),Al(t).start(),t.Hr.Lr()}function Xc(t){return tl(t)&&!Al(t).ur()&&t.Qr.size>0}function tl(t){return 0===Pr(t).Wr.size}function el(t){t.Jr=void 0}function nl(t){return rl.apply(this,arguments)}function rl(){return(rl=(0,i.Z)(function*(t){t.Qr.forEach((e,n)=>{Qc(t,e)})})).apply(this,arguments)}function il(t,e){return sl.apply(this,arguments)}function sl(){return(sl=(0,i.Z)(function*(t,e){el(t),Xc(t)?(t.Hr.qr(e),Jc(t)):t.Hr.set("Unknown")})).apply(this,arguments)}function ol(t,e,n){return al.apply(this,arguments)}function al(){return(al=(0,i.Z)(function*(t,e,n){if(t.Hr.set("Online"),e instanceof _o&&2===e.state&&e.cause)try{yield(r=(0,i.Z)(function*(t,e){const n=e.cause;for(const r of e.targetIds)t.Qr.has(r)&&(yield t.remoteSyncer.rejectListen(r,n),t.Qr.delete(r),t.Jr.removeTarget(r))}),function(t,e){return r.apply(this,arguments)})(t,e)}catch(r){Er("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ul(t,r)}else if(e instanceof mo?t.Jr.rt(e):e instanceof yo?t.Jr.ft(e):t.Jr.at(e),!n.isEqual(Gr.min()))try{const e=yield Wu(t.localStore);n.compareTo(e)>=0&&(yield function(t,e){const n=t.Jr._t(e);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.Qr.get(r);i&&t.Qr.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(e=>{const n=t.Qr.get(e);if(!n)return;t.Qr.set(e,n.withResumeToken(ri.EMPTY_BYTE_STRING,n.snapshotVersion)),Yc(t,e);const r=new Va(n.target,e,1,n.sequenceNumber);Qc(t,r)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n))}catch(r){Er("RemoteStore","Failed to raise snapshot:",r),yield ul(t,r)}var r})).apply(this,arguments)}function ul(t,e,n){return cl.apply(this,arguments)}function cl(){return(cl=(0,i.Z)(function*(t,e,n){if(!Pa(e))throw e;t.Wr.add(1),yield Hc(t),t.Hr.set("Offline"),n||(n=()=>Wu(t.localStore)),t.asyncQueue.enqueueRetryable((0,i.Z)(function*(){Er("RemoteStore","Retrying IndexedDB access"),yield n(),t.Wr.delete(1),yield Zc(t)}))})).apply(this,arguments)}function ll(t,e){return e().catch(n=>ul(t,n,e))}function hl(t){return dl.apply(this,arguments)}function dl(){return(dl=(0,i.Z)(function*(t){const e=Pr(t),n=Ol(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;fl(e);)try{const t=yield Ju(e.localStore,r);if(null===t){0===e.jr.length&&n.wr();break}r=t.batchId,pl(e,t)}catch(i){yield ul(e,i)}gl(e)&&ml(e)})).apply(this,arguments)}function fl(t){return tl(t)&&t.jr.length<10}function pl(t,e){t.jr.push(e);const n=Ol(t);n.hr()&&n.Vr&&n.Sr(e.mutations)}function gl(t){return tl(t)&&!Ol(t).ur()&&t.jr.length>0}function ml(t){Ol(t).start()}function yl(t){return _l.apply(this,arguments)}function _l(){return(_l=(0,i.Z)(function*(t){Ol(t).Nr()})).apply(this,arguments)}function vl(t){return bl.apply(this,arguments)}function bl(){return(bl=(0,i.Z)(function*(t){const e=Ol(t);for(const n of t.jr)e.Sr(n.mutations)})).apply(this,arguments)}function wl(t,e,n){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,i.Z)(function*(t,e,n){const r=t.jr.shift(),i=Ua.from(r,e,n);yield ll(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield hl(t)})).apply(this,arguments)}function El(t,e){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,i.Z)(function*(t,e){var n;e&&Ol(t).Vr&&(yield(n=(0,i.Z)(function*(t,e){if(Qs(n=e.code)&&n!==kr.ABORTED){const n=t.jr.shift();Ol(t).dr(),yield ll(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),yield hl(t)}var n}),function(t,e){return n.apply(this,arguments)})(t,e)),gl(t)&&ml(t)})).apply(this,arguments)}function Sl(t,e){return Il.apply(this,arguments)}function Il(){return(Il=(0,i.Z)(function*(t,e){const n=Pr(t);e?(n.Wr.delete(2),yield Zc(n)):e||(n.Wr.add(2),yield Hc(n),n.Hr.set("Unknown"))})).apply(this,arguments)}function Al(t){return t.Yr||(t.Yr=function(t,e,n){const r=Pr(t);return r.$r(),new Vc(e,r.sr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:nl.bind(null,t),Ci:il.bind(null,t),Rr:ol.bind(null,t)}),t.Gr.push(function(){var e=(0,i.Z)(function*(e){e?(t.Yr.dr(),Xc(t)?Jc(t):t.Hr.set("Unknown")):(yield t.Yr.stop(),el(t))});return function(t){return e.apply(this,arguments)}}())),t.Yr}function Ol(t){return t.Xr||(t.Xr=function(t,e,n){const r=Pr(t);return r.$r(),new jc(e,r.sr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:yl.bind(null,t),Ci:El.bind(null,t),Cr:vl.bind(null,t),Dr:wl.bind(null,t)}),t.Gr.push(function(){var e=(0,i.Z)(function*(e){e?(t.Xr.dr(),yield hl(t)):(yield t.Xr.stop(),t.jr.length>0&&(Er("RemoteStore",`Stopping write stream with ${t.jr.length} pending writes`),t.jr=[]))});return function(t){return e.apply(this,arguments)}}())),t.Xr}class Dl{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new Dl(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xr(kr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pl(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),Pa(t))return new xr(kr.UNAVAILABLE,`${e}: ${t}`);throw t}class kl{constructor(t){this.comparator=t?(e,n)=>t(e,n)||pi.comparator(e.key,n.key):(t,e)=>pi.comparator(t.key,e.key),this.keyedMap=oo(),this.sortedSet=new Js(this.comparator)}static emptySet(t){return new kl(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof kl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new kl;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class xl{constructor(){this.Zr=new Js(pi.comparator)}track(t){const e=t.doc.key,n=this.Zr.get(e);n?0!==t.type&&3===n.type?this.Zr=this.Zr.insert(e,t):3===t.type&&1!==n.type?this.Zr=this.Zr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Zr=this.Zr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Zr=this.Zr.remove(e):1===t.type&&2===n.type?this.Zr=this.Zr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):Ar():this.Zr=this.Zr.insert(e,t)}eo(){const t=[];return this.Zr.inorderTraversal((e,n)=>{t.push(n)}),t}}class Ml{constructor(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,r){const i=[];return e.forEach(t=>{i.push({type:0,doc:t})}),new Ml(t,e,kl.emptySet(e),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class Fl{constructor(){this.no=void 0,this.listeners=[]}}class Rl{constructor(){this.queries=new Iu(t=>ls(t),cs),this.onlineState="Unknown",this.so=new Set}}function Nl(t,e){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,i.Z)(function*(t,e){const n=Pr(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Fl),i)try{s.no=yield n.onListen(r)}catch(o){const t=Pl(o,`Initialization of query '${hs(e.query)}' failed`);return void e.onError(t)}n.queries.set(r,s),s.listeners.push(e),e.io(n.onlineState),s.no&&e.ro(s.no)&&ql(n)})).apply(this,arguments)}function Ul(t,e){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,i.Z)(function*(t,e){const n=Pr(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function jl(t,e){const n=Pr(t);let r=!1;for(const i of e){const t=n.queries.get(i.query);if(t){for(const e of t.listeners)e.ro(i)&&(r=!0);t.no=i}}r&&ql(n)}function Bl(t,e,n){const r=Pr(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function ql(t){t.so.forEach(t=>{t.next()})}class zl{constructor(t,e,n){this.query=t,this.oo=e,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=n||{}}ro(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Ml(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.uo(t)&&(this.oo.next(t),e=!0):this.ho(t,this.onlineState)&&(this.lo(t),e=!0),this.ao=t,e}onError(t){this.oo.error(t)}io(t){this.onlineState=t;let e=!1;return this.ao&&!this.co&&this.ho(this.ao,t)&&(this.lo(this.ao),e=!0),e}ho(t,e){return!t.fromCache||!(this.options.fo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}uo(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(t){t=Ml.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.oo.next(t)}}class Zl{constructor(t,e){this.payload=t,this.byteLength=e}wo(){return"metadata"in this.payload}}class $l{constructor(t){this.N=t}zn(t){return Mo(this.N,t)}Hn(t){return t.metadata.exists?Vo(this.N,t.document,!1):ki.newNoDocument(this.zn(t.metadata.name),this.Jn(t.metadata.readTime))}Jn(t){return Do(t)}}class Hl{constructor(t,e,n){this._o=t,this.localStore=e,this.N=n,this.queries=[],this.documents=[],this.progress=Gl(t)}mo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}yo(t){const e=new Map,n=new $l(this.N);for(const r of t)if(r.metadata.queries){const t=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(e.get(n)||lo()).add(t);e.set(n,r)}}return e}complete(){var t=this;return(0,i.Z)(function*(){const e=yield function(t,e,n,r){return oc.apply(this,arguments)}(t.localStore,new $l(t.N),t.documents,t._o.id),n=t.yo(t.documents);for(const r of t.queries)yield ac(t.localStore,r,n.get(r.name));return t.progress.taskState="Success",new ju(Object.assign({},t.progress),e)})()}}function Gl(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class Kl{constructor(t){this.key=t}}class Wl{constructor(t){this.key=t}}class Ql{constructor(t,e){this.query=t,this.po=e,this.To=null,this.current=!1,this.Eo=lo(),this.mutatedKeys=lo(),this.Io=fs(t),this.Ao=new kl(this.Io)}get Ro(){return this.po}bo(t,e){const n=e?e.Po:new xl,r=e?e.Ao:this.Ao;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=es(this.query)&&r.size===this.query.limit?r.last():null,u=ns(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((t,e)=>{const c=r.get(t),l=ds(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.vo(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Io(l,a)>0||u&&this.Io(l,u)<0)&&(o=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))}),es(this.query)||ns(this.query))for(;s.size>this.query.limit;){const t=es(this.query)?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{Ao:s,Po:n,Ln:o,mutatedKeys:i}}vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.Ao;this.Ao=t.Ao,this.mutatedKeys=t.mutatedKeys;const i=t.Po.eo();i.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ar()}};return n(t)-n(e)}(t.type,e.type)||this.Io(t.doc,e.doc)),this.Vo(n);const s=e?this.So():[],o=0===this.Eo.size&&this.current?1:0,a=o!==this.To;return this.To=o,0!==i.length||a?{snapshot:new Ml(this.query,t.Ao,r,i,t.mutatedKeys,0===o,a,!1),Do:s}:{Do:s}}io(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new xl,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(t){return!this.po.has(t)&&!!this.Ao.has(t)&&!this.Ao.get(t).hasLocalMutations}Vo(t){t&&(t.addedDocuments.forEach(t=>this.po=this.po.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=t.current)}So(){if(!this.current)return[];const t=this.Eo;this.Eo=lo(),this.Ao.forEach(t=>{this.Co(t.key)&&(this.Eo=this.Eo.add(t.key))});const e=[];return t.forEach(t=>{this.Eo.has(t)||e.push(new Wl(t))}),this.Eo.forEach(n=>{t.has(n)||e.push(new Kl(n))}),e}No(t){this.po=t.Gn,this.Eo=lo();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return Ml.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Yl{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class Jl{constructor(t){this.key=t,this.ko=!1}}class Xl{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.$o={},this.Oo=new Iu(t=>ls(t),cs),this.Fo=new Map,this.Mo=new Set,this.Lo=new Js(pi.comparator),this.Bo=new Map,this.Uo=new lc,this.qo={},this.Ko=new Map,this.jo=fu.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function th(t,e){return eh.apply(this,arguments)}function eh(){return(eh=(0,i.Z)(function*(t,e){const n=Zh(t);let r,i;const s=n.Oo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const t=yield Xu(n.localStore,as(e)),s=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=yield nh(n,e,r,"current"===s),n.isPrimaryClient&&Kc(n.remoteStore,t)}return i})).apply(this,arguments)}function nh(t,e,n,r){return rh.apply(this,arguments)}function rh(){return(rh=(0,i.Z)(function*(t,e,n,r){t.Wo=(e,n,r)=>{return(s=(0,i.Z)(function*(t,e,n,r){let i=e.view.bo(n);i.Ln&&(i=yield nc(t.localStore,e.query,!1).then(({documents:t})=>e.view.bo(t,i)));const s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s);return wh(t,e.targetId,o.Do),o.snapshot}),function(t,e,n,r){return s.apply(this,arguments)})(t,e,n,r);var s};const s=yield nc(t.localStore,e,!0),o=new Ql(e,s.Gn),a=o.bo(s.documents),u=go.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=o.applyChanges(a,t.isPrimaryClient,u);wh(t,n,c.Do);const l=new Yl(e,n,o);return t.Oo.set(e,l),t.Fo.has(n)?t.Fo.get(n).push(e):t.Fo.set(n,[e]),c.snapshot})).apply(this,arguments)}function ih(t,e){return sh.apply(this,arguments)}function sh(){return(sh=(0,i.Z)(function*(t,e){const n=Pr(t),r=n.Oo.get(e),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter(t=>!cs(t,e))),void n.Oo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield tc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Wc(n.remoteStore,r.targetId),vh(n,r.targetId)}).catch(_u))):(vh(n,r.targetId),yield tc(n.localStore,r.targetId,!0))})).apply(this,arguments)}function oh(){return(oh=(0,i.Z)(function*(t,e,n){const r=$h(t);try{const t=yield function(t,e){const n=Pr(t),r=Hr.now(),i=e.reduce((t,e)=>t.add(e.key),lo());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>n.Qn.Pn(t,i).next(i=>{s=i;const o=[];for(const t of e){const e=Ls(t,s.get(t.key));null!=e&&o.push(new Bs(t.key,e,Pi(e.value.mapValue),xs.exists(!0)))}return n.In.addMutationBatch(t,r,o,e)})).then(t=>(t.applyToLocalDocumentSet(s),{batchId:t.batchId,changes:s}))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.qo[t.currentUser.toKey()];r||(r=new Js(zr)),r=r.insert(e,n),t.qo[t.currentUser.toKey()]=r}(r,t.batchId,n),yield Th(r,t.changes),yield hl(r.remoteStore)}catch(i){const t=Pl(i,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function ah(t,e){return uh.apply(this,arguments)}function uh(){return(uh=(0,i.Z)(function*(t,e){const n=Pr(t);try{const t=yield Qu(n.localStore,e);e.targetChanges.forEach((t,e)=>{const r=n.Bo.get(e);r&&(Or(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.ko=!0:t.modifiedDocuments.size>0?Or(r.ko):t.removedDocuments.size>0&&(Or(r.ko),r.ko=!1))}),yield Th(n,t,e)}catch(r){yield _u(r)}})).apply(this,arguments)}function ch(t,e,n){const r=Pr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.Oo.forEach((n,r)=>{const i=r.view.io(e);i.snapshot&&t.push(i.snapshot)}),function(t,e){const n=Pr(t);n.onlineState=e;let r=!1;n.queries.forEach((t,n)=>{for(const i of n.listeners)i.io(e)&&(r=!0)}),r&&ql(n)}(r.eventManager,e),t.length&&r.$o.Rr(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lh(t,e,n){return hh.apply(this,arguments)}function hh(){return(hh=(0,i.Z)(function*(t,e,n){const r=Pr(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Bo.get(e),s=i&&i.key;if(s){let t=new Js(pi.comparator);t=t.insert(s,ki.newNoDocument(s,Gr.min()));const n=lo().add(s),i=new po(Gr.min(),new Map,new eo(zr),t,n);yield ah(r,i),r.Lo=r.Lo.remove(s),r.Bo.delete(e),Eh(r)}else yield tc(r.localStore,e,!1).then(()=>vh(r,e,n)).catch(_u)})).apply(this,arguments)}function dh(t,e){return fh.apply(this,arguments)}function fh(){return(fh=(0,i.Z)(function*(t,e){const n=Pr(t),r=e.batch.batchId;try{const t=yield Ku(n.localStore,e);_h(n,r,null),yh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Th(n,t)}catch(i){yield _u(i)}})).apply(this,arguments)}function ph(t,e,n){return gh.apply(this,arguments)}function gh(){return(gh=(0,i.Z)(function*(t,e,n){const r=Pr(t);try{const t=yield function(t,e){const n=Pr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let r;return n.In.lookupMutationBatch(t,e).next(e=>(Or(null!==e),r=e.keys(),n.In.removeMutationBatch(t,e))).next(()=>n.In.performConsistencyCheck(t)).next(()=>n.Qn.Pn(t,r))})}(r.localStore,e);_h(r,e,n),yh(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Th(r,t)}catch(i){yield _u(i)}})).apply(this,arguments)}function mh(){return(mh=(0,i.Z)(function*(t,e){const n=Pr(t);tl(n.remoteStore)||Er("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=yield function(t){const e=Pr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",t=>e.In.getHighestUnacknowledgedBatchId(t))}(n.localStore);if(-1===t)return void e.resolve();const r=n.Ko.get(t)||[];r.push(e),n.Ko.set(t,r)}catch(r){const t=Pl(r,"Initialization of waitForPendingWrites() operation failed");e.reject(t)}})).apply(this,arguments)}function yh(t,e){(t.Ko.get(e)||[]).forEach(t=>{t.resolve()}),t.Ko.delete(e)}function _h(t,e,n){const r=Pr(t);let i=r.qo[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.qo[r.currentUser.toKey()]=i}}function vh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fo.get(e))t.Oo.delete(r),n&&t.$o.Go(r,n);t.Fo.delete(e),t.isPrimaryClient&&t.Uo.cs(e).forEach(e=>{t.Uo.containsKey(e)||bh(t,e)})}function bh(t,e){t.Mo.delete(e.path.canonicalString());const n=t.Lo.get(e);null!==n&&(Wc(t.remoteStore,n),t.Lo=t.Lo.remove(e),t.Bo.delete(n),Eh(t))}function wh(t,e,n){for(const r of n)r instanceof Kl?(t.Uo.addReference(r.key,e),Ch(t,r)):r instanceof Wl?(Er("SyncEngine","Document no longer in limbo: "+r.key),t.Uo.removeReference(r.key,e),t.Uo.containsKey(r.key)||bh(t,r.key)):Ar()}function Ch(t,e){const n=e.key,r=n.path.canonicalString();t.Lo.get(n)||t.Mo.has(r)||(Er("SyncEngine","New document in limbo: "+n),t.Mo.add(r),Eh(t))}function Eh(t){for(;t.Mo.size>0&&t.Lo.size<t.maxConcurrentLimboResolutions;){const e=t.Mo.values().next().value;t.Mo.delete(e);const n=new pi(Jr.fromString(e)),r=t.jo.next();t.Bo.set(r,new Jl(n)),t.Lo=t.Lo.insert(n,r),Kc(t.remoteStore,new Va(as(ts(n.path)),r,2,jr.T))}}function Th(t,e,n){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,i.Z)(function*(t,e,n){const r=Pr(t),s=[],o=[],a=[];var u;r.Oo.isEmpty()||(r.Oo.forEach((t,i)=>{a.push(r.Wo(i,e,n).then(t=>{if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(i.targetId,t.fromCache?"not-current":"current"),s.push(t);const e=qu.kn(i.targetId,t);o.push(e)}}))}),yield Promise.all(a),r.$o.Rr(s),yield(u=(0,i.Z)(function*(t,e){const n=Pr(t);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>Sa.forEach(e,e=>Sa.forEach(e.Nn,r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r)).next(()=>Sa.forEach(e.xn,r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))}catch(r){if(!Pa(r))throw r;Er("LocalStore","Failed to update sequence numbers: "+r)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.Un.get(t),r=e.withLastLimboFreeSnapshotVersion(e.snapshotVersion);n.Un=n.Un.insert(t,r)}}}),function(t,e){return u.apply(this,arguments)})(r.localStore,o))})).apply(this,arguments)}function Ih(t,e){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,i.Z)(function*(t,e){const n=Pr(t);if(!n.currentUser.isEqual(e)){Er("SyncEngine","User change. New user:",e.toKey());const t=yield Hu(n.localStore,e);n.currentUser=e,(r=n).Ko.forEach(t=>{t.forEach(t=>{t.reject(new xr(kr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ko.clear(),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),yield Th(n,t.Wn)}var r})).apply(this,arguments)}function Oh(t,e){const n=Pr(t),r=n.Bo.get(e);if(r&&r.ko)return lo().add(r.key);{let t=lo();const r=n.Fo.get(e);if(!r)return t;for(const e of r){const r=n.Oo.get(e);t=t.unionWith(r.view.Ro)}return t}}function Dh(t,e){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,i.Z)(function*(t,e){const n=Pr(t),r=yield nc(n.localStore,e.query,!0),i=e.view.No(r);return n.isPrimaryClient&&wh(n,e.targetId,i.Do),i})).apply(this,arguments)}function kh(t){return xh.apply(this,arguments)}function xh(){return(xh=(0,i.Z)(function*(t){const e=Pr(t);return ic(e.localStore).then(t=>Th(e,t))})).apply(this,arguments)}function Mh(t,e,n,r){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,i.Z)(function*(t,e,n,r){const i=Pr(t),s=yield function(t,e){const n=Pr(t),r=Pr(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",t=>r.Xt(t,e).next(e=>e?n.Qn.Pn(t,e):Sa.resolve(null)))}(i.localStore,e);var o;null!==s?("pending"===n?yield hl(i.remoteStore):"acknowledged"===n||"rejected"===n?(_h(i,e,r||null),yh(i,e),o=e,Pr(Pr(i.localStore).In).te(o)):Ar(),yield Th(i,s)):Er("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function Rh(){return(Rh=(0,i.Z)(function*(t,e){const n=Pr(t);if(Zh(n),$h(n),!0===e&&!0!==n.Qo){const t=n.sharedClientState.getAllActiveQueryTargets(),e=yield Nh(n,t.toArray());n.Qo=!0,yield Sl(n.remoteStore,!0);for(const r of e)Kc(n.remoteStore,r)}else if(!1===e&&!1!==n.Qo){const t=[];let e=Promise.resolve();n.Fo.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?t.push(i):e=e.then(()=>(vh(n,i),tc(n.localStore,i,!0))),Wc(n.remoteStore,i)}),yield e,yield Nh(n,t),function(t){const e=Pr(t);e.Bo.forEach((t,n)=>{Wc(e.remoteStore,n)}),e.Uo.us(),e.Bo=new Map,e.Lo=new Js(pi.comparator)}(n),n.Qo=!1,yield Sl(n.remoteStore,!1)}})).apply(this,arguments)}function Nh(t,e,n){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,i.Z)(function*(t,e,n){const r=Pr(t),i=[],s=[];for(const o of e){let t;const e=r.Fo.get(o);if(e&&0!==e.length){t=yield Xu(r.localStore,as(e[0]));for(const t of e){const e=r.Oo.get(t),n=yield Dh(r,e);n.snapshot&&s.push(n.snapshot)}}else{const e=yield rc(r.localStore,o);t=yield Xu(r.localStore,e),yield nh(r,Uh(e),o,!1)}i.push(t)}return r.$o.Rr(s),i})).apply(this,arguments)}function Uh(t){return Xi(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Vh(t){const e=Pr(t);return Pr(Pr(e.localStore).persistence).pn()}function jh(t,e,n,r){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,i.Z)(function*(t,e,n,r){const i=Pr(t);if(i.Qo)Er("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(e))switch(n){case"current":case"not-current":{const t=yield ic(i.localStore),r=po.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield Th(i,t,r);break}case"rejected":yield tc(i.localStore,e,!0),vh(i,e,r);break;default:Ar()}})).apply(this,arguments)}function qh(t,e,n){return zh.apply(this,arguments)}function zh(){return(zh=(0,i.Z)(function*(t,e,n){const r=Zh(t);if(r.Qo){for(const t of e){if(r.Fo.has(t)){Er("SyncEngine","Adding an already active target "+t);continue}const e=yield rc(r.localStore,t),n=yield Xu(r.localStore,e);yield nh(r,Uh(e),n.targetId,!1),Kc(r.remoteStore,n)}for(const t of n)r.Fo.has(t)&&(yield tc(r.localStore,t,!1).then(()=>{Wc(r.remoteStore,t),vh(r,t)}).catch(_u))}})).apply(this,arguments)}function Zh(t){const e=Pr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ah.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Oh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lh.bind(null,e),e.$o.Rr=jl.bind(null,e.eventManager),e.$o.Go=Bl.bind(null,e.eventManager),e}function $h(t){const e=Pr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dh.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ph.bind(null,e),e}class Hh{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,i.Z)(function*(){e.N=Nc(t.databaseInfo.databaseId),e.sharedClientState=e.Ho(t),e.persistence=e.Jo(t),yield e.persistence.start(),e.gcScheduler=e.Yo(t),e.localStore=e.Xo(t)})()}Yo(t){return null}Xo(t){return $u(this.persistence,new zu,t.initialUser,this.N)}Jo(t){return new mc(_c.Ns,this.N)}Ho(t){return new Oc}terminate(){var t=this;return(0,i.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Gh extends Hh{constructor(t,e,n){super(),this.Zo=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,n=this;return(0,i.Z)(function*(){yield e().call(n,t),yield function(t){return sc.apply(this,arguments)}(n.localStore),yield n.Zo.initialize(n,t),yield $h(n.Zo.syncEngine),yield hl(n.Zo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Xo(t){return $u(this.persistence,new zu,t.initialUser,this.N)}Yo(t){return new Cu(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Jo(t){const e=Vu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?su.withCacheSize(this.cacheSizeBytes):su.DEFAULT;return new Nu(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Fc(),Rc(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(t){return new Oc}}class Kh extends Gh{constructor(t,e){super(t,e,!1),this.Zo=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,n=this;return(0,i.Z)(function*(){yield e().call(n,t);const r=n.Zo.syncEngine;n.sharedClientState instanceof Ac&&(n.sharedClientState.syncEngine={_i:Mh.bind(null,r),mi:jh.bind(null,r),gi:qh.bind(null,r),pn:Vh.bind(null,r),wi:kh.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var t=(0,i.Z)(function*(t){yield function(t,e){return Rh.apply(this,arguments)}(n.Zo.syncEngine,t),n.gcScheduler&&(t&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):t||n.gcScheduler.stop())});return function(e){return t.apply(this,arguments)}}())})()}Ho(t){const e=Fc();if(!Ac.bt(e))throw new xr(kr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Vu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ac(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class Wh{initialize(t,e){var n=this;return(0,i.Z)(function*(){n.localStore||(n.localStore=t.localStore,n.sharedClientState=t.sharedClientState,n.datastore=n.createDatastore(e),n.remoteStore=n.createRemoteStore(e),n.eventManager=n.createEventManager(e),n.syncEngine=n.createSyncEngine(e,!t.synchronizeTabs),n.sharedClientState.onlineStateHandler=t=>ch(n.syncEngine,t,1),n.remoteStore.remoteSyncer.handleCredentialChange=Ih.bind(null,n.syncEngine),yield Sl(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Rl}createDatastore(t){const e=Nc(t.databaseInfo.databaseId),n=new Mc(t.databaseInfo);return new Bc(t.credentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>ch(this.syncEngine,t,0),s=Pc.bt()?new Pc:new Dc,new zc(e,n,r,i,s);var e,n,r,i,s}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new Xl(t,e,n,r,i,s);return o&&(a.Qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,i.Z)(function*(t){const e=Pr(t);Er("RemoteStore","RemoteStore shutting down."),e.Wr.add(5),yield Hc(e),e.zr.shutdown(),e.Hr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function Qh(t,e=10240){let n=0;return{read:()=>(0,i.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,i.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Yh{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.tc(this.observer.next,t)}error(t){this.observer.error?this.tc(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}ec(){this.muted=!0}tc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Jh{constructor(t,e){this.nc=t,this.N=e,this.metadata=new Mr,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(t=>{t&&t.wo()?this.metadata.resolve(t.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.payload)}`))},t=>this.metadata.reject(t))}close(){return this.nc.cancel()}getMetadata(){var t=this;return(0,i.Z)(function*(){return t.metadata.promise})()}zo(){var t=this;return(0,i.Z)(function*(){return yield t.getMetadata(),t.ic()})()}ic(){var t=this;return(0,i.Z)(function*(){const e=yield t.rc();if(null===e)return null;const n=t.sc.decode(e),r=Number(n);isNaN(r)&&t.oc(`length string (${n}) is not valid number`);const i=yield t.cc(r);return new Zl(JSON.parse(i),e.length+r)})()}ac(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}rc(){var t=this;return(0,i.Z)(function*(){for(;t.ac()<0&&!(yield t.uc()););if(0===t.buffer.length)return null;const e=t.ac();e<0&&t.oc("Reached the end of bundle when a length string is expected.");const n=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),n})()}cc(t){var e=this;return(0,i.Z)(function*(){for(;e.buffer.length<t;)(yield e.uc())&&e.oc("Reached the end of bundle when more is expected.");const n=e.sc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),n})()}oc(t){throw this.nc.cancel(),new Error(`Invalid bundle format: ${t}`)}uc(){var t=this;return(0,i.Z)(function*(){const e=yield t.nc.read();if(!e.done){const n=new Uint8Array(t.buffer.length+e.value.length);n.set(t.buffer),n.set(e.value,t.buffer.length),t.buffer=n}return e.done})()}}class Xh{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,i.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new xr(kr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,i.Z)(function*(t,e){const n=Pr(t),r=No(n.N)+"/documents",i={documents:e.map(t=>xo(n.N,t))},s=yield n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(t=>{const e=function(t,e){return"found"in e?function(t,e){Or(!!e.found);const n=Mo(t,e.found.name),r=Do(e.found.updateTime),i=new Di({mapValue:{fields:e.found.fields}});return ki.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Or(!!e.missing),Or(!!e.readTime);const n=Mo(t,e.missing),r=Do(e.readTime);return ki.newNoDocument(n,r)}(t,e):Ar()}(n.N,t);o.set(e.key.toString(),e)});const a=[];return e.forEach(t=>{const e=o.get(t.toString());Or(!!e),a.push(e)}),a}),function(t,e){return r.apply(this,arguments)})(e.datastore,t);var r;return n.forEach(t=>e.recordVersion(t)),n})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t.toString())}delete(t){this.write(new $s(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,i.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var n;t.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,n)=>{const r=pi.fromPath(n);t.mutations.push(new Hs(r,t.precondition(r)))}),yield(n=(0,i.Z)(function*(t,e){const n=Pr(t),r=No(n.N)+"/documents",i={writes:e.map(t=>jo(n.N,t))};yield n.Li("Commit",r,i)}),function(t,e){return n.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ar();e=Gr.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new xr(kr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?xs.updateTime(e):xs.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Gr.min()))throw new xr(kr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xs.updateTime(e)}return xs.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class td{constructor(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.hc=5,this.ar=new Lc(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var t=this;this.ar.Xi((0,i.Z)(function*(){const e=new Xh(t.datastore),n=t.fc(e);n&&n.then(n=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(n)}).catch(e=>{t.dc(e)}))}).catch(e=>{t.dc(e)})}))}fc(t){try{const e=this.updateFunction(t);return!hi(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}dc(t){this.hc>0&&this.wc(t)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(t)}wc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!Qs(e)}return!1}}class ed{constructor(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=_r.UNAUTHENTICATED,this.clientId=qr.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,function(){var t=(0,i.Z)(function*(t){Er("FirestoreClient","Received user=",t.uid),yield r.credentialListener(t),r.user=t});return function(e){return t.apply(this,arguments)}}())}getConfiguration(){var t=this;return(0,i.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,credentials:t.credentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xr(kr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,i.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.credentials.shutdown(),e.resolve()}catch(n){const t=Pl(n,"Failed to shutdown persistence");e.reject(t)}})),e.promise}}function nd(t,e){return rd.apply(this,arguments)}function rd(){return(rd=(0,i.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Er("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var t=(0,i.Z)(function*(t){r.isEqual(t)||(yield Hu(e.localStore,t),r=t)});return function(e){return t.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e})).apply(this,arguments)}function id(t,e){return sd.apply(this,arguments)}function sd(){return(sd=(0,i.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield od(t);Er("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(t=>{return(n=(0,i.Z)(function*(t,e){const n=Pr(t);n.asyncQueue.verifyOperationInProgress(),Er("RemoteStore","RemoteStore received new credentials");const r=tl(n);n.Wr.add(3),yield Hc(n),r&&n.Hr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Wr.delete(3),yield Zc(n)}),function(t,e){return n.apply(this,arguments)})(e.remoteStore,t);var n}),t.onlineComponents=e})).apply(this,arguments)}function od(t){return ad.apply(this,arguments)}function ad(){return(ad=(0,i.Z)(function*(t){return t.offlineComponents||(Er("FirestoreClient","Using default OfflineComponentProvider"),yield nd(t,new Hh)),t.offlineComponents})).apply(this,arguments)}function ud(t){return cd.apply(this,arguments)}function cd(){return(cd=(0,i.Z)(function*(t){return t.onlineComponents||(Er("FirestoreClient","Using default OnlineComponentProvider"),yield id(t,new Wh)),t.onlineComponents})).apply(this,arguments)}function ld(t){return od(t).then(t=>t.persistence)}function hd(t){return od(t).then(t=>t.localStore)}function dd(t){return ud(t).then(t=>t.remoteStore)}function fd(t){return ud(t).then(t=>t.syncEngine)}function pd(t){return gd.apply(this,arguments)}function gd(){return(gd=(0,i.Z)(function*(t){const e=yield ud(t),n=e.eventManager;return n.onListen=th.bind(null,e.syncEngine),n.onUnlisten=ih.bind(null,e.syncEngine),n})).apply(this,arguments)}function md(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return function(t,e,n,r,i){const s=new Yh({next:s=>{e.enqueueAndForget(()=>Ul(t,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new xr(kr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new xr(kr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:t=>i.reject(t)}),o=new zl(ts(n.path),s,{includeMetadataChanges:!0,fo:!0});return Nl(t,o)}(yield pd(t),t.asyncQueue,e,n,r)})),r.promise}function yd(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return function(t,e,n,r,i){const s=new Yh({next:n=>{e.enqueueAndForget(()=>Ul(t,o)),n.fromCache&&"server"===r.source?i.reject(new xr(kr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),o=new zl(n,s,{includeMetadataChanges:!0,fo:!0});return Nl(t,o)}(yield pd(t),t.asyncQueue,e,n,r)})),r.promise}class _d{constructor(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class vd{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof vd&&t.projectId===this.projectId&&t.database===this.database}}const bd=new Map;function wd(t,e,n){if(!n)throw new xr(kr.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Cd(t,e,n,r){if(!0===e&&!0===r)throw new xr(kr.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ed(t){if(!pi.isDocumentKey(t))throw new xr(kr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Td(t){if(pi.isDocumentKey(t))throw new xr(kr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sd(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const n=(e=t).constructor?e.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var e;return"function"==typeof t?"a function":Ar()}function Id(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xr(kr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sd(t);throw new xr(kr.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ad(t,e){if(e<=0)throw new xr(kr.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class Od{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new xr(kr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xr(kr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Cd("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dd{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Od({}),this._settingsFrozen=!1,t instanceof vd?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new xr(kr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vd(t.options.projectId)}(t))}get app(){if(!this._app)throw new xr(kr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new xr(kr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Od(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Rr;switch(t.type){case"gapi":const e=t.client;return Or(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Vr(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new xr(kr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=bd.get(t);e&&(Er("ComponentProvider","Removing Datastore"),bd.delete(t),e.terminate())}(this),Promise.resolve()}}function Pd(t,e,n,r={}){var i;const s=(t=Id(t,Dd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Sr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=_r.MOCK_USER;else{e=(0,u.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new xr(kr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new _r(s)}t._credentials=new Nr(new Fr(e,n))}}class kd{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Md(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new kd(this.firestore,t,this._key)}}class xd{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new xd(this.firestore,t,this._query)}}class Md extends xd{constructor(t,e,n){super(t,e,ts(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new kd(this.firestore,null,new pi(t))}withConverter(t){return new Md(this.firestore,t,this._path)}}function Fd(t,e,...n){if(t=(0,u.m9)(t),wd("collection","path",e),t instanceof Dd){const r=Jr.fromString(e,...n);return Td(r),new Md(t,null,r)}{if(!(t instanceof kd||t instanceof Md))throw new xr(kr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jr.fromString(e,...n));return Td(r),new Md(t.firestore,null,r)}}function Rd(t,e){if(t=Id(t,Dd),wd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xr(kr.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xd(t,null,(n=e,new Ji(Jr.emptyPath(),n)));var n}function Nd(t,e,...n){if(t=(0,u.m9)(t),1===arguments.length&&(e=qr.I()),wd("doc","path",e),t instanceof Dd){const r=Jr.fromString(e,...n);return Ed(r),new kd(t,null,new pi(r))}{if(!(t instanceof kd||t instanceof Md))throw new xr(kr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jr.fromString(e,...n));return Ed(r),new kd(t.firestore,t instanceof Md?t.converter:null,new pi(r))}}function Ld(t,e){return t=(0,u.m9)(t),e=(0,u.m9)(e),(t instanceof kd||t instanceof Md)&&(e instanceof kd||e instanceof Md)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Ud(t,e){return t=(0,u.m9)(t),e=(0,u.m9)(e),t instanceof xd&&e instanceof xd&&t.firestore===e.firestore&&cs(t._query,e._query)&&t.converter===e.converter}class Vd{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new Lc(this,"async_queue_retry"),this.Rc=()=>{const t=Rc();t&&Er("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const t=Rc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.bc(),this.Pc(t)}enterRestrictedMode(t){if(!this.gc){this.gc=!0,this.Ic=t||!1;const e=Rc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Rc)}}enqueue(t){if(this.bc(),this.gc)return new Promise(()=>{});const e=new Mr;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.mc.push(t),this.vc()))}vc(){var t=this;return(0,i.Z)(function*(){if(0!==t.mc.length){try{yield t.mc[0](),t.mc.shift(),t.ar.reset()}catch(e){if(!Pa(e))throw e;Er("AsyncQueue","Operation failed with retryable error: "+e)}t.mc.length>0&&t.ar.Xi(()=>t.vc())}})()}Pc(t){const e=this._c.then(()=>(this.Ec=!0,t().catch(t=>{throw this.Tc=t,this.Ec=!1,Tr("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(t=>(this.Ec=!1,t))));return this._c=e,e}enqueueAfterDelay(t,e,n){this.bc(),this.Ac.indexOf(t)>-1&&(e=0);const r=Dl.createAndSchedule(this,t,e,n,t=>this.Vc(t));return this.yc.push(r),r}bc(){this.Tc&&Ar()}verifyOperationInProgress(){}Sc(){var t=this;return(0,i.Z)(function*(){let e;do{e=t._c,yield e}while(e!==t._c)})()}Dc(t){for(const e of this.yc)if(e.timerId===t)return!0;return!1}Cc(t){return this.Sc().then(()=>{this.yc.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this.yc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sc()})}Nc(t){this.Ac.push(t)}Vc(t){const e=this.yc.indexOf(t);this.yc.splice(e,1)}}function jd(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(t)}class Bd{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}const qd=-1;class zd extends Dd{constructor(t,e){super(t,e),this.type="firestore",this._queue=new Vd,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Hd(this),this._firestoreClient.terminate()}}function Zd(t=(0,s.getApp)()){return(0,s._getProvider)(t,"firestore").getImmediate()}function $d(t){return t._firestoreClient||Hd(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Hd(t){var e;const n=t._freezeSettings(),r=(i=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new _d(t._databaseId,i,t._persistenceKey,(s=n).host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams));var i,s;t._firestoreClient=new ed(t._credentials,t._queue,r)}function Gd(t,e){nf(t=Id(t,zd));const n=$d(t),r=t._freezeSettings(),i=new Wh;return Wd(n,i,new Gh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Kd(t){nf(t=Id(t,zd));const e=$d(t),n=t._freezeSettings(),r=new Wh;return Wd(e,r,new Kh(r,n.cacheSizeBytes))}function Wd(t,e,n){const r=new Mr;return t.asyncQueue.enqueue((0,i.Z)(function*(){try{yield nd(t,n),yield id(t,e),r.resolve()}catch(s){if(!("FirebaseError"===(i=s).name?i.code===kr.FAILED_PRECONDITION||i.code===kr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var i})).then(()=>r.promise)}function Qd(t){if(t._initialized&&!t._terminated)throw new xr(kr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mr;return t._queue.enqueueAndForgetEvenWhileRestricted((0,i.Z)(function*(){try{yield(n=(0,i.Z)(function*(t){if(!Aa.bt())return Promise.resolve();const e=t+"main";yield Aa.delete(e)}),function(t){return n.apply(this,arguments)})(Vu(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Yd(t){return function(t){const e=new Mr;return t.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return function(t,e){return mh.apply(this,arguments)}(yield fd(t),e)})),e.promise}($d(t=Id(t,zd)))}function Jd(t){return function(t){return t.asyncQueue.enqueue((0,i.Z)(function*(){const e=yield ld(t),n=yield dd(t);return e.setNetworkEnabled(!0),function(t){const e=Pr(t);return e.Wr.delete(0),Zc(e)}(n)}))}($d(t=Id(t,zd)))}function Xd(t){return function(t){return t.asyncQueue.enqueue((0,i.Z)(function*(){const e=yield ld(t),n=yield dd(t);return e.setNetworkEnabled(!1),(r=(0,i.Z)(function*(t){const e=Pr(t);e.Wr.add(0),yield Hc(e),e.Hr.set("Offline")}),function(t){return r.apply(this,arguments)})(n);var r}))}($d(t=Id(t,zd)))}function tf(t,e){const n=$d(t=Id(t,zd)),r=new Bd;return function(t,e,n,r){const s=function(t,e){let n;return n="string"==typeof t?(new TextEncoder).encode(t):t,r=function(t,e){if(t instanceof Uint8Array)return Qh(t,void 0);if(t instanceof ArrayBuffer)return Qh(new Uint8Array(t),void 0);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),new Jh(r,e);var r}(n,Nc(e));t.asyncQueue.enqueueAndForget((0,i.Z)(function*(){!function(t,e,n){const r=Pr(t);var s;(s=(0,i.Z)(function*(t,e,n){try{const i=yield e.getMetadata();if(yield function(t,e){const n=Pr(t),r=Do(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",t=>n.Je.getBundleMetadata(t,e.id)).then(t=>!!t&&t.createTime.compareTo(r)>=0)}(t.localStore,i))return yield e.close(),void n._completeWith((r=i,{taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}));n._updateProgress(Gl(i));const s=new Hl(i,t.localStore,e.N);let o=yield e.zo();for(;o;){const t=yield s.mo(o);t&&n._updateProgress(t),o=yield e.zo()}const a=yield s.complete();yield Th(t,a.En,void 0),yield function(t,e){const n=Pr(t);return n.persistence.runTransaction("Save bundle","readwrite",t=>n.Je.saveBundleMetadata(t,e))}(t.localStore,i),n._completeWith(a.progress)}catch(i){Sr("SyncEngine",`Loading bundle failed with ${i}`),n._failWith(i)}var r}),function(t,e,n){return s.apply(this,arguments)})(r,e,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield fd(t),s,r)}))}(n,t._databaseId,e,r),r}function ef(t,e){return function(t,e){return t.asyncQueue.enqueue((0,i.Z)(function*(){return function(t,e){const n=Pr(t);return n.persistence.runTransaction("Get named query","readonly",t=>n.Je.getNamedQuery(t,e))}(yield hd(t),e)}))}($d(t=Id(t,zd)),e).then(e=>e?new xd(t,null,e.query):null)}function nf(t){if(t._initialized||t._terminated)throw new xr(kr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new xr(kr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ti(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class sf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new sf(ri.fromBase64String(t))}catch(e){throw new xr(kr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new sf(ri.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class of{constructor(t){this._methodName=t}}class af{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new xr(kr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xr(kr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zr(this._lat,t._lat)||zr(this._long,t._long)}}const uf=/^__.*__$/;class cf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Bs(t,this.data,this.fieldMask,e,this.fieldTransforms):new js(t,this.data,e,this.fieldTransforms)}}class lf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Bs(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function hf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ar()}}class df{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(t){return new df(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$c({path:n,Fc:!1});return r.Mc(t),r}Lc(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.$c({path:n,Fc:!1});return r.xc(),r}Bc(t){return this.$c({path:void 0,Fc:!0})}Uc(t){return xf(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Mc(this.path.get(t))}Mc(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(hf(this.kc)&&uf.test(t))throw this.Uc('Document fields cannot begin and end with "__"')}}class ff{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=n||Nc(t)}jc(t,e,n,r=!1){return new df({kc:t,methodName:e,Kc:n,path:ti.emptyPath(),Fc:!1,qc:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function pf(t){const e=t._freezeSettings(),n=Nc(t._databaseId);return new ff(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gf(t,e,n,r,i,s={}){const o=t.jc(s.merge||s.mergeFields?2:0,e,n,i);Of("Data must be an object, but it was:",o,r);const a=If(r,o);let u,c;if(s.merge)u=new ei(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=Df(e,r,n);if(!o.contains(i))throw new xr(kr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Mf(t,i)||t.push(i)}u=new ei(t),c=o.fieldTransforms.filter(t=>u.covers(t.field))}else u=null,c=o.fieldTransforms;return new cf(new Di(a),u,c)}class mf extends of{_toFieldTransform(t){if(2!==t.kc)throw t.Uc(1===t.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof mf}}function yf(t,e,n){return new df({kc:3,Kc:e.settings.Kc,methodName:t._methodName,Fc:n},e.databaseId,e.N,e.ignoreUndefinedProperties)}class _f extends of{_toFieldTransform(t){return new Ps(t.path,new Cs)}isEqual(t){return t instanceof _f}}class vf extends of{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=yf(this,t,!0),n=this.Qc.map(t=>Sf(t,e)),r=new Es(n);return new Ps(t.path,r)}isEqual(t){return this===t}}class bf extends of{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=yf(this,t,!0),n=this.Qc.map(t=>Sf(t,e)),r=new Ss(n);return new Ps(t.path,r)}isEqual(t){return this===t}}class wf extends of{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=new As(t.N,ys(t.N,this.Wc));return new Ps(t.path,e)}isEqual(t){return this===t}}function Cf(t,e,n,r){const i=t.jc(1,e,n);Of("Data must be an object, but it was:",i,r);const s=[],o=Di.empty();Wr(r,(t,r)=>{const a=kf(e,t,n);r=(0,u.m9)(r);const c=i.Lc(a);if(r instanceof mf)s.push(a);else{const t=Sf(r,c);null!=t&&(s.push(a),o.set(a,t))}});const a=new ei(s);return new lf(o,a,i.fieldTransforms)}function Ef(t,e,n,r,i,s){const o=t.jc(1,e,n),a=[Df(e,r,n)],c=[i];if(s.length%2!=0)throw new xr(kr.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let u=0;u<s.length;u+=2)a.push(Df(e,s[u])),c.push(s[u+1]);const l=[],h=Di.empty();for(let f=a.length-1;f>=0;--f)if(!Mf(l,a[f])){const t=a[f];let e=c[f];e=(0,u.m9)(e);const n=o.Lc(t);if(e instanceof mf)l.push(t);else{const r=Sf(e,n);null!=r&&(l.push(t),h.set(t,r))}}const d=new ei(l);return new lf(h,d,o.fieldTransforms)}function Tf(t,e,n,r=!1){return Sf(n,t.jc(r?4:3,e))}function Sf(t,e){if(Af(t=(0,u.m9)(t)))return Of("Unsupported field value:",e,t),If(t,e);if(t instanceof of)return function(t,e){if(!hf(e.kc))throw e.Uc(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Uc(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=Sf(i,e.Bc(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,u.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ys(e.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=Hr.fromDate(t);return{timestampValue:Io(e.N,n)}}if(t instanceof Hr){const n=new Hr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Io(e.N,n)}}if(t instanceof af)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sf)return{bytesValue:Ao(e.N,t._byteString)};if(t instanceof kd){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Uc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Po(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc(`Unsupported field value: ${Sd(t)}`)}(t,e)}function If(t,e){const n={};return Qr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,(t,r)=>{const i=Sf(r,e.Oc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Af(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Hr||t instanceof af||t instanceof sf||t instanceof kd||t instanceof of)}function Of(t,e,n){if(!Af(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Sd(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}var r}function Df(t,e,n){if((e=(0,u.m9)(e))instanceof rf)return e._internalPath;if("string"==typeof e)return kf(t,e);throw xf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const Pf=new RegExp("[~\\*/\\[\\]]");function kf(t,e,n){if(e.search(Pf)>=0)throw xf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rf(...e.split("."))._internalPath}catch(r){throw xf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new xr(kr.INVALID_ARGUMENT,a+t+u)}function Mf(t,e){return t.some(t=>t.isEqual(e))}class Ff{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new kd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Rf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Nf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Rf extends Ff{data(){return super.data()}}function Nf(t,e){return"string"==typeof e?kf(t,e):e instanceof rf?e._internalPath:e._delegate._internalPath}class Lf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Uf extends Ff{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Nf("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Vf extends Uf{data(t={}){return super.data(t)}}class jf{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Lf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Vf(this._firestore,this._userDataWriter,n.key,n,new Lf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xr(kr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>({type:"added",doc:new Vf(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Lf(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const r=new Vf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Lf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Bf(e.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Bf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ar()}}function qf(t,e){return t instanceof Uf&&e instanceof Uf?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof jf&&e instanceof jf&&t._firestore===e._firestore&&Ud(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function zf(t){if(ns(t)&&0===t.explicitOrderBy.length)throw new xr(kr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zf{}function $f(t,...e){for(const n of e)t=n._apply(t);return t}class Hf extends Zf{constructor(t,e,n){super(),this.Gc=t,this.zc=e,this.Hc=n,this.type="where"}_apply(t){const e=pf(t.firestore),n=function(t,e,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new xr(kr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){ap(o,s);const e=[];for(const n of o)e.push(op(r,t,n));a={arrayValue:{values:e}}}else a=op(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||ap(o,s),a=Tf(n,"where",o,"in"===s||"not-in"===s);const u=Li.create(i,s,a);return function(t,e){if(e.v()){const n=is(t);if(null!==n&&!n.isEqual(e.field))throw new xr(kr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);const r=rs(t);null!==r&&up(0,e.field,r)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new xr(kr.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}(t,u),u}(t._query,0,e,t.firestore._databaseId,this.Gc,this.zc,this.Hc);return new xd(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new Ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}function Gf(t,e,n){const r=e,i=Nf("where",t);return new Hf(i,r,n)}class Kf extends Zf{constructor(t,e){super(),this.Gc=t,this.Jc=e,this.type="orderBy"}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new xr(kr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new xr(kr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Ki(e,n);return function(t,e){if(null===rs(t)){const n=is(t);null!==n&&up(0,n,e.field)}}(t,r),r}(t._query,this.Gc,this.Jc);return new xd(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new Ji(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function Wf(t,e="asc"){const n=e,r=Nf("orderBy",t);return new Kf(r,n)}class Qf extends Zf{constructor(t,e,n){super(),this.type=t,this.Yc=e,this.Xc=n}_apply(t){return new xd(t.firestore,t.converter,us(t._query,this.Yc,this.Xc))}}function Yf(t){return Ad("limit",t),new Qf("limit",t,"F")}function Jf(t){return Ad("limitToLast",t),new Qf("limitToLast",t,"L")}class Xf extends Zf{constructor(t,e,n){super(),this.type=t,this.Zc=e,this.ta=n}_apply(t){const e=sp(t,this.type,this.Zc,this.ta);return new xd(t.firestore,t.converter,(r=e,new Ji((n=t._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)));var n,r}}function tp(...t){return new Xf("startAt",t,!0)}function ep(...t){return new Xf("startAfter",t,!1)}class np extends Zf{constructor(t,e,n){super(),this.type=t,this.Zc=e,this.ta=n}_apply(t){const e=sp(t,this.type,this.Zc,this.ta);return new xd(t.firestore,t.converter,(r=e,new Ji((n=t._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,r)));var n,r}}function rp(...t){return new np("endBefore",t,!0)}function ip(...t){return new np("endAt",t,!1)}function sp(t,e,n,r){if(n[0]=(0,u.m9)(n[0]),n[0]instanceof Ff)return function(t,e,n,r,i){if(!r)throw new xr(kr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of os(t))if(o.field.isKeyField())s.push(Ci(e,r.key));else{const t=r.data.field(o.field);if(ui(t))throw new xr(kr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=o.field.canonicalString();throw new xr(kr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}s.push(t)}return new Hi(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=pf(t.firestore);return function(t,e,n,r,i,s){const o=t.explicitOrderBy;if(i.length>o.length)throw new xr(kr.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let u=0;u<i.length;u++){const s=i[u];if(o[u].field.isKeyField()){if("string"!=typeof s)throw new xr(kr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!ss(t)&&-1!==s.indexOf("/"))throw new xr(kr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=t.path.child(Jr.fromString(s));if(!pi.isDocumentKey(n))throw new xr(kr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new pi(n);a.push(Ci(e,i))}else{const t=Tf(n,r,s);a.push(t)}}return new Hi(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}}function op(t,e,n){if("string"==typeof(n=(0,u.m9)(n))){if(""===n)throw new xr(kr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ss(e)&&-1!==n.indexOf("/"))throw new xr(kr.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Jr.fromString(n));if(!pi.isDocumentKey(r))throw new xr(kr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ci(t,new pi(r))}if(n instanceof kd)return Ci(t,n._key);throw new xr(kr.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sd(n)}.`)}function ap(t,e){if(!Array.isArray(t)||0===t.length)throw new xr(kr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new xr(kr.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function up(t,e,n){if(!n.isEqual(e))throw new xr(kr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class cp{convertValue(t,e="none"){switch(gi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return oi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ai(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ar()}}convertObject(t,e){const n={};return Wr(t.fields,(t,r)=>{n[t]=this.convertValue(r,e)}),n}convertGeoPoint(t){return new af(oi(t.latitude),oi(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=ci(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(li(t));default:return null}}convertTimestamp(t){const e=si(t);return new Hr(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=Jr.fromString(t);Or(ea(n));const r=new vd(n.get(1),n.get(3)),i=new pi(n.popFirst(5));return r.isEqual(e)||Tr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}function lp(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class hp extends cp{constructor(t){super(),this.firestore=t}convertBytes(t){return new sf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new kd(this.firestore,null,e)}}class dp{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=pf(t)}set(t,e,n){this._verifyNotCommitted();const r=fp(t,this._firestore),i=lp(r.converter,e,n),s=gf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,xs.none())),this}update(t,e,n,...r){this._verifyNotCommitted();const i=fp(t,this._firestore);let s;return s="string"==typeof(e=(0,u.m9)(e))||e instanceof rf?Ef(this._dataReader,"WriteBatch.update",i._key,e,n,r):Cf(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(s.toMutation(i._key,xs.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=fp(t,this._firestore);return this._mutations=this._mutations.concat(new $s(e._key,xs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xr(kr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fp(t,e){if((t=(0,u.m9)(t)).firestore!==e)throw new xr(kr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function pp(t){t=Id(t,kd);const e=Id(t.firestore,zd);return md($d(e),t._key).then(n=>Op(e,t,n))}class gp extends cp{constructor(t){super(),this.firestore=t}convertBytes(t){return new sf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new kd(this.firestore,null,e)}}function mp(t){t=Id(t,kd);const e=Id(t.firestore,zd),n=$d(e),r=new gp(e);return function(t,e){const n=new Mr;return t.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return(r=(0,i.Z)(function*(t,e,n){try{const r=yield function(t,e){const n=Pr(t);return n.persistence.runTransaction("read document","readonly",t=>n.Qn.An(t,e))}(t,e);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new xr(kr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(r){const t=Pl(r,`Failed to get document '${e} from cache`);n.reject(t)}}),function(t,e,n){return r.apply(this,arguments)})(yield hd(t),e,n);var r})),n.promise}(n,t._key).then(n=>new Uf(e,r,t._key,n,new Lf(null!==n&&n.hasLocalMutations,!0),t.converter))}function yp(t){t=Id(t,kd);const e=Id(t.firestore,zd);return md($d(e),t._key,{source:"server"}).then(n=>Op(e,t,n))}function _p(t){t=Id(t,xd);const e=Id(t.firestore,zd),n=$d(e),r=new gp(e);return zf(t._query),yd(n,t._query).then(n=>new jf(e,r,t,n))}function vp(t){t=Id(t,xd);const e=Id(t.firestore,zd),n=$d(e),r=new gp(e);return function(t,e){const n=new Mr;return t.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return(r=(0,i.Z)(function*(t,e,n){try{const r=yield nc(t,e,!0),i=new Ql(e,r.Gn),s=i.bo(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(r){const t=Pl(r,`Failed to execute query '${e} against cache`);n.reject(t)}}),function(t,e,n){return r.apply(this,arguments)})(yield hd(t),e,n);var r})),n.promise}(n,t._query).then(n=>new jf(e,r,t,n))}function bp(t){t=Id(t,xd);const e=Id(t.firestore,zd),n=$d(e),r=new gp(e);return yd(n,t._query,{source:"server"}).then(n=>new jf(e,r,t,n))}function wp(t,e,n){t=Id(t,kd);const r=Id(t.firestore,zd),i=lp(t.converter,e,n);return Ap(r,[gf(pf(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,xs.none())])}function Cp(t,e,n,...r){t=Id(t,kd);const i=Id(t.firestore,zd),s=pf(i);let o;return o="string"==typeof(e=(0,u.m9)(e))||e instanceof rf?Ef(s,"updateDoc",t._key,e,n,r):Cf(s,"updateDoc",t._key,e),Ap(i,[o.toMutation(t._key,xs.exists(!0))])}function Ep(t){return Ap(Id(t.firestore,zd),[new $s(t._key,xs.none())])}function Tp(t,e){const n=Id(t.firestore,zd),r=Nd(t),i=lp(t.converter,e);return Ap(n,[gf(pf(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,xs.exists(!1))]).then(()=>r)}function Sp(t,...e){var n,r,s;t=(0,u.m9)(t);let o={includeMetadataChanges:!1},a=0;"object"!=typeof e[a]||jd(e[a])||(o=e[a],a++);const c={includeMetadataChanges:o.includeMetadataChanges};if(jd(e[a])){const t=e[a];e[a]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[a+1]=null===(r=t.error)||void 0===r?void 0:r.bind(t),e[a+2]=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}let l,h,d;if(t instanceof kd)h=Id(t.firestore,zd),d=ts(t._key.path),l={next:n=>{e[a]&&e[a](Op(h,t,n))},error:e[a+1],complete:e[a+2]};else{const n=Id(t,xd);h=Id(n.firestore,zd),d=n._query;const r=new gp(h);l={next:t=>{e[a]&&e[a](new jf(h,r,n,t))},error:e[a+1],complete:e[a+2]},zf(t._query)}return function(t,e,n,r){const s=new Yh(r),o=new zl(e,s,n);return t.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return Nl(yield pd(t),o)})),()=>{s.ec(),t.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return Ul(yield pd(t),o)}))}}($d(h),d,c,l)}function Ip(t,e){return function(t,e){const n=new Yh(e);return t.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return e=yield pd(t),r=n,Pr(e).so.add(r),void r.next();var e,r})),()=>{n.ec(),t.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return e=yield pd(t),r=n,void Pr(e).so.delete(r);var e,r}))}}($d(t=Id(t,zd)),jd(e)?e:{next:e})}function Ap(t,e){return function(t,e){const n=new Mr;return t.asyncQueue.enqueueAndForget((0,i.Z)(function*(){return function(t,e,n){return oh.apply(this,arguments)}(yield fd(t),e,n)})),n.promise}($d(t),e)}function Op(t,e,n){const r=n.docs.get(e._key),i=new gp(t);return new Uf(t,i,e._key,r,new Lf(n.hasPendingWrites,n.fromCache),e.converter)}class Dp extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=pf(t)}get(t){const e=fp(t,this._firestore),n=new hp(this._firestore);return this._transaction.lookup([e._key]).then(t=>{if(!t||1!==t.length)return Ar();const r=t[0];if(r.isFoundDocument())return new Ff(this._firestore,n,r.key,r,e.converter);if(r.isNoDocument())return new Ff(this._firestore,n,e._key,null,e.converter);throw Ar()})}set(t,e,n){const r=fp(t,this._firestore),i=lp(r.converter,e,n),s=gf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(t,e,n,...r){const i=fp(t,this._firestore);let s;return s="string"==typeof(e=(0,u.m9)(e))||e instanceof rf?Ef(this._dataReader,"Transaction.update",i._key,e,n,r):Cf(this._dataReader,"Transaction.update",i._key,e),this._transaction.update(i._key,s),this}delete(t){const e=fp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=fp(t,this._firestore),n=new gp(this._firestore);return super.get(t).then(t=>new Uf(this._firestore,n,e._key,t._document,new Lf(!1,!1),e.converter))}}function Pp(t,e){return function(t,e){const n=new Mr;return t.asyncQueue.enqueueAndForget((0,i.Z)(function*(){const r=yield(i=t,ud(i).then(t=>t.datastore));var i;new td(t.asyncQueue,r,e,n).run()})),n.promise}($d(t=Id(t,zd)),n=>e(new Dp(t,n)))}function kp(){return new mf("deleteField")}function xp(){return new _f("serverTimestamp")}function Mp(...t){return new vf("arrayUnion",t)}function Fp(...t){return new bf("arrayRemove",t)}function Rp(t){return new wf("increment",t)}!function(t,e=!0){vr=s.SDK_VERSION,(0,s._registerComponent)(new o.wA("firestore",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=new zd(r,new Lr(t.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:e},n),i._setSettings(n),i},"PUBLIC")),(0,s.registerVersion)(yr,"3.2.0",t),(0,s.registerVersion)(yr,"3.2.0","esm2017")}()},5601:function(t,e,n){"use strict";n.d(e,{in:function(){return i},Yd:function(){return c},Ub:function(){return l},Am:function(){return h}});const r=[];var i=(()=>{return(t=i||(i={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",i;var t})();const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},u=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=a[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class c{constructor(t){this.name=t,this._logLevel=o,this._logHandler=u,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?s[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}function l(t){r.forEach(e=>{e.setLogLevel(t)})}function h(t,e){for(const n of r){let r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:(e,n,...s)=>{const o=s.map(t=>{if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(t=>t).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:i[n].toLowerCase(),message:o,args:s,type:e.name})}}}},3854:function(t,e,n){"use strict";n.d(e,{BH:function(){return c},LL:function(){return S},ZR:function(){return T},zI:function(){return E},US:function(){return i},tV:function(){return o},$s:function(){return L},r3:function(){return A},Sg:function(){return l},ne:function(){return F},vZ:function(){return D},ZB:function(){return a},pd:function(){return M},m9:function(){return U},z$:function(){return h},jU:function(){return p},ru:function(){return g},d:function(){return y},xb:function(){return O},w1:function(){return _},hl:function(){return w},uI:function(){return d},UG:function(){return f},b$:function(){return m},G6:function(){return b},Mn:function(){return v},xO:function(){return k},zd:function(){return x},eu:function(){return C}});const r=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0;let c=(15&o)<<2|u>>6,l=63&u;a||(l=64,s||(c=64)),r.push(n[e>>2],n[(3&e)<<4|o>>4],n[c],n[l])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const o=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==o||null==a)throw Error();r.push(e<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){return function(t){const e=r(t);return i.encodeByteArray(e,!0)}(t).replace(/\./g,"")},o=function(t){try{return i.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!u(n)||(t[n]=a(t[n],e[n]));return t}function u(t){return"__proto__"!==t}class c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function _(){const t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v(){return h().indexOf("MSAppHost/")>=0}function b(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w(){return"object"==typeof indexedDB}function C(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})}function E(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class T extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,T.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(I,(t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new T(r,`${this.serviceName}: ${s} (${r}).`,n)}}const I=/\{\$([^}]+)}/g;function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function O(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function D(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(P(n)&&P(s)){if(!D(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function P(t){return null!==t&&"object"==typeof t}function k(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function x(t){const e={};return t.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}}),e}function M(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function F(t,e){const n=new R(t,e);return n.subscribe.bind(n)}class R{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(t)?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=N),void 0===r.error&&(r.error=N),void 0===r.complete&&(r.complete=N);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}}),this.observers.push(r),i}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N(){}function L(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function U(t){return t&&t._delegate?t._delegate:t}},1601:function(t,e,n){"use strict";n.d(e,{eX:function(){return z},sQ:function(){return ot},GW:function(){return R},l4:function(){return Z}});var r=n(6710),i=n(6682),s=n(8891),o=n(9765),a=n(7393);class u{call(t,e){return e.subscribe(new c(t))}}class c extends a.L{_next(t){}}var l=n(3098);class h{call(t,e){return e.subscribe(new d(t))}}class d extends a.L{constructor(t){super(t)}_next(t){this.destination.next(l.P.createNext(t))}_error(t){const e=this.destination;e.next(l.P.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(l.P.createComplete()),t.complete()}}var f=n(5319);function p(t,e,n,r){return i=>i.lift(new g(t,e,n,r))}class g{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new m(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class m extends a.L{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(s){this.error(s)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new o.xQ,n.set(e,i);const t=new _(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new _(e,i))}catch(a){return void this.error(a)}this.add(t.subscribe(new y(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class y extends a.L{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class _ extends s.y{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new f.w,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new v(n)),e.add(r.subscribe(t)),e}}class v extends f.w{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;!t.closed&&!this.closed&&(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var b=n(8002),w=n(4402),C=n(5345);function E(t,e){return e?n=>n.pipe(E((n,r)=>(0,w.D)(t(n,r)).pipe((0,b.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new T(t))}class T{constructor(t){this.project=t}call(t,e){return e.subscribe(new S(t,this.project))}}class S extends C.Ds{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new C.IY(this),n=this.destination;n.add(e);const r=(0,C.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class I{call(t,e){return e.subscribe(new A(t))}}class A extends a.L{constructor(t){super(t)}_next(t){t.observe(this.destination)}}var O=n(5304),D=n(5435),P=n(9773),k=n(5257),x=n(7716);const M={dispatch:!0,useEffectsErrorHandler:!0},F="__@ngrx/effects_create__";function R(t,e){const n=t(),r=Object.assign(Object.assign({},M),e);return Object.defineProperty(n,F,{value:r}),n}function N(t){return Object.getOwnPropertyNames(t).filter(e=>!(!t[e]||!t[e].hasOwnProperty(F))&&t[e][F].hasOwnProperty("dispatch")).map(e=>Object.assign({propertyName:e},t[e][F]))}function L(t){return Object.getPrototypeOf(t)}const U="__@ngrx/effects__";function V(t){return(0,r.qC)(j,L)(t)}function j(t){return function(t){return t.constructor.hasOwnProperty(U)}(t)?t.constructor[U]:[]}function B(t,e,n){const r=L(t).constructor.name,s=function(t){return[V,N].reduce((e,n)=>e.concat(n(t)),[])}(t).map(({propertyName:i,dispatch:s,useEffectsErrorHandler:o})=>{const a="function"==typeof t[i]?t[i]():t[i],c=o?n(a,e):a;return!1===s?c.pipe(function(t){return t.lift(new u)}):c.pipe(function(t){return t.lift(new h)}).pipe((0,b.U)(e=>({effect:t[i],notification:e,propertyName:i,sourceName:r,sourceInstance:t})))});return(0,i.T)(...s)}function q(t,e,n=10){return t.pipe((0,O.K)(r=>(e&&e.handleError(r),n<=1?t:q(t,e,n-1))))}let z=(()=>{class t extends s.y{constructor(t){super(),t&&(this.source=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}}return t.\u0275fac=function(e){return new(e||t)(x.LFG(r.Y$))},t.\u0275prov=x.Yz7({token:t,factory:t.\u0275fac}),t})();function Z(...t){return(0,D.h)(e=>t.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}function $(t){return H(t,"ngrxOnInitEffects")}function H(t,e){return t&&e in t&&"function"==typeof t[e]}const G=new x.OlP("@ngrx/effects Internal Root Guard"),K=new x.OlP("@ngrx/effects User Provided Effects"),W=new x.OlP("@ngrx/effects Internal Root Effects"),Q=new x.OlP("@ngrx/effects Root Effects"),Y=new x.OlP("@ngrx/effects Internal Feature Effects"),J=new x.OlP("@ngrx/effects Feature Effects"),X=new x.OlP("@ngrx/effects Effects Error Handler");let tt=(()=>{class t extends o.xQ{constructor(t,e){super(),this.errorHandler=t,this.effectsErrorHandler=e}addEffects(t){this.next(t)}toActions(){return this.pipe(p(L),(0,P.zg)(t=>t.pipe(p(et))),(0,P.zg)(t=>{const e=t.pipe(E(t=>function(t,e){return n=>{const r=B(n,t,e);return function(t){return H(t,"ngrxOnRunEffects")}(n)?n.ngrxOnRunEffects(r):r}}(this.errorHandler,this.effectsErrorHandler)(t)),(0,b.U)(t=>(function(t,e){if("N"===t.notification.kind){const n=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(n)&&e.handleError(new Error(`Effect ${function({propertyName:t,sourceInstance:e,sourceName:n}){const r="function"==typeof e[t];return`"${n}.${String(t)}${r?"()":""}"`}(t)} dispatched an invalid action: ${function(t){try{return JSON.stringify(t)}catch(e){return t}}(n)}`))}}(t,this.errorHandler),t.notification)),(0,D.h)(t=>"N"===t.kind&&null!=t.value),function(t){return t.lift(new I)}),n=t.pipe((0,k.q)(1),(0,D.h)($),(0,b.U)(t=>t.ngrxOnInitEffects()));return(0,i.T)(e,n)}))}}return t.\u0275fac=function(e){return new(e||t)(x.LFG(x.qLn),x.LFG(X))},t.\u0275prov=x.Yz7({token:t,factory:t.\u0275fac}),t})();function et(t){return function(t){return H(t,"ngrxOnIdentifyEffects")}(t)?t.ngrxOnIdentifyEffects():""}let nt=(()=>{class t{constructor(t,e){this.effectSources=t,this.store=e,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(x.LFG(tt),x.LFG(r.yh))},t.\u0275prov=x.Yz7({token:t,factory:t.\u0275fac}),t})();const rt="@ngrx/effects/init";(0,r.PH)(rt);let it=(()=>{class t{constructor(t,e,n,r,i,s,o){this.sources=t,e.start(),r.forEach(e=>t.addEffects(e)),n.dispatch({type:rt})}addEffects(t){this.sources.addEffects(t)}}return t.\u0275fac=function(e){return new(e||t)(x.LFG(tt),x.LFG(nt),x.LFG(r.yh),x.LFG(Q),x.LFG(r.cr,8),x.LFG(r.CK,8),x.LFG(G,8))},t.\u0275mod=x.oAB({type:t}),t.\u0275inj=x.cJS({}),t})(),st=(()=>{class t{constructor(t,e,n,r){e.forEach(e=>e.forEach(e=>t.addEffects(e)))}}return t.\u0275fac=function(e){return new(e||t)(x.LFG(it),x.LFG(J),x.LFG(r.cr,8),x.LFG(r.CK,8))},t.\u0275mod=x.oAB({type:t}),t.\u0275inj=x.cJS({}),t})(),ot=(()=>{class t{static forFeature(t=[]){return{ngModule:st,providers:[t,{provide:Y,multi:!0,useValue:t},{provide:K,multi:!0,useValue:[]},{provide:J,multi:!0,useFactory:at,deps:[x.zs3,Y,K]}]}}static forRoot(t=[]){return{ngModule:it,providers:[{provide:X,useValue:q},nt,tt,z,t,{provide:W,useValue:[t]},{provide:G,useFactory:ut,deps:[[nt,new x.FiY,new x.tp0],[W,new x.PiD]]},{provide:K,multi:!0,useValue:[]},{provide:Q,useFactory:at,deps:[x.zs3,W,K]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=x.oAB({type:t}),t.\u0275inj=x.cJS({}),t})();function at(t,e,n){const r=[];for(const i of e)r.push(...i);for(const i of n)r.push(...i);return function(t,e){return e.map(e=>t.get(e))}(t,r)}function ut(t,e){if((1!==e.length||0!==e[0].length)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}},3572:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{FT:function(){return StoreDevtoolsModule}});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7716),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6710),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9193),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8891),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5917),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6682),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7771),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8229),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8819),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5435),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8002),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4612),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2965),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4395),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5304),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5257),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6782),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3190),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3653),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(9746),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7057),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2145);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(t){const e={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},n="function"==typeof t?t():t,r=Object.assign({},e,{features:n.features||!!n.logOnly&&{pause:!0,export:!0,test:!0}||e.features},n);if(r.maxAge&&r.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${r.maxAge}`);return r}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(t,e){if(this.action=t,this.timestamp=e,this.type=PERFORM_ACTION,void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(t){this.timestamp=t,this.type=RESET}}class Rollback{constructor(t){this.timestamp=t,this.type=ROLLBACK}}class Commit{constructor(t){this.timestamp=t,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(t){this.id=t,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(t,e,n=!0){this.start=t,this.end=e,this.active=n,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(t){this.index=t,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(t){this.actionId=t,this.type=JUMP_TO_ACTION}}class ImportState{constructor(t){this.nextLiftedState=t,this.type=IMPORT_STATE}}class LockChanges{constructor(t){this.status=t,this.type=LOCK_CHANGES}}class PauseRecording{constructor(t){this.status=t,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class t extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(t)))(n||t)}}(),t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:t,factory:t.\u0275fac}),t})();function difference(t,e){return t.filter(t=>e.indexOf(t)<0)}function unliftState(t){const{computedStates:e,currentStateIndex:n}=t;if(n>=e.length){const{state:t}=e[e.length-1];return t}const{state:r}=e[n];return r}function unliftAction(t){return t.actionsById[t.nextActionId-1]}function liftAction(t){return new PerformAction(t,+Date.now())}function sanitizeActions(t,e){return Object.keys(e).reduce((n,r)=>{const i=Number(r);return n[i]=sanitizeAction(t,e[i],i),n},{})}function sanitizeAction(t,e,n){return Object.assign(Object.assign({},e),{action:t(e.action,n)})}function sanitizeStates(t,e){return e.map((e,n)=>({state:sanitizeState(t,e.state,n),error:e.error}))}function sanitizeState(t,e,n){return t(e,n)}function shouldFilterActions(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function filterLiftedState(t,e,n,r){const i=[],s={},o=[];return t.stagedActionIds.forEach((a,u)=>{const c=t.actionsById[a];!c||u&&isActionFiltered(t.computedStates[u],c,e,n,r)||(s[a]=c,i.push(a),o.push(t.computedStates[u]))}),Object.assign(Object.assign({},t),{stagedActionIds:i,actionsById:s,computedStates:o})}function isActionFiltered(t,e,n,r,i){const s=n&&!n(t,e.action),o=r&&!e.action.type.match(r.map(t=>escapeRegExp(t)).join("|")),a=i&&e.action.type.match(i.map(t=>escapeRegExp(t)).join("|"));return s||o||a}function escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(t,e,n){this.config=e,this.dispatcher=n,this.devtoolsExtension=t,this.createActionStreams()}notify(t,e){if(this.devtoolsExtension)if(t.type===PERFORM_ACTION){if(e.isLocked||e.isPaused)return;const n=unliftState(e);if(shouldFilterActions(this.config)&&isActionFiltered(n,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const r=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,n,e.currentStateIndex):n,i=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,t,e.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(i,r))}else{const t=Object.assign(Object.assign({},e),{stagedActionIds:e.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,e.actionsById):e.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,e.computedStates):e.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,t,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(t=>{const e=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=e,e.init(),e.subscribe(e=>t.next(e)),e.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const t=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),e=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(t=>t.type===ExtensionActionTypes.START)),n=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(t=>t.type===ExtensionActionTypes.STOP)),r=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(t=>t.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(t=>this.unwrapAction(t.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(t=>t.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(t=>t.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>t),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(t)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(t))),i=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(t=>t.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(t=>this.unwrapAction(t.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(n)),s=r.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(n));this.start$=e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(n)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>i)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>s))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(t){var e;const n={name:t.name,features:t.features,serialize:t.serialize,autoPause:null!==(e=t.autoPause)&&void 0!==e&&e};return!1!==t.maxAge&&(n.maxAge=t.maxAge),n}sendToReduxDevtools(t){try{t()}catch(e){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",e)}}}return DevtoolsExtension.\u0275fac=function(t){return new(t||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(t,e,n,r,i){if(r)return{state:n,error:"Interrupted by an error up the chain"};let s,o=n;try{o=t(n,e)}catch(a){s=a.toString(),i.handleError(a)}return{state:o,error:s}}function recomputeStates(t,e,n,r,i,s,o,a,u){if(e>=t.length&&t.length===s.length)return t;const c=t.slice(0,e),l=s.length-(u?1:0);for(let h=e;h<l;h++){const t=s[h],e=i[t].action,u=c[h-1],l=u?u.state:r,d=u?u.error:void 0,f=o.indexOf(t)>-1?u:computeNextEntry(n,e,l,d,a);c.push(f)}return u&&c.push(t[t.length-1]),c}function liftInitialState(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(t,e,n,r,i={}){return s=>(o,a)=>{let{monitorState:u,actionsById:c,nextActionId:l,stagedActionIds:h,skippedActionIds:d,committedState:f,currentStateIndex:p,computedStates:g,isLocked:m,isPaused:y}=o||e;function _(t){let e=t,n=h.slice(1,e+1);for(let r=0;r<n.length;r++){if(g[r+1].error){e=r,n=h.slice(1,e+1);break}delete c[n[r]]}d=d.filter(t=>-1===n.indexOf(t)),h=[0,...h.slice(e+1)],f=g[e].state,g=g.slice(e),p=p>e?p-e:0}function v(){c={0:liftAction(INIT_ACTION)},l=1,h=[0],d=[],f=g[p].state,p=0,g=[]}o||(c=Object.create(c));let b=0;switch(a.type){case LOCK_CHANGES:m=a.status,b=1/0;break;case PAUSE_RECORDING:y=a.status,y?(h=[...h,l],c[l]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),l++,b=h.length-1,g=g.concat(g[g.length-1]),p===h.length-2&&p++,b=1/0):v();break;case RESET:c={0:liftAction(INIT_ACTION)},l=1,h=[0],d=[],f=t,p=0,g=[];break;case COMMIT:v();break;case ROLLBACK:c={0:liftAction(INIT_ACTION)},l=1,h=[0],d=[],p=0,g=[];break;case TOGGLE_ACTION:{const{id:t}=a;d=-1===d.indexOf(t)?[t,...d]:d.filter(e=>e!==t),b=h.indexOf(t);break}case SET_ACTIONS_ACTIVE:{const{start:t,end:e,active:n}=a,r=[];for(let i=t;i<e;i++)r.push(i);d=n?difference(d,r):[...d,...r],b=h.indexOf(t);break}case JUMP_TO_STATE:p=a.index,b=1/0;break;case JUMP_TO_ACTION:{const t=h.indexOf(a.actionId);-1!==t&&(p=t),b=1/0;break}case SWEEP:h=difference(h,d),d=[],p=Math.min(p,h.length-1);break;case PERFORM_ACTION:{if(m)return o||e;if(y||o&&isActionFiltered(o.computedStates[p],a,i.predicate,i.actionsSafelist,i.actionsBlocklist)){const t=g[g.length-1];g=[...g.slice(0,-1),computeNextEntry(s,a.action,t.state,t.error,n)],b=1/0;break}i.maxAge&&h.length===i.maxAge&&_(1),p===h.length-1&&p++;const t=l++;c[t]=a,h=[...h,t],b=h.length-1;break}case IMPORT_STATE:({monitorState:u,actionsById:c,nextActionId:l,stagedActionIds:h,skippedActionIds:d,committedState:f,currentStateIndex:p,computedStates:g,isLocked:m,isPaused:y}=a.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:b=0,i.maxAge&&h.length>i.maxAge&&(g=recomputeStates(g,b,s,f,c,h,d,n,y),_(h.length-i.maxAge),b=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(g.filter(t=>t.error).length>0)b=0,i.maxAge&&h.length>i.maxAge&&(g=recomputeStates(g,b,s,f,c,h,d,n,y),_(h.length-i.maxAge),b=1/0);else{if(!y&&!m){p===h.length-1&&p++;const t=l++;c[t]=new PerformAction(a,+Date.now()),h=[...h,t],b=h.length-1,g=recomputeStates(g,b,s,f,c,h,d,n,y)}g=g.map(t=>Object.assign(Object.assign({},t),{state:s(t.state,RECOMPUTE_ACTION)})),p=h.length-1,i.maxAge&&h.length>i.maxAge&&_(h.length-i.maxAge),b=1/0}break;default:b=1/0}return g=recomputeStates(g,b,s,f,c,h,d,n,y),u=r(u,a),{monitorState:u,actionsById:c,nextActionId:l,stagedActionIds:h,skippedActionIds:d,committedState:f,currentStateIndex:p,computedStates:g,isLocked:m,isPaused:y}}}let StoreDevtools=(()=>{class t{constructor(t,e,n,r,i,s,o,a){const u=liftInitialState(o,a.monitor),c=liftReducerWith(o,u,s,a.monitor,a),l=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(e.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),r.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),t,r.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),h=n.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(c)),d=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),f=l.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(h),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:t},[e,n])=>{let i=n(t,e);return e.type!==PERFORM_ACTION&&shouldFilterActions(a)&&(i=filterLiftedState(i,a.predicate,a.actionsSafelist,a.actionsBlocklist)),r.notify(e,i),{state:i,action:e}},{state:u,action:null})).subscribe(({state:t,action:e})=>{d.next(t),e.type===PERFORM_ACTION&&i.next(e.action)}),p=r.start$.subscribe(()=>{this.refresh()}),g=d.asObservable(),m=g.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=p,this.stateSubscription=f,this.dispatcher=t,this.liftedState=g,this.state=m}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new PerformAction(t,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(t){this.dispatch(new ToggleAction(t))}jumpToAction(t){this.dispatch(new JumpToAction(t))}jumpToState(t){this.dispatch(new JumpToState(t))}importState(t){this.dispatch(new ImportState(t))}lockChanges(t){this.dispatch(new LockChanges(t))}pauseRecording(t){this.dispatch(new PauseRecording(t))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:t,factory:t.\u0275fac}),t})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(t,e){return Boolean(t)||e.monitor!==noMonitor}function createReduxDevtoolsExtension(){const t="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[t]?window[t]:null}function createStateObservable(t){return t.state}let StoreDevtoolsModule=(()=>{class t{static instrument(e={}){return{ngModule:t,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:e},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),t})()},6710:function(t,e,n){"use strict";n.d(e,{UO:function(){return v},qg:function(){return _},Y6:function(){return E},mK:function(){return H},n$:function(){return $},Y$:function(){return Q},FR:function(){return J},yh:function(){return nt},CK:function(){return Pt},Aw:function(){return kt},cr:function(){return Dt},wb:function(){return G},qC:function(){return z},PH:function(){return g},ZF:function(){return mt},Lq:function(){return Vt},P1:function(){return pt},on:function(){return Ut},Ky:function(){return m},Ys:function(){return it}});var r=n(7716),i=n(6215),s=n(8891),o=n(9765),a=n(7771),u=n(9746),c=n(7057),l=n(2145),h=n(2996),d=n(8002),f=n(7519);const p={};function g(t,e){if(p[t]=(p[t]||0)+1,"function"==typeof e)return y(t,(...n)=>Object.assign(Object.assign({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return y(t,()=>({type:t}));case"props":return y(t,e=>Object.assign(Object.assign({},e),{type:t}));default:throw new Error("Unexpected config.")}}function m(){return{_as:"props",_p:void 0}}function y(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}const _="@ngrx/store/init";let v=(()=>{class t extends i.X{constructor(){super({type:_})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const b=[v],w=new r.OlP("@ngrx/store Internal Root Guard"),C=new r.OlP("@ngrx/store Internal Initial State"),E=new r.OlP("@ngrx/store Initial State"),T=new r.OlP("@ngrx/store Reducer Factory"),S=new r.OlP("@ngrx/store Internal Reducer Factory Provider"),I=new r.OlP("@ngrx/store Initial Reducers"),A=new r.OlP("@ngrx/store Internal Initial Reducers"),O=new r.OlP("@ngrx/store Store Features"),D=new r.OlP("@ngrx/store Internal Store Reducers"),P=new r.OlP("@ngrx/store Internal Feature Reducers"),k=new r.OlP("@ngrx/store Internal Feature Configs"),x=new r.OlP("@ngrx/store Internal Store Features"),M=new r.OlP("@ngrx/store Internal Feature Reducers Token"),F=new r.OlP("@ngrx/store Feature Reducers"),R=new r.OlP("@ngrx/store User Provided Meta Reducers"),N=new r.OlP("@ngrx/store Meta Reducers"),L=new r.OlP("@ngrx/store Internal Resolved Meta Reducers"),U=new r.OlP("@ngrx/store User Runtime Checks Config"),V=new r.OlP("@ngrx/store Internal User Runtime Checks Config"),j=new r.OlP("@ngrx/store Internal Runtime Checks"),B=new r.OlP("@ngrx/store Check if Action types are unique");function q(t,e={}){const n=Object.keys(t),r={};for(let s=0;s<n.length;s++){const e=n[s];"function"==typeof t[e]&&(r[e]=t[e])}const i=Object.keys(r);return function(t,n){t=void 0===t?e:t;let s=!1;const o={};for(let e=0;e<i.length;e++){const a=i[e],u=t[a],c=(0,r[a])(u,n);o[a]=c,s=s||c!==u}return s?o:t}}function z(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),n(e))}}function Z(t,e){return Array.isArray(e)&&e.length>0&&(t=z.apply(null,[...e,t])),(e,n)=>{const r=t(e);return(t,e)=>r(t=void 0===t?n:t,e)}}class $ extends s.y{}class H extends v{}const G="@ngrx/store/update-reducers";let K=(()=>{class t extends i.X{constructor(t,e,n,r){super(r(n,e)),this.dispatcher=t,this.initialState=e,this.reducers=n,this.reducerFactory=r}get currentReducers(){return this.reducers}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:n,metaReducers:r,initialState:i,key:s})=>{const o="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?z(...t):t=>t;return(t,n)=>(t=e(t),(e,r)=>t(e=void 0===e?n:e,r))}(r)(e,i):Z(n,r)(e,i);return t[s]=o,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{this.reducers=function(t,e){return Object.keys(t).filter(t=>t!==e).reduce((e,n)=>Object.assign(e,{[n]:t[n]}),{})}(this.reducers,t)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:G,features:t})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(H),r.LFG(E),r.LFG(I),r.LFG(T))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const W=[K,{provide:$,useExisting:K},{provide:H,useExisting:v}];let Q=(()=>{class t extends o.xQ{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Y=[Q];class J extends s.y{}let X=(()=>{class t extends i.X{constructor(t,e,n,r){super(r);const i=t.pipe((0,u.QV)(a.N)).pipe((0,c.M)(e)).pipe((0,l.R)(tt,{state:r}));this.stateSubscription=i.subscribe(({state:t,action:e})=>{this.next(t),n.next(e)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(v),r.LFG($),r.LFG(Q),r.LFG(E))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t.INIT=_,t})();function tt(t={state:void 0},[e,n]){const{state:r}=t;return{state:n(r,e),action:e}}const et=[X,{provide:J,useExisting:X}];let nt=(()=>{class t extends s.y{constructor(t,e,n){super(),this.actionsObserver=e,this.reducerManager=n,this.source=t}select(t,...e){return it.call(null,t,...e)(this)}lift(e){const n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=e,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(J),r.LFG(v),r.LFG(K))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const rt=[nt];function it(t,e,...n){return function(r){let i;if("string"==typeof t){const s=[e,...n].filter(Boolean);i=r.pipe((0,h.j)(t,...s))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);i=r.pipe((0,d.U)(n=>t(n,e)))}return i.pipe((0,f.x)())}}const st="https://ngrx.io/guide/store/configuration/runtime-checks";function ot(t){return void 0===t}function at(t){return null===t}function ut(t){return Array.isArray(t)}function ct(t){return"object"==typeof t&&null!==t}function lt(t){return"function"==typeof t}function ht(t,e){return t===e}function dt(t,e,n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!0;return!1}function ft(t,e=ht,n=ht){let r,i=null,s=null;return{memoized:function(){if(void 0!==r)return r.result;if(!i)return s=t.apply(null,arguments),i=arguments,s;if(!dt(arguments,i,e))return s;const o=t.apply(null,arguments);return i=arguments,n(s,o)?s:(s=o,o)},reset:function(){i=null,s=null},setResult:function(t){r={result:t}},clearResult:function(){r=void 0}}}function pt(...t){return function(t,e={stateFn:gt}){return function(...n){let r=n;if(Array.isArray(r[0])){const[t,...e]=r;r=[...t,...e]}const i=r.slice(0,r.length-1),s=r[r.length-1],o=i.filter(t=>t.release&&"function"==typeof t.release),a=t(function(...t){return s.apply(null,t)}),u=ft(function(t,n){return e.stateFn.apply(null,[t,i,n,a])});return Object.assign(u.memoized,{release:function(){u.reset(),a.reset(),o.forEach(t=>t.release())},projector:a.memoized,setResult:u.setResult,clearResult:u.clearResult})}}(ft)(...t)}function gt(t,e,n,r){if(void 0===n){const n=e.map(e=>e(t));return r.memoized.apply(null,n)}const i=e.map(e=>e(t,n));return r.memoized.apply(null,[...i,n])}function mt(t){return pt(e=>{const n=e[t];return(0,r.X6Q)()&&!(t in e)&&console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},t=>t)}function yt(t){Object.freeze(t);const e=lt(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const e=t[n];(ct(e)||lt(e))&&!Object.isFrozen(e)&&yt(e)}}),t}function _t(t,e=[]){return(ot(t)||at(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;const i=t[r];return function(t){return lt(t)&&t.hasOwnProperty("\u0275cmp")}(i)?n:!(ot(i)||at(i)||function(t){return"number"==typeof t}(i)||function(t){return"boolean"==typeof t}(i)||function(t){return"string"==typeof t}(i)||ut(i))&&(function(t){if(!function(t){return ct(t)&&!ut(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(i)?_t(i,[...e,r]):{path:[...e,r],value:i})},!1)}function vt(t,e){if(!1===t)return;const n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}". ${st}#strict${e}serializability`);throw r.value=t.value,r.unserializablePath=n,r}function bt(t){return(0,r.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function wt({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function(t,e){return function(n,r){e.action(r)&&vt(_t(r),"action");const i=t(n,r);return e.state()&&vt(_t(i),"state"),i}}(n,{action:e=>t&&!Et(e),state:()=>e}):n}function Ct({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function(t,e){return function(n,r){const i=e.action(r)?yt(r):r,s=t(n,i);return e.state()?yt(s):s}}(n,{action:e=>t&&!Et(e),state:()=>e}):n}function Et(t){return t.type.startsWith("@ngrx")}function Tt({strictActionWithinNgZone:t}){return e=>t?function(t,e){return function(n,i){if(e.action(i)&&!r.R0b.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${st}#strictactionwithinngzone`);return t(n,i)}}(e,{action:e=>t&&!Et(e)}):e}function St(t){return[{provide:V,useValue:t},{provide:U,useFactory:At,deps:[V]},{provide:j,deps:[U],useFactory:bt},{provide:N,multi:!0,deps:[j],useFactory:Ct},{provide:N,multi:!0,deps:[j],useFactory:wt},{provide:N,multi:!0,deps:[j],useFactory:Tt}]}function It(){return[{provide:B,multi:!0,deps:[j],useFactory:Ot}]}function At(t){return t}function Ot(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(p).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${st}#strictactiontypeuniqueness`)}let Dt=(()=>{class t{constructor(t,e,n,r,i,s){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(v),r.LFG($),r.LFG(Q),r.LFG(nt),r.LFG(w,8),r.LFG(B,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),Pt=(()=>{class t{constructor(t,e,n,r,i){this.features=t,this.featureReducers=e,this.reducerManager=n;const s=t.map((t,n)=>{const r=e.shift()[n];return Object.assign(Object.assign({},t),{reducers:r,initialState:Rt(t.initialState)})});n.addFeatures(s)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(x),r.LFG(F),r.LFG(K),r.LFG(Dt),r.LFG(B,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),kt=(()=>{class t{static forRoot(t,e={}){return{ngModule:Dt,providers:[{provide:w,useFactory:Lt,deps:[[nt,new r.FiY,new r.tp0]]},{provide:C,useValue:e.initialState},{provide:E,useFactory:Rt,deps:[C]},{provide:A,useValue:t},{provide:D,useExisting:t instanceof r.OlP?t:A},{provide:I,deps:[r.zs3,A,[new r.tBr(D)]],useFactory:xt},{provide:R,useValue:e.metaReducers?e.metaReducers:[]},{provide:L,deps:[N,R],useFactory:Nt},{provide:S,useValue:e.reducerFactory?e.reducerFactory:q},{provide:T,deps:[S,L],useFactory:Z},b,W,Y,et,rt,St(e.runtimeChecks),It()]}}static forFeature(t,e,n={}){return{ngModule:Pt,providers:[{provide:k,multi:!0,useValue:t instanceof Object?{}:n},{provide:O,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:n instanceof r.OlP||!n.reducerFactory?q:n.reducerFactory,metaReducers:n instanceof r.OlP||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof r.OlP||!n.initialState?void 0:n.initialState}},{provide:x,deps:[r.zs3,k,O],useFactory:Mt},{provide:P,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:M,multi:!0,useExisting:e instanceof r.OlP?e:P},{provide:F,multi:!0,deps:[r.zs3,P,[new r.tBr(M)]],useFactory:Ft},It()]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function xt(t,e){return e instanceof r.OlP?t.get(e):e}function Mt(t,e,n){return n.map((n,i)=>{if(e[i]instanceof r.OlP){const r=t.get(e[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:q,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function Ft(t,e){return e.map(e=>e instanceof r.OlP?t.get(e):e)}function Rt(t){return"function"==typeof t?t():t}function Nt(t,e){return t.concat(e)}function Lt(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Ut(...t){return{reducer:t.pop(),types:t.map(t=>t.type)}}function Vt(t,...e){const n=new Map;for(const r of e)for(const t of r.types){const e=n.get(t);n.set(t,e?(t,n)=>r.reducer(e(t,n),n):r.reducer)}return function(e=t,r){const i=n.get(r.type);return i?i(e,r):e}}},2329:function(t,e,n){"use strict";n.d(e,{Mq:function(){return r.getApp},C6:function(){return r.getApps},ZF:function(){return r.initializeApp},KN:function(){return r.registerVersion}});var r=n(5452);(0,r.registerVersion)("firebase","9.2.0","app")},7841:function(t,e,n){"use strict";n.d(e,{Z:function(){return r.Z}});var r=n(4486);r.Z.registerVersion("firebase","9.2.0","app-compat")},4828:function(t,e,n){"use strict";n.r(e);var r=n(8239),i=n(4486),s=n(209),o=n(3854),a=(n(5452),n(5601),n(6034));function u(){return window}function c(){return(c=(0,r.Z)(function*(t,e,n){var r;const{BuildInfo:i}=u();(0,s.ap)(e.sessionId,"AuthEvent did not contain a session ID");const o=yield d(e.sessionId),a={};return(0,s.aq)()?a.ibi=i.packageName:(0,s.ar)()?a.apn=i.packageName:(0,s.as)(t,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,(0,s.at)(t,n,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,a)})).apply(this,arguments)}function l(){return(l=(0,r.Z)(function*(t){const{BuildInfo:e}=u(),n={};(0,s.aq)()?n.iosBundleId=e.packageName:(0,s.ar)()?n.androidPackageName=e.packageName:(0,s.as)(t,"operation-not-supported-in-this-environment"),yield(0,s.au)(t,n)})).apply(this,arguments)}function h(){return(h=(0,r.Z)(function*(t,e,n){const{cordova:r}=u();let i=()=>{};try{yield new Promise((o,a)=>{let u=null;function c(){var t;o();const e=null===(t=r.plugins.browsertab)||void 0===t?void 0:t.close;"function"==typeof e&&e(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function l(){u||(u=window.setTimeout(()=>{a((0,s.av)(t,"redirect-cancelled-by-user"))},2e3))}function h(){"visible"===(null==document?void 0:document.visibilityState)&&l()}e.addPassiveListener(c),document.addEventListener("resume",l,!1),(0,s.ar)()&&document.addEventListener("visibilitychange",h,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",h,!1),u&&window.clearTimeout(u)}})}finally{i()}})).apply(this,arguments)}function d(t){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(function*(t){const e=p(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function p(t){if((0,s.ap)(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}class g extends s.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(t=>{this.resolveInialized=t})}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInialized(),this.passiveListeners.forEach(e=>e(t)),super.onEvent(t)}initialized(){var t=this;return(0,r.Z)(function*(){yield t.initPromise})()}}function m(t){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(function*(t){const e=yield v()._get(b(t));return e&&(yield v()._remove(b(t))),e})).apply(this,arguments)}function _(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*e.length);t.push(e.charAt(n))}return t.join("")}function v(){return(0,s.ax)(s.b)}function b(t){return(0,s.ay)("authEvent",t.config.apiKey,t.name)}function w(t){if(!(null==t?void 0:t.includes("?")))return{};const[e,...n]=t.split("?");return(0,o.zd)(n.join("?"))}function C(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,s.av)("no-auth-event")}}function E(){var t;return(null===(t=null==self?void 0:self.location)||void 0===t?void 0:t.protocol)||null}function T(t=(0,o.z$)()){return!("file:"!==E()&&"ionic:"!==E()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function S(){try{const t=self.localStorage,e=s.aG();if(t)return t.setItem(e,"1"),t.removeItem(e),!function(t=(0,o.z$)()){return(0,o.w1)()&&11===(null==document?void 0:document.documentMode)||function(t=(0,o.z$)()){return/Edge\/\d+/.test(t)}(t)}()||(0,o.hl)()}catch(Y){return I()&&(0,o.hl)()}return!1}function I(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function A(){return("http:"===E()||"https:"===E()||(0,o.ru)()||T())&&!((0,o.b$)()||(0,o.UG)())&&S()&&!I()}function O(){return T()&&"undefined"!=typeof document}function D(){return(D=(0,r.Z)(function*(){return!!O()&&new Promise(t=>{const e=setTimeout(()=>{t(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})})})).apply(this,arguments)}const P={LOCAL:"local",NONE:"none",SESSION:"session"},k=s.aw,x="persistence";function M(t){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(t){yield t._initializationPromise;const e=R(),n=s.ay(x,t.config.apiKey,t.name);(null==e?void 0:e.sessionStorage)&&e.sessionStorage.setItem(n,t._getPersistence())})).apply(this,arguments)}function R(){return"undefined"!=typeof window?window:null}const N=s.aw;class L{constructor(){this.browserResolver=s.ax(s.k),this.cordovaResolver=s.ax(class{constructor(){this._redirectPersistence=s.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=s.aA}_initialize(t){var e=this;return(0,r.Z)(function*(){const n=t._key();let r=e.eventManagers.get(n);return r||(r=new g(t),e.eventManagers.set(n,r),e.attachCallbackListeners(t,r)),r})()}_openPopup(t){(0,s.as)(t,"operation-not-supported-in-this-environment")}_openRedirect(t,e,n,i){var o=this;return(0,r.Z)(function*(){!function(t){var e,n,r,i,o,a,c,l,h,d;const f=u();(0,s.aw)("function"==typeof(null===(e=null==f?void 0:f.universalLinks)||void 0===e?void 0:e.subscribe),t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,s.aw)(void 0!==(null===(n=null==f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,s.aw)("function"==typeof(null===(o=null===(i=null===(r=null==f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aw)("function"==typeof(null===(l=null===(c=null===(a=null==f?void 0:f.cordova)||void 0===a?void 0:a.plugins)||void 0===c?void 0:c.browsertab)||void 0===l?void 0:l.isAvailable),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,s.aw)("function"==typeof(null===(d=null===(h=null==f?void 0:f.cordova)||void 0===h?void 0:h.InAppBrowser)||void 0===d?void 0:d.open),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(t);const r=yield o._initialize(t);yield r.initialized(),r.resetRedirect(),(0,s.aB)(),yield o._originValidation(t);const a=function(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:_(),postBody:null,tenantId:t.tenantId,error:(0,s.av)(t,"no-auth-event")}}(t,n,i);yield function(t,e){return v()._set(b(t),e)}(t,a);const l=yield function(t,e,n){return c.apply(this,arguments)}(t,a,e),d=yield function(t){const{cordova:e}=u();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,(0,s.ao)()?"_blank":"_system","location=yes"),n(i)})})}(l);return function(t,e,n){return h.apply(this,arguments)}(t,r,d)})()}_isIframeWebStorageSupported(t,e){throw new Error("Method not implemented.")}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(t){return l.apply(this,arguments)}(t)),this.originValidationPromises[e]}attachCallbackListeners(t,e){const{universalLinks:n,handleOpenURL:i,BuildInfo:o}=u(),a=setTimeout((0,r.Z)(function*(){yield m(t),e.onEvent(C())}),500),c=function(){var n=(0,r.Z)(function*(n){clearTimeout(a);const r=yield m(t);let i=null;r&&(null==n?void 0:n.url)&&(i=function(t,e){var n,r;const i=function(t){const e=w(t),n=e.link?decodeURIComponent(e.link):void 0,r=w(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return w(i).link||i||r||n||t}(e);if(i.includes("/__/auth/callback")){const o=w(i),a=o.firebaseError?function(t){try{return JSON.parse(t)}catch(e){return null}}(decodeURIComponent(o.firebaseError)):null,u=null===(r=null===(n=null==a?void 0:a.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],c=u?(0,s.av)(u):null;return c?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),e.onEvent(i||C())});return function(t){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,c);const l=i,h=`${o.packageName.toLowerCase()}://`;u().handleOpenURL=function(){var t=(0,r.Z)(function*(t){if(t.toLowerCase().startsWith(h)&&c({url:t}),"function"==typeof l)try{l(t)}catch(e){console.error(e)}});return function(e){return t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=s.a,this._completeRedirectFn=s.aA}_initialize(t){var e=this;return(0,r.Z)(function*(){return yield e.selectUnderlyingResolver(),e.assertedUnderlyingResolver._initialize(t)})()}_openPopup(t,e,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(t,e,n,i)})()}_openRedirect(t,e,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(t,e,n,i)})()}_isIframeWebStorageSupported(t,e){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,e)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return O()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return N(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var t=this;return(0,r.Z)(function*(){if(t.underlyingResolver)return;const e=yield function(){return D.apply(this,arguments)}();t.underlyingResolver=e?t.cordovaResolver:t.browserResolver})()}}function U(t){return t.unwrap()}function V(t){return j(t)}function j(t){const{_tokenResponse:e}=t instanceof o.ZR?t.customData:t;if(!e)return null;if(!(t instanceof o.ZR)&&"temporaryProof"in e&&"phoneNumber"in e)return s.P.credentialFromResult(t);const n=e.providerId;if(!n||n===s.o.PASSWORD)return null;let r;switch(n){case s.o.GOOGLE:r=s.N;break;case s.o.FACEBOOK:r=s.M;break;case s.o.GITHUB:r=s.Q;break;case s.o.TWITTER:r=s.V;break;default:const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:u}=e;return i||o||t||a?a?n.startsWith("saml.")?s.aJ._create(n,a):s.I._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:t,accessToken:i}):new s.T(n).credential({idToken:t,accessToken:i,rawNonce:u}):null}return t instanceof o.ZR?r.credentialFromError(t):r.credentialFromResult(t)}function B(t,e){return e.catch(e=>{throw e instanceof o.ZR&&function(t,e){var n;const r=null===(n=e.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===e.code)e.resolver=new Z(t,s.am(t,e));else if(r){const t=j(e),n=e;t&&(n.credential=t,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(t,e),e}).then(t=>{const e=t.user;return{operationType:t.operationType,credential:V(t),additionalUserInfo:s.ak(t),user:$.getOrCreate(e)}})}function q(t,e){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)(function*(t,e){const n=yield e;return{verificationId:n.verificationId,confirm:e=>B(t,n.confirm(e))}})).apply(this,arguments)}class Z{constructor(t,e){this.resolver=e,this.auth=t.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return B(U(this.auth),this.resolver.resolveSignIn(t))}}class ${constructor(t){this._delegate=t,this.multiFactor=s.an(t)}static getOrCreate(t){return $.USER_MAP.has(t)||$.USER_MAP.set(t,new $(t)),$.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}linkWithCredential(t){var e=this;return(0,r.Z)(function*(){return B(e.auth,s.Y(e._delegate,t))})()}linkWithPhoneNumber(t,e){var n=this;return(0,r.Z)(function*(){return q(n.auth,s.l(n._delegate,t,e))})()}linkWithPopup(t){var e=this;return(0,r.Z)(function*(){return B(e.auth,s.d(e._delegate,t,L))})()}linkWithRedirect(t){var e=this;return(0,r.Z)(function*(){return yield M(s.aC(e.auth)),s.g(e._delegate,t,L)})()}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}reauthenticateWithCredential(t){var e=this;return(0,r.Z)(function*(){return B(e.auth,s.Z(e._delegate,t))})()}reauthenticateWithPhoneNumber(t,e){return q(this.auth,s.r(this._delegate,t,e))}reauthenticateWithPopup(t){return B(this.auth,s.e(this._delegate,t,L))}reauthenticateWithRedirect(t){var e=this;return(0,r.Z)(function*(){return yield M(s.aC(e.auth)),s.h(e._delegate,t,L)})()}sendEmailVerification(t){return s.aa(this._delegate,t)}unlink(t){var e=this;return(0,r.Z)(function*(){return yield s.aj(e._delegate,t),e})()}updateEmail(t){return s.af(this._delegate,t)}updatePassword(t){return s.ag(this._delegate,t)}updatePhoneNumber(t){return s.u(this._delegate,t)}updateProfile(t){return s.ae(this._delegate,t)}verifyBeforeUpdateEmail(t,e){return s.ab(this._delegate,t,e)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$.USER_MAP=new WeakMap;const H=s.aw;let G=(()=>{class t{constructor(t,e){if(this.app=t,e.isInitialized())return this._delegate=e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=t.options;H(n,"invalid-api-key",{appName:t.name});let r=[s.K];if("undefined"!=typeof window){r=function(t,e){const n=R();if(!(null==n?void 0:n.sessionStorage))return[];const r=s.ay(x,t,e);switch(n.sessionStorage.getItem(r)){case P.NONE:return[s.K];case P.LOCAL:return[s.i,s.a];case P.SESSION:return[s.a];default:return[]}}(n,t.name);for(const t of[s.i,s.b,s.a])r.includes(t)||r.push(t)}H(n,"invalid-api-key",{appName:t.name});const i="undefined"!=typeof window?L:void 0;this._delegate=e.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(s.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,e){s.E(this._delegate,t,e)}applyActionCode(t){return s.a1(this._delegate,t)}checkActionCode(t){return s.a2(this._delegate,t)}confirmPasswordReset(t,e){return s.a0(this._delegate,t,e)}createUserWithEmailAndPassword(t,e){var n=this;return(0,r.Z)(function*(){return B(n._delegate,s.a4(n._delegate,t,e))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return s.a9(this._delegate,t)}isSignInWithEmailLink(t){return s.a7(this._delegate,t)}getRedirectResult(){var t=this;return(0,r.Z)(function*(){H(A(),t._delegate,"operation-not-supported-in-this-environment");const e=yield s.j(t._delegate,L);return e?B(t._delegate,Promise.resolve(e)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function(t,e){(0,s.aC)(t)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,e,n){const{next:r,error:i,complete:s}=K(t,e,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(t,e,n){const{next:r,error:i,complete:s}=K(t,e,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(t,e){return s.a6(this._delegate,t,e)}sendPasswordResetEmail(t,e){return s.$(this._delegate,t,e||void 0)}setPersistence(t){var e=this;return(0,r.Z)(function*(){let n;switch(function(t,e){k(Object.values(P).includes(e),t,"invalid-persistence-type"),(0,o.b$)()?k(e!==P.SESSION,t,"unsupported-persistence-type"):(0,o.UG)()?k(e===P.NONE,t,"unsupported-persistence-type"):I()?k(e===P.NONE||e===P.LOCAL&&(0,o.hl)(),t,"unsupported-persistence-type"):k(e===P.NONE||S(),t,"unsupported-persistence-type")}(e._delegate,t),t){case P.SESSION:n=s.a;break;case P.LOCAL:n=(yield s.ax(s.i)._isAvailable())?s.i:s.b;break;case P.NONE:n=s.K;break;default:return s.as("argument-error",{appName:e._delegate.name})}return e._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return B(this._delegate,s.W(this._delegate))}signInWithCredential(t){return B(this._delegate,s.X(this._delegate,t))}signInWithCustomToken(t){return B(this._delegate,s._(this._delegate,t))}signInWithEmailAndPassword(t,e){return B(this._delegate,s.a5(this._delegate,t,e))}signInWithEmailLink(t,e){return B(this._delegate,s.a8(this._delegate,t,e))}signInWithPhoneNumber(t,e){return q(this._delegate,s.s(this._delegate,t,e))}signInWithPopup(t){var e=this;return(0,r.Z)(function*(){return H(A(),e._delegate,"operation-not-supported-in-this-environment"),B(e._delegate,s.c(e._delegate,t,L))})()}signInWithRedirect(t){var e=this;return(0,r.Z)(function*(){return H(A(),e._delegate,"operation-not-supported-in-this-environment"),yield M(e._delegate),s.f(e._delegate,t,L)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return s.a3(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=P,t})();function K(t,e,n){let r=t;"function"!=typeof t&&({next:r,error:e,complete:n}=t);const i=r;return{next:t=>i(t&&$.getOrCreate(t)),error:e,complete:n}}class W{constructor(){this.providerId="phone",this._delegate=new s.P(U(i.Z.auth()))}static credential(t,e){return s.P.credential(t,e)}verifyPhoneNumber(t,e){return this._delegate.verifyPhoneNumber(t,e)}unwrap(){return this._delegate}}W.PHONE_SIGN_IN_METHOD=s.P.PHONE_SIGN_IN_METHOD,W.PROVIDER_ID=s.P.PROVIDER_ID;const Q=s.aw;var Y;(Y=i.Z).INTERNAL.registerComponent(new a.wA("auth-compat",t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("auth");return new G(e,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:s.A.EMAIL_SIGNIN,PASSWORD_RESET:s.A.PASSWORD_RESET,RECOVER_EMAIL:s.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:s.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:s.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:s.A.VERIFY_EMAIL}},EmailAuthProvider:s.L,FacebookAuthProvider:s.M,GithubAuthProvider:s.Q,GoogleAuthProvider:s.N,OAuthProvider:s.T,PhoneAuthProvider:W,PhoneMultiFactorGenerator:s.m,RecaptchaVerifier:class{constructor(t,e,n=i.Z.app()){var r;Q(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new s.R(t,e,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:s.V,Auth:G,AuthCredential:s.G,Error:o.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Y.registerVersion("@firebase/auth-compat","0.2.0")},6676:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,s=new Promise(function(s,o){n(i=t[e].apply(t,r)).then(s,o)});return s.request=i,s}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new l(t,i.request)})}function s(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function o(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function a(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function u(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}s(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,s=i[t].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),s=i.request;return s&&(s.onupgradeneeded=function(t){n&&n(new f(s.result,t.oldVersion,s.transaction))}),i.then(function(t){return new p(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},9344:function(t,e,n){"use strict";n.d(e,{Rh:function(){return F},_W:function(){return k}});var r=n(7716),i=n(7238),s=n(9765),o=n(9075),a=n(8583);const u=["toast-component",""];function c(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){return r.CHM(t),r.oxw().remove()}),r.TgZ(1,"span",6),r._uU(2,"\xd7"),r.qZA(),r.qZA()}}function l(t,e){if(1&t&&(r.ynx(0),r._uU(1),r.BQk()),2&t){const t=r.oxw(2);r.xp6(1),r.hij("[",t.duplicatesCount+1,"]")}}function h(t,e){if(1&t&&(r.TgZ(0,"div"),r._uU(1),r.YNc(2,l,2,1,"ng-container",4),r.qZA()),2&t){const t=r.oxw();r.Tol(t.options.titleClass),r.uIk("aria-label",t.title),r.xp6(1),r.hij(" ",t.title," "),r.xp6(1),r.Q6J("ngIf",t.duplicatesCount)}}function d(t,e){if(1&t&&r._UZ(0,"div",7),2&t){const t=r.oxw();r.Tol(t.options.messageClass),r.Q6J("innerHTML",t.message,r.oJD)}}function f(t,e){if(1&t&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.Tol(t.options.messageClass),r.uIk("aria-label",t.message),r.xp6(1),r.hij(" ",t.message," ")}}function p(t,e){if(1&t&&(r.TgZ(0,"div"),r._UZ(1,"div",9),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Udp("width",t.width+"%")}}function g(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){return r.CHM(t),r.oxw().remove()}),r.TgZ(1,"span",6),r._uU(2,"\xd7"),r.qZA(),r.qZA()}}function m(t,e){if(1&t&&(r.ynx(0),r._uU(1),r.BQk()),2&t){const t=r.oxw(2);r.xp6(1),r.hij("[",t.duplicatesCount+1,"]")}}function y(t,e){if(1&t&&(r.TgZ(0,"div"),r._uU(1),r.YNc(2,m,2,1,"ng-container",4),r.qZA()),2&t){const t=r.oxw();r.Tol(t.options.titleClass),r.uIk("aria-label",t.title),r.xp6(1),r.hij(" ",t.title," "),r.xp6(1),r.Q6J("ngIf",t.duplicatesCount)}}function _(t,e){if(1&t&&r._UZ(0,"div",7),2&t){const t=r.oxw();r.Tol(t.options.messageClass),r.Q6J("innerHTML",t.message,r.oJD)}}function v(t,e){if(1&t&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.Tol(t.options.messageClass),r.uIk("aria-label",t.message),r.xp6(1),r.hij(" ",t.message," ")}}function b(t,e){if(1&t&&(r.TgZ(0,"div"),r._UZ(1,"div",9),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Udp("width",t.width+"%")}}class w{constructor(t,e,n,r,i,o){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=o,this._onTap=new s.xQ,this._onAction=new s.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const C={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},E=new r.OlP("ToastConfig");class T{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class S extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let I=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a.K0))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(a.K0))},token:t,providedIn:"root"}),t})();class A{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let O=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new S(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new A(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(I),r.LFG(r._Vd),r.LFG(r.z2F),r.LFG(a.K0))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(I),r.LFG(r._Vd),r.LFG(r.z2F),r.LFG(a.K0))},token:t,providedIn:"root"}),t})();class D{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new s.xQ,this._activate=new s.xQ,this._manualClose=new s.xQ,this._resetTimeout=new s.xQ,this._countDuplicate=new s.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class P{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===w?this._toastPackage:this._parentInjector.get(t,e,n)}}let k=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e||(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const s of this.toasts){const o=i&&s.title===t;if((!i||o)&&s.message===e)return s.toastRef.onDuplicate(n,r),s}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=e;e&&i.enableHtml&&(u=this.sanitizer.sanitize(r.q3G.HTML,e));const c=new D(a),l=new w(this.index,i,u,n,t,c),h=new P(l,this._injector),d=new T(i.toastComponent,h),f=a.attach(d,this.toastrConfig.newestOnTop);c.componentInstance=f.instance;const p={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:f};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(E),r.LFG(O),r.LFG(r.zs3),r.LFG(o.H7),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(E),r.LFG(O),r.LFG(r.gxx),r.LFG(o.H7),r.LFG(r.R0b))},token:t,providedIn:"root"}),t})(),x=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(k),r.Y36(w),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.d8E("@flyInOut",e.state),r.Tol(e.toastClasses),r.Udp("display",e.displayStyle))},attrs:u,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.YNc(0,c,3,0,"button",0),r.YNc(1,h,3,5,"div",1),r.YNc(2,d,1,3,"div",2),r.YNc(3,f,2,4,"div",3),r.YNc(4,p,2,2,"div",4)),2&t&&(r.Q6J("ngIf",e.options.closeButton),r.xp6(1),r.Q6J("ngIf",e.title),r.xp6(1),r.Q6J("ngIf",e.message&&e.options.enableHtml),r.xp6(1),r.Q6J("ngIf",e.message&&!e.options.enableHtml),r.xp6(1),r.Q6J("ngIf",e.options.progressBar))},directives:[a.O5],encapsulation:2,data:{animation:[(0,i.X$)("flyInOut",[(0,i.SB)("inactive",(0,i.oB)({opacity:0})),(0,i.SB)("active",(0,i.oB)({opacity:1})),(0,i.SB)("removed",(0,i.oB)({opacity:0})),(0,i.eR)("inactive => active",(0,i.jt)("{{ easeTime }}ms {{ easing }}")),(0,i.eR)("active => removed",(0,i.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const M=Object.assign(Object.assign({},C),{toastComponent:x});let F=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:E,useValue:{default:M,config:e}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[a.ez]]}),t})(),R=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(k),r.Y36(w),r.Y36(r.z2F))},t.\u0275cmp=r.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.Tol(e.toastClasses),r.Udp("display",e.displayStyle))},attrs:u,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.YNc(0,g,3,0,"button",0),r.YNc(1,y,3,5,"div",1),r.YNc(2,_,1,3,"div",2),r.YNc(3,v,2,4,"div",3),r.YNc(4,b,2,2,"div",4)),2&t&&(r.Q6J("ngIf",e.options.closeButton),r.xp6(1),r.Q6J("ngIf",e.title),r.xp6(1),r.Q6J("ngIf",e.message&&e.options.enableHtml),r.xp6(1),r.Q6J("ngIf",e.message&&!e.options.enableHtml),r.xp6(1),r.Q6J("ngIf",e.options.progressBar))},directives:[a.O5],encapsulation:2}),t})();Object.assign(Object.assign({},C),{toastComponent:R})},6215:function(t,e,n){"use strict";n.d(e,{X:function(){return s}});var r=n(9765),i=n(7971);class s extends r.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.N;return this._value}next(t){super.next(this._value=t)}}},3098:function(t,e,n){"use strict";n.d(e,{P:function(){return o}});var r=n(9193),i=n(5917),s=n(205);class o{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new o("N",t):o.undefinedValueNotification}static createError(t){return new o("E",void 0,t)}static createComplete(){return o.completeNotification}}o.completeNotification=new o("C"),o.undefinedValueNotification=new o("N",void 0)},8891:function(t,e,n){"use strict";n.d(e,{y:function(){return c}});var r=n(7393),i=n(9181),s=n(6490),o=n(6554),a=n(4022),u=n(2494);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(s.c)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.L](){return this}pipe(...t){return 0===t.length?this:(0,a.U)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},6490:function(t,e,n){"use strict";n.d(e,{c:function(){return s}});var r=n(2494),i=n(4449);const s={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},5197:function(t,e,n){"use strict";n.d(e,{L:function(){return i}});var r=n(7393);class i extends r.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},8229:function(t,e,n){"use strict";n.d(e,{t:function(){return c}});var r=n(9765),i=n(7771),s=n(5319),o=n(9746),a=n(7971),u=n(8858);class c extends r.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let c;if(this.closed)throw new a.N;if(this.isStopped||this.hasError?c=s.w.EMPTY:(this.observers.push(t),c=new u.W(this,t)),r&&t.add(t=new o.ht(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),c}_getNow(){return(this.scheduler||i.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class l{constructor(t,e){this.time=t,this.value=e}}},9765:function(t,e,n){"use strict";n.d(e,{Yc:function(){return c},xQ:function(){return l}});var r=n(8891),i=n(7393),s=n(5319),o=n(7971),a=n(8858),u=n(9181);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.N;return this.hasError?(t.error(this.thrownError),s.w.EMPTY):this.isStopped?(t.complete(),s.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.w.EMPTY}}},8858:function(t,e,n){"use strict";n.d(e,{W:function(){return i}});var r=n(5319);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},7393:function(t,e,n){"use strict";n.d(e,{L:function(){return c}});var r=n(9105),i=n(6490),s=n(5319),o=n(9181),a=n(2494),u=n(4449);class c extends s.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){super(),this._parentSubscriber=t;let o,a=this;(0,r.m)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},5319:function(t,e,n){"use strict";n.d(e,{w:function(){return a}});var r=n(9796),i=n(1555),s=n(9105);const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class a{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof a)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if((0,s.m)(u)){n&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){t=h instanceof o?c(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(d){t=t||[],d instanceof o?t=t.concat(c(d.errors)):t.push(d)}}}if(t)throw new o(t)}add(t){let e=t;if(!t)return a.EMPTY;switch(typeof t){case"function":e=new a(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof a)){const t=e;e=new a,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof a){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var u;function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}a.EMPTY=((u=new a).closed=!0,u)},2494:function(t,e,n){"use strict";n.d(e,{v:function(){return i}});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:function(t,e,n){"use strict";n.d(e,{IY:function(){return o},Ds:function(){return a},ft:function(){return u}});var r=n(7393),i=n(8891),s=n(7444);class o extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,s.s)(t)(e)}catch(r){e.error(r)}return n}},2441:function(t,e,n){"use strict";n.d(e,{c:function(){return a},N:function(){return u}});var r=n(9765),i=n(8891),s=n(5319),o=n(1307);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.w.EMPTY)),t}refCount(){return(0,o.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},9112:function(t,e,n){"use strict";n.d(e,{aj:function(){return c}});var r=n(4869),i=n(9796),s=n(5197),o=n(509),a=n(6693);const u={};function c(...t){let e,n;return(0,r.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,i.k)(t[0])&&(t=t[0]),(0,a.n)(t,n).lift(new l(e))}class l{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends s.L{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(u),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add((0,o.D)(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===u?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},8071:function(t,e,n){"use strict";n.d(e,{z:function(){return s}});var r=n(5917),i=n(3282);function s(...t){return(0,i.J)(1)((0,r.of)(...t))}},9193:function(t,e,n){"use strict";n.d(e,{E:function(){return i},c:function(){return s}});var r=n(8891);const i=new r.y(t=>t.complete());function s(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},4402:function(t,e,n){"use strict";n.d(e,{D:function(){return h}});var r=n(8891),i=n(7444),s=n(5319),o=n(6554),a=n(4087),u=n(377),c=n(4072),l=n(9489);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.L]}(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>{const i=t[o.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},6693:function(t,e,n){"use strict";n.d(e,{n:function(){return o}});var r=n(8891),i=n(5015),s=n(4087);function o(t,e){return e?(0,s.r)(t,e):new r.y((0,i.V)(t))}},6682:function(t,e,n){"use strict";n.d(e,{T:function(){return a}});var r=n(8891),i=n(4869),s=n(3282),o=n(6693);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,s.J)(e)((0,o.n)(t,n))}},5917:function(t,e,n){"use strict";n.d(e,{of:function(){return o}});var r=n(4869),i=n(6693),s=n(4087);function o(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,s.r)(t,e)):(0,i.n)(t)}},205:function(t,e,n){"use strict";n.d(e,{_:function(){return i}});var r=n(8891);function i(t,e){return new r.y(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},5304:function(t,e,n){"use strict";n.d(e,{K:function(){return i}});var r=n(5345);function i(t){return function(e){const n=new s(t),r=e.lift(n);return n.caught=r}}class s{constructor(t){this.selector=t}call(t,e){return e.subscribe(new o(t,this.selector,this.caught))}}class o extends r.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new r.IY(this);this.add(i);const s=(0,r.ft)(n,i);s!==i&&this.add(s)}}}},4612:function(t,e,n){"use strict";n.d(e,{b:function(){return i}});var r=n(9773);function i(t,e){return(0,r.zg)(t,e,1)}},4395:function(t,e,n){"use strict";n.d(e,{b:function(){return s}});var r=n(7393),i=n(3637);function s(t,e=i.P){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}class a extends r.L{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function u(t){t.debouncedNext()}},5242:function(t,e,n){"use strict";n.d(e,{d:function(){return i}});var r=n(7393);function i(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends r.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:function(t,e,n){"use strict";n.d(e,{x:function(){return i}});var r=n(7393);function i(t,e){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new o(t,this.compare,this.keySelector))}}class o extends r.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},5435:function(t,e,n){"use strict";n.d(e,{h:function(){return i}});var r=n(7393);function i(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends r.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},8049:function(t,e,n){"use strict";n.d(e,{P:function(){return c}});var r=n(3410),i=n(5435),s=n(5257),o=n(5242),a=n(4635),u=n(4487);function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?(0,i.h)((e,n)=>t(e,n,c)):u.y,(0,s.q)(1),n?(0,o.d)(e):(0,a.T)(()=>new r.K))}},8002:function(t,e,n){"use strict";n.d(e,{U:function(){return i}});var r=n(7393);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},3282:function(t,e,n){"use strict";n.d(e,{J:function(){return s}});var r=n(9773),i=n(4487);function s(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},9773:function(t,e,n){"use strict";n.d(e,{zg:function(){return o}});var r=n(8002),i=n(4402),s=n(5345);function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>(0,i.D)(t(n,s)).pipe((0,r.U)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.IY(this),n=this.destination;n.add(e);const r=(0,s.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:function(t,e,n){"use strict";n.d(e,{QV:function(){return s},ht:function(){return a}});var r=n(7393),i=n(3098);function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.P.createNext(t))}_error(t){this.scheduleMessage(i.P.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},2996:function(t,e,n){"use strict";n.d(e,{j:function(){return i}});var r=n(8002);function i(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>(0,r.U)(function(t,e){return n=>{let r=n;for(let i=0;i<e;i++){const e=null!=r?r[t[i]]:void 0;if(void 0===e)return;r=e}return r}}(t,e))(n)}},1307:function(t,e,n){"use strict";n.d(e,{x:function(){return i}});var r=n(7393);function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}},2145:function(t,e,n){"use strict";n.d(e,{R:function(){return i}});var r=n(7393);function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends r.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},8819:function(t,e,n){"use strict";n.d(e,{B:function(){return a}});var r=n(2441);var i=n(1307),s=n(9765);function o(){return new s.xQ}function a(){return t=>(0,i.x)()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,r.N);return i.source=e,i.subjectFactory=n,i}}(o)(t))}},3653:function(t,e,n){"use strict";n.d(e,{T:function(){return i}});var r=n(7393);function i(t){return e=>e.lift(new s(t))}class s{constructor(t){this.total=t}call(t,e){return e.subscribe(new o(t,this.total))}}class o extends r.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}},9761:function(t,e,n){"use strict";n.d(e,{O:function(){return s}});var r=n(8071),i=n(4869);function s(...t){const e=t[t.length-1];return(0,i.K)(e)?(t.pop(),n=>(0,r.z)(t,n,e)):e=>(0,r.z)(t,e)}},3101:function(t,e,n){"use strict";n.d(e,{R:function(){return p}});var r=n(8891);let i=1;const s=Promise.resolve(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(6465),l=n(6102);const h=new class extends l.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}});var d=n(9796);class f extends r.y{constructor(t,e=0,n=h){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(!(0,d.k)(r=e)&&r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),(!n||"function"!=typeof n.schedule)&&(this.scheduler=h)}static create(t,e=0,n=h){return new f(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function p(t,e=0){return function(n){return n.lift(new g(t,e))}}class g{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new f(e,this.delay,this.scheduler).subscribe(t)}}},3190:function(t,e,n){"use strict";n.d(e,{w:function(){return o}});var r=n(8002),i=n(4402),s=n(5345);function o(t,e){return"function"==typeof e?n=>n.pipe(o((n,s)=>(0,i.D)(t(n,s)).pipe((0,r.U)((t,r)=>e(n,t,s,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends s.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new s.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,s.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},5257:function(t,e,n){"use strict";n.d(e,{q:function(){return o}});var r=n(7393),i=n(7108),s=n(9193);function o(t){return e=>0===t?(0,s.c)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.W}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},548:function(t,e,n){"use strict";n.d(e,{h:function(){return o}});var r=n(7393),i=n(7108),s=n(9193);function o(t){return function(e){return 0===t?(0,s.c)():e.lift(new a(t))}}class a{constructor(t){if(this.total=t,this.total<0)throw new i.W}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}},6782:function(t,e,n){"use strict";n.d(e,{R:function(){return i}});var r=n(5345);function i(t){return e=>e.lift(new s(t))}class s{constructor(t){this.notifier=t}call(t,e){const n=new o(t),i=(0,r.ft)(this.notifier,new r.IY(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class o extends r.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},3342:function(t,e,n){"use strict";n.d(e,{b:function(){return o}});var r=n(7393);function i(){}var s=n(9105);function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},4635:function(t,e,n){"use strict";n.d(e,{T:function(){return s}});var r=n(3410),i=n(7393);function s(t=u){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.K}},2965:function(t,e,n){"use strict";n.d(e,{V:function(){return c}});var r=n(3637);const i=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})();var s=n(5345);class o{constructor(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}call(t,e){return e.subscribe(new a(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class a extends s.Ds{constructor(t,e,n,r,i){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=r,this.scheduler=i,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add((0,s.ft)(e,new s.IY(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(a.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var u=n(205);function c(t,e=r.P){return function(t,e,n=r.P){return r=>{let i=function(t){return t instanceof Date&&!isNaN(+t)}(t),s=i?+t-n.now():Math.abs(t);return r.lift(new o(s,i,e,n))}}(t,(0,u._)(new i),e)}},7057:function(t,e,n){"use strict";n.d(e,{M:function(){return s}});var r=n(5197),i=n(509);function s(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new o(t,n))}}class o{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new a(t,this.observables,this.project))}}class a extends r.L{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let s=0;s<r;s++)this.add((0,i.D)(this,e[s],void 0,s))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},4087:function(t,e,n){"use strict";n.d(e,{r:function(){return s}});var r=n(8891),i=n(5319);function s(t,e){return new r.y(n=>{const r=new i.w;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:function(t,e,n){"use strict";n.d(e,{o:function(){return s}});var r=n(5319);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},6102:function(t,e,n){"use strict";n.d(e,{v:function(){return i}});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},3637:function(t,e,n){"use strict";n.d(e,{z:function(){return i},P:function(){return s}});var r=n(6465);const i=new(n(6102).v)(r.o),s=i},7771:function(t,e,n){"use strict";n.d(e,{c:function(){return o},N:function(){return s}});var r=n(6465),i=n(6102);const s=new class extends i.v{}(class extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),o=s},377:function(t,e,n){"use strict";n.d(e,{hZ:function(){return r}});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:function(t,e,n){"use strict";n.d(e,{L:function(){return r}});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:function(t,e,n){"use strict";n.d(e,{b:function(){return r}});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:function(t,e,n){"use strict";n.d(e,{W:function(){return r}});const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},3410:function(t,e,n){"use strict";n.d(e,{K:function(){return r}});const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},7971:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4449:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:function(){return r}})},4487:function(t,e,n){"use strict";function r(t){return t}n.d(e,{y:function(){return r}})},9796:function(t,e,n){"use strict";n.d(e,{k:function(){return r}});const r=Array.isArray||(t=>t&&"number"==typeof t.length)},9489:function(t,e,n){"use strict";n.d(e,{z:function(){return r}});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},9105:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,{m:function(){return r}})},1555:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:function(){return r}})},4072:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:function(){return r}})},4869:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:function(){return r}})},4022:function(t,e,n){"use strict";n.d(e,{z:function(){return i},U:function(){return s}});var r=n(4487);function i(...t){return s(t)}function s(t){return 0===t.length?r.y:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},7444:function(t,e,n){"use strict";n.d(e,{s:function(){return l}});var r=n(5015),i=n(4449),s=n(377),o=n(6554),a=n(9489),u=n(4072),c=n(1555);const l=t=>{if(t&&"function"==typeof t[o.L])return(t=>e=>{const n=t[o.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e))(t);if(t&&"function"==typeof t[s.hZ])return(t=>e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const e=`You provided ${(0,c.K)(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}}},5015:function(t,e,n){"use strict";n.d(e,{V:function(){return r}});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},509:function(t,e,n){"use strict";n.d(e,{D:function(){return a}});var r=n(7393);class i extends r.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var s=n(7444),o=n(8891);function a(t,e,n,r,a=new i(t,n,r)){if(!a.closed)return e instanceof o.y?e.subscribe(a):(0,s.s)(e)(a)}},8379:function(t,e,n){"use strict";n.d(e,{mQ:function(){return s},r4:function(){return o},MU:function(){return a},W0:function(){return u}});var r=n(6710),i=(()=>{return(t=i||(i={})).LOAD_USER="[auth] load user",t.CREATE_USER="[auth] createz user",t.CREATE_USER_SUCCESS="[auth] createz user success",t.CREATE_USER_FAILURE="[auth] createz user failure",i;var t})();const s=(0,r.PH)(i.LOAD_USER,(0,r.Ky)()),o=(0,r.PH)(i.CREATE_USER,(0,r.Ky)()),a=(0,r.PH)(i.CREATE_USER_SUCCESS),u=(0,r.PH)(i.CREATE_USER_FAILURE)},7556:function(t,e,n){"use strict";n.d(e,{e:function(){return p}});var r=n(8002),i=n(3342),s=n(5304),o=n(4402),a=n(9193),u=n(7841),c=n(8379),l=n(7716),h=n(6710),d=n(9344),f=n(2673);let p=(()=>{class t{constructor(t,e,n){this.authStore=t,this.toastr=e,this.firebaseAuth=n}initUserStateListener(){return(0,o.D)(this.firebaseAuth.authState)}isUserAuth(){return this.initUserStateListener().pipe((0,r.U)(t=>!!t))}createUser(t,e,n){return(0,o.D)(this.firebaseAuth.createUserWithEmailAndPassword(t,e)).pipe((0,i.b)(t=>{var e,r,i;null===(e=null==t?void 0:t.user)||void 0===e||e.updateProfile({displayName:n});const s={uid:null===(r=null==t?void 0:t.user)||void 0===r?void 0:r.uid,email:null===(i=null==t?void 0:t.user)||void 0===i?void 0:i.email,name:n};this.authStore.dispatch(c.r4({user:s}))}),(0,s.K)(t=>(this.toastr.error(t.message.replace("Firebase:",""),"Error"),a.E)))}login(t,e){return(0,o.D)(this.firebaseAuth.signInWithEmailAndPassword(t,e)).pipe((0,s.K)(t=>(this.toastr.error(t.message.replace("Firebase:",""),"Error"),a.E)))}logout(){return(0,o.D)(this.firebaseAuth.signOut())}googleSignIn(){const t=new u.Z.auth.GoogleAuthProvider;return(0,o.D)(this.firebaseAuth.signInWithPopup(t)).pipe((0,s.K)(t=>(this.toastr.error(t.message.replace("Firebase:",""),"Error"),a.E)))}facebookSignIn(){const t=new u.Z.auth.FacebookAuthProvider;return(0,o.D)(this.firebaseAuth.signInWithPopup(t)).pipe((0,s.K)(t=>(this.toastr.error(t.message.replace("Firebase:",""),"Error"),a.E)))}getCurrentUser(){return(0,o.D)(this.firebaseAuth.currentUser)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(h.yh),l.LFG(d._W),l.LFG(f.zQ))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})()},9531:function(t,e,n){"use strict";n.d(e,{s:function(){return l}});var r=n(5917),i=n(9112),s=n(3190),o=n(8002),a=n(7716),u=n(9781);const c=["sizes","sauce","cheese","toppings","drinks","salads","appetizer","desserts"];let l=(()=>{class t{constructor(t){this.firestore=t}getPizzasList(){return this.firestore.collection("pizzas").valueChanges().pipe((0,s.w)(t=>(0,r.of)(t)))}getProductsCatalog(){const t=c.map(t=>this.firestore.collection("catalog").doc("product").collection(t).valueChanges());return(0,i.aj)(t).pipe((0,o.U)(([t,e,n,r,i,s,o,a])=>({sizes:t,sauce:e,cheese:n,toppings:r,drinks:i,salads:s,appetizers:o,desserts:a})))}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(u.ST))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},3071:function(t,e,n){"use strict";n.d(e,{K:function(){return a}});var r=n(4402),i=n(8002),s=n(7716),o=n(9781);let a=(()=>{class t{constructor(t){this.firestore=t}createUser(t){return(0,r.D)(this.firestore.doc(`${t.uid}/user`).set(t))}saveShoppingCard(t,e){const n={products:e};return(0,r.D)(this.firestore.doc(`${t}/shoppingCard`).set(n))}getShoppingCard(t){return this.firestore.doc(`${t}/shoppingCard`).get().pipe((0,i.U)(t=>{var e;return null===(e=t.data())||void 0===e?void 0:e.products}))}saveUserAddress(t,e){const n={addresses:e};return(0,r.D)(this.firestore.doc(`${t}/addresses`).set(n))}getAddressList(t){return this.firestore.doc(`${t}/addresses`).get().pipe((0,i.U)(t=>{var e;return null===(e=t.data())||void 0===e?void 0:e.addresses}))}saveUserCreditCards(t,e){const n={creditCards:e};return(0,r.D)(this.firestore.doc(`${t}/creditCards`).set(n))}getCreditCardList(t){return this.firestore.doc(`${t}/creditCards`).get().pipe((0,i.U)(t=>{var e;return null===(e=t.data())||void 0===e?void 0:e.creditCards}))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(o.ST))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})()},4466:function(t,e,n){"use strict";n.d(e,{m:function(){return o}});var r=n(8583),i=(n(532),n(3998),n(7914),n(6069),n(5616),n(7656),n(5562),n(7269),n(665)),s=n(7716);let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.ez,i.u5,i.UX]]}),t})()},7269:function(t,e,n){"use strict";n.d(e,{sj:function(){return h},zc:function(){return d},ZP:function(){return p}});var r=n(7716),i=n(8583),s=n(5616);function o(t,e){if(1&t&&r._UZ(0,"img",11),2&t){const t=r.oxw(2);r.MGl("src","assets/images/",t.creditCardBrand,".svg",r.LSH)}}function a(t,e){if(1&t&&(r.TgZ(0,"div",7),r.YNc(1,o,1,1,"img",8),r.TgZ(2,"h4",9),r._uU(3),r.qZA(),r.TgZ(4,"p",10),r._uU(5),r.qZA(),r.TgZ(6,"p",10),r._uU(7),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("ngIf","credit"===t.type),r.xp6(2),r.Oqu(t.title),r.xp6(2),r.Oqu(t.content1),r.xp6(2),r.Oqu(t.content2)}}const u=function(t){return{"txt-yellow":t}};function c(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"li",12),r.NdJ("click",function(e){return r.CHM(t),r.oxw().onDefaultClick.emit(e)}),r.qZA()}if(2&t){const t=r.oxw();r.Q6J("ngClass",r.VKq(1,u,t.isDefault))}}const l=function(t){return{"txt-gray-6":t}};var h=(()=>{return(t=h||(h={})).Address="address",t.Credit="credit",h;var t})(),d=(()=>{return(t=d||(d={})).NEW="NEW",t.EDIT="EDIT",t.DELETE="DELETE",d;var t})(),f=(()=>{return(t=f||(f={})).MasterCard="mastercard",t.Visa="visa",f;var t})();let p=(()=>{class t{constructor(){this.isDefault=!1,this.state=d.NEW,this.creditCardBrand=f.MasterCard,this.onClick=new r.vpe,this.onDefaultClick=new r.vpe}get footerText(){let t;return this.type===h.Address?(t=this.isDefault?"Default address":"Make Favorite",t=this.state===d.NEW?"Add new address":t):(t=this.isDefault?"Using this card":"Use this card",t=this.state===d.NEW?"Add payment method":t),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["sb-address-credit-card"]],inputs:{title:"title",content1:"content1",content2:"content2",isDefault:"isDefault",type:"type",state:"state",creditCardBrand:"creditCardBrand"},outputs:{onClick:"onClick",onDefaultClick:"onDefaultClick"},decls:8,vars:8,consts:[[1,"address-credit-card"],["class","card-content position-relative",4,"ngIf"],[1,"card-footer","p-0","row","align-items-center"],[1,"col-auto",3,"isOutline","label","click"],[1,"position-relative","col-auto","row"],[1,"card-footer-text","text-truncate","pl-0",3,"ngClass"],["class","icon icon-start",3,"ngClass","click",4,"ngIf"],[1,"card-content","position-relative"],["class","credit-card-logo",3,"src",4,"ngIf"],[1,"title","txt-white"],[1,"card-content"],[1,"credit-card-logo",3,"src"],[1,"icon","icon-start",3,"ngClass","click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.YNc(1,a,8,4,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"sb-icon-button",3),r.NdJ("click",function(t){return e.onClick.emit(t)}),r.qZA(),r.TgZ(4,"div",4),r.TgZ(5,"label",5),r._uU(6),r.qZA(),r.YNc(7,c,1,3,"li",6),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(1),r.Q6J("ngIf","NEW"!==e.state),r.xp6(2),r.Q6J("isOutline",!0)("label",e.state),r.xp6(2),r.Q6J("ngClass",r.VKq(6,l,e.isDefault||"NEW"===e.state)),r.xp6(1),r.Oqu(e.footerText),r.xp6(1),r.Q6J("ngIf","NEW"!==e.state))},directives:[i.O5,s.Z,i.mk],styles:['.txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:.0625rem solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:.0625rem solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:.0625rem solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:.0625rem solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:.0625rem solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:.0625rem solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:.0625rem solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:.0625rem solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:.0625rem solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:.0625rem solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:.0625rem solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:.0625rem solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.address-credit-card[_ngcontent-%COMP%]{width:21.875rem;display:flex;min-height:5.125rem;background:#333333;border-radius:.625rem;flex-direction:column;align-items:flex-start;padding:1.25rem 0 1.25rem 1.25rem;box-shadow:0 .25rem .5rem rgba(0,0,0,.149)}.address-credit-card[_ngcontent-%COMP%]   .credit-card-logo[_ngcontent-%COMP%]{top:.625rem;right:-3.4375rem;position:absolute}.address-credit-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{color:#fff;font-size:1rem;margin-right:22%;line-height:1.3125rem;font-style:normal;font-weight:normal;font-family:"Red Hat Display"}.address-credit-card[_ngcontent-%COMP%]   .card-footer-text[_ngcontent-%COMP%]{color:#828282;max-width:10.3125rem;vertical-align:middle}.address-credit-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{top:.3125rem;width:2.5rem;right:-.625rem;color:#828282;cursor:pointer;position:absolute}']}),t})()},532:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(7716),i=n(8583);const s=function(t,e){return{width:t,height:e}};let o=(()=>{class t{constructor(){this.type="primary",this.label="Button",this.isOutline=!1,this.hasShadow=!1,this.isDisabled=!1,this.onClick=new r.vpe}get classes(){const t=["btn",`btn-${this.isOutline?"outline-":""}${this.isDisabled?"light":this.type}`];return this.hasShadow&&t.push("btn-shadow"),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["sb-button"]],inputs:{type:"type",label:"label",isOutline:"isOutline",hasShadow:"hasShadow",isDisabled:"isDisabled",width:"width",height:"height"},outputs:{onClick:"onClick"},decls:2,vars:7,consts:[["type","button",3,"ngStyle","ngClass","disabled","click"]],template:function(t,e){1&t&&(r.TgZ(0,"button",0),r.NdJ("click",function(t){return e.onClick.emit(t)}),r._uU(1),r.qZA()),2&t&&(r.Q6J("ngStyle",r.WLB(4,s,e.width,e.height))("ngClass",e.classes)("disabled",e.isDisabled),r.xp6(1),r.hij(" ",e.label,"\n"))},directives:[i.PC,i.mk],styles:[".txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:.0625rem solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:.0625rem solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:.0625rem solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:.0625rem solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:.0625rem solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:.0625rem solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:.0625rem solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:.0625rem solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:.0625rem solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:.0625rem solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:.0625rem solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:.0625rem solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.btn[_ngcontent-%COMP%]{top:1.25rem;left:1.25rem;padding:.9688rem 2.5938rem;font-size:1.875rem;line-height:2.3125rem;text-align:center;font-style:normal;align-items:center;font-family:Rowdies;border-radius:12.5rem;justify-content:center}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{color:#f2f2f2}.btn-light[_ngcontent-%COMP%]{opacity:1;color:#bdbdbd}.btn-shadow[_ngcontent-%COMP%]{box-shadow:0 .25rem 1rem rgba(0,0,0,.251)}.btn.btn-outline-white[_ngcontent-%COMP%]{border-color:#fff;color:#fff}.btn.btn-outline-white[_ngcontent-%COMP%]:hover{color:#e0e0e0;border-color:#e0e0e0}"]}),t})()},7914:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=n(7716),i=n(8583);const s=function(t){return{disabled:t}};function o(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",4),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().onItemClick(e)}),r._uU(1),r.qZA()}if(2&t){const t=e.$implicit;r.Q6J("ngClass",r.VKq(2,s,t.disabled)),r.xp6(1),r.hij(" ",t.text||t.value," ")}}const a="Select an Item";let u=(()=>{class t{constructor(){this.dropdownValues=[],this.label=a,this.itemSelected=new r.vpe}set reset(t){t&&(this.label=a)}onItemClick(t){this.label=null==t?void 0:t.text,this.itemSelected.emit(t)}labsTrackBy(t,e){return e?e.value:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["sb-dropdown"]],inputs:{dropdownValues:"dropdownValues",label:"label",reset:"reset"},outputs:{itemSelected:"itemSelected"},decls:5,vars:3,consts:[[1,"dropdown"],["data-toggle","dropdown","role","button","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle","icon-menu-arrow"],[1,"dropdown-menu"],["class","dropdown-item",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"dropdown-item",3,"ngClass","click"]],template:function(t,e){1&t&&(r.TgZ(0,"li",0),r.TgZ(1,"a",1),r._uU(2),r.qZA(),r.TgZ(3,"div",2),r.YNc(4,o,2,4,"a",3),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Oqu(e.label),r.xp6(2),r.Q6J("ngForOf",e.dropdownValues)("ngForTrackBy",e.labsTrackBy))},directives:[i.sg,i.mk],styles:['.txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:.0625rem solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:.0625rem solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:.0625rem solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:.0625rem solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:.0625rem solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:.0625rem solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:.0625rem solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:.0625rem solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:.0625rem solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:.0625rem solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:.0625rem solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:.0625rem solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.dropdown[_ngcontent-%COMP%]{list-style-type:none}.dropdown.show[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:before{padding-left:0;padding-right:.625rem;transform:rotate(180deg)}.dropdown-toggle[_ngcontent-%COMP%]{width:100%;color:#fff;padding:1.5625rem;font-size:1.25rem;min-width:14.375rem;margin-left:.3125rem;line-height:1.625rem;background:#4F4F4F;border-radius:.625rem;font-style:normal;font-weight:normal;text-decoration:none;display:inline-block;font-family:"Red Hat Display";box-shadow:0 .25rem .5rem rgba(0,0,0,.149)}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-toggle[_ngcontent-%COMP%]:before{float:right;font-size:1.875rem;padding-left:.625rem}.dropdown-menu[_ngcontent-%COMP%]{width:100%;margin:0;min-width:14.375rem;background:#4F4F4F;top:-.625rem!important}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem;line-height:1.625rem;font-style:normal;font-weight:normal;font-family:"Red Hat Display"}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.disabled[_ngcontent-%COMP%]{color:#828282}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{border-radius:3.125rem;text-decoration:none;background-color:#27ae60}']}),t})()},3998:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});var r=n(7716),i=n(2694),s=n(8583);function o(t,e){if(1&t&&r._UZ(0,"span",12),2&t){const t=r.oxw().$implicit;r.Q6J("ngClass",t.icon)}}function a(t,e){if(1&t&&(r.TgZ(0,"span",13),r._uU(1),r.qZA()),2&t){const t=r.oxw(2);r.xp6(1),r.Oqu(t.count)}}const u=function(t){return{active:t}};function c(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",9),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().redirectTo(e.url)}),r._uU(1),r.YNc(2,o,1,1,"span",10),r.YNc(3,a,2,1,"span",11),r.qZA()}if(2&t){const t=e.$implicit,n=r.oxw();r.Q6J("ngClass",r.VKq(4,u,n.linkActive===(null==t?null:t.url))),r.xp6(1),r.hij(" ",t.name," "),r.xp6(1),r.Q6J("ngIf",t.icon),r.xp6(1),r.Q6J("ngIf",t.showcount&&n.count>0)}}function l(t,e){if(1&t&&r._UZ(0,"span",12),2&t){const t=r.oxw().$implicit;r.Q6J("ngClass",t.icon)}}function h(t,e){if(1&t&&(r.TgZ(0,"a",14),r._uU(1),r.YNc(2,l,1,1,"span",10),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.Q6J("ngClass",r.VKq(4,u,n.linkActive===(null==t?null:t.url)))("href",t.url,r.LSH),r.xp6(1),r.hij(" ",t.name," "),r.xp6(1),r.Q6J("ngIf",t.icon)}}let d=(()=>{class t{constructor(t){this.router=t,this.count=0}redirectTo(t){this.router.navigate([t])}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(i.F0))},t.\u0275cmp=r.Xpm({type:t,selectors:[["sb-header"]],inputs:{menuItems:"menuItems",linkActive:"linkActive",count:"count"},decls:10,vars:2,consts:[[1,"desktop-menu","nav","d-flex","justify-content-between"],["class","nav-link cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"fixed-top","mobile-menu"],[1,"navbar","navbar-dark","bg-dark"],["type","button","data-toggle","collapse","data-target","#navbarToggleExternalContent","aria-controls","navbarToggleExternalContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarToggleExternalContent",1,"mob-menu","collapse"],[1,"bg-dark","p-4"],["class","nav-link",3,"ngClass","href",4,"ngFor","ngForOf"],[1,"nav-link","cursor-pointer",3,"ngClass","click"],["class","icon",3,"ngClass",4,"ngIf"],["class","counter",4,"ngIf"],[1,"icon",3,"ngClass"],[1,"counter"],[1,"nav-link",3,"ngClass","href"]],template:function(t,e){1&t&&(r.TgZ(0,"header"),r.TgZ(1,"nav",0),r.YNc(2,c,4,6,"a",1),r.qZA(),r.TgZ(3,"div",2),r.TgZ(4,"nav",3),r.TgZ(5,"button",4),r._UZ(6,"span",5),r.qZA(),r.qZA(),r.TgZ(7,"div",6),r.TgZ(8,"div",7),r.YNc(9,h,3,6,"a",8),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.Q6J("ngForOf",e.menuItems),r.xp6(7),r.Q6J("ngForOf",e.menuItems))},directives:[s.sg,s.mk,s.O5],styles:[".txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:.0625rem solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:.0625rem solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:.0625rem solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:.0625rem solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:.0625rem solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:.0625rem solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:.0625rem solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:.0625rem solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:.0625rem solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:.0625rem solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:.0625rem solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:.0625rem solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{order:0;margin:0;padding:0;font-size:1.5rem;font-weight:300;position:static;line-height:1.875rem;font-style:normal;text-align:center;font-family:Rowdies}.nav[_ngcontent-%COMP%]   a.nav-link.active[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]:hover{color:#f2c94c}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{top:-15px;color:#f2c94c;font-size:12px;padding:0 12px;position:absolute;border-radius:100%;background-color:#333}.nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#f2f2f2}.nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav[_ngcontent-%COMP%]   .icon.active[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{color:#bdbdbd}.mobile-menu[_ngcontent-%COMP%]{display:none}.mobile-menu[_ngcontent-%COMP%]   .bg-dark[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .mobile-menu[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-style:normal;font-family:Rowdies;font-size:1.5rem;color:#f2f2f2}.mobile-menu[_ngcontent-%COMP%]   .bg-dark[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .mobile-menu[_ngcontent-%COMP%]   .icon.active[_ngcontent-%COMP%]{color:#f2c94c}@media (max-width: 61.9988rem){.mobile-menu[_ngcontent-%COMP%]{display:block}.nav[_ngcontent-%COMP%]{display:none!important}}"]}),t})()},5616:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(7716),i=n(8583);function s(t,e){1&t&&r._UZ(0,"li",2)}const o=function(t){return{width:t}};let a=(()=>{class t{constructor(){this.type="primary",this.label="Button",this.isOutline=!1,this.hasShadow=!1,this.isDisabled=!1,this.showIcon=!1,this.onClick=new r.vpe}get classes(){const t=["btn",`btn-${this.isOutline?"outline-":""}${this.isDisabled?"light":this.type}`];return this.hasShadow&&t.push("btn-shadow"),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["sb-icon-button"]],inputs:{type:"type",label:"label",width:"width",isOutline:"isOutline",hasShadow:"hasShadow",isDisabled:"isDisabled",showIcon:"showIcon"},outputs:{onClick:"onClick"},decls:3,vars:7,consts:[["type","button",3,"ngStyle","ngClass","disabled","click"],["class","icon icon-pizza",4,"ngIf"],[1,"icon","icon-pizza"]],template:function(t,e){1&t&&(r.TgZ(0,"button",0),r.NdJ("click",function(t){return e.onClick.emit(t)}),r.YNc(1,s,1,0,"li",1),r._uU(2),r.qZA()),2&t&&(r.Q6J("ngStyle",r.VKq(5,o,e.width))("ngClass",e.classes)("disabled",e.isDisabled),r.xp6(1),r.Q6J("ngIf",e.showIcon),r.xp6(1),r.hij(" ",e.label,"\n"))},directives:[i.PC,i.mk,i.O5],styles:[".txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:.0625rem solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:.0625rem solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:.0625rem solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:.0625rem solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:.0625rem solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:.0625rem solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:.0625rem solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:.0625rem solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:.0625rem solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:.0625rem solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:.0625rem solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:.0625rem solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.btn[_ngcontent-%COMP%]{left:5rem;padding:.9688rem 2.1875rem;font-size:1.25rem;font-weight:400;line-height:1.5625rem;text-align:center;font-style:normal;align-items:center;font-family:Rowdies;border-radius:12.5rem;justify-content:center}.btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{top:.0625rem;color:#f2c94c;display:inline}.btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{margin-right:.5rem}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{color:#f2f2f2}.btn-outline-light[_ngcontent-%COMP%], .btn-light[_ngcontent-%COMP%]{opacity:1}.btn-outline-light[_ngcontent-%COMP%], .btn-outline-light[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .btn-light[_ngcontent-%COMP%], .btn-light[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#bdbdbd!important}.btn-shadow[_ngcontent-%COMP%]{box-shadow:0 .25rem 1rem rgba(0,0,0,.251)}"]}),t})()},5562:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(7716),i=n(8583),s=n(5616);let o=(()=>{class t{constructor(){this.onClick=new r.vpe}get background(){return{"background-image":`url(${this.cardBackgroundUrl}),\n                           radial-gradient(187.18% 90.09% at 50% 9.91%, ${this.bgColorGradientFrom} 0%, ${this.bgColorGradientTo} 100%)`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["sb-pizza-menu-card"]],inputs:{title:"title",numOfGrams:"numOfGrams",numOfCalories:"numOfCalories",description:"description",price:"price",cardBackgroundUrl:"cardBackgroundUrl",bgColorGradientFrom:"bgColorGradientFrom",bgColorGradientTo:"bgColorGradientTo"},outputs:{onClick:"onClick"},decls:20,vars:11,consts:[[1,"pizza-card",3,"ngStyle"],[1,"content"],[1,"mb-1"],[1,"d-inline","txt-gray-6"],[1,"d-inline","txt-gray-6","calories"],[1,"description","pt-1","pb-1","m-0"],[1,"row","pizza-card-footer"],[1,"price-container","pr-3","pl-0","py-2","col-4"],[1,"price-label"],[1,"price"],[1,"col-8","px-0"],["width","130px","label","ADD",1,"add-btn","float-right",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"h4",2),r._uU(3),r.qZA(),r.TgZ(4,"div"),r.TgZ(5,"caption",3),r._uU(6),r.qZA(),r.TgZ(7,"caption",4),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"p",5),r._uU(10),r.qZA(),r.TgZ(11,"div",6),r.TgZ(12,"div",7),r.TgZ(13,"label",8),r._uU(14,"starts at"),r.qZA(),r.TgZ(15,"span",9),r._uU(16),r.ALo(17,"currency"),r.qZA(),r.qZA(),r.TgZ(18,"div",10),r.TgZ(19,"sb-icon-button",11),r.NdJ("click",function(t){return e.onClick.emit(t)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.Q6J("ngStyle",e.background),r.xp6(3),r.Oqu(e.title),r.xp6(3),r.hij("",e.numOfGrams,"g"),r.xp6(2),r.hij("",e.numOfCalories," cal"),r.xp6(2),r.Oqu(e.description),r.xp6(6),r.Oqu(r.gM2(17,6,e.price,"USD","symbol","1.0-0")))},directives:[i.PC,s.Z],pipes:[i.H9],styles:['.txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:.0625rem solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:.0625rem solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:.0625rem solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:.0625rem solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:.0625rem solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:.0625rem solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:.0625rem solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:.0625rem solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:.0625rem solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:.0625rem solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:.0625rem solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:.0625rem solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.pizza-card[_ngcontent-%COMP%]{width:19.25rem;height:28.0625rem;padding-left:1.875rem;padding-right:.9375rem;border-radius:.625rem 6.25rem .625rem .625rem;background-repeat:no-repeat,repeat;box-shadow:0 .25rem 1rem .75rem rgba(0,0,0,.141)}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;top:50%;height:50%}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .calories[_ngcontent-%COMP%]{margin-left:2.25rem}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#333;font-size:1rem;line-height:1.3125rem;font-style:normal;font-weight:normal;font-family:"Red Hat Display"}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card-footer[_ngcontent-%COMP%]{bottom:1.25rem;position:absolute;width:-webkit-fill-available}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card-footer[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]{display:inline-grid}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card-footer[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   .price-label[_ngcontent-%COMP%]{margin:0;color:#333;font-size:.75rem;font-weight:300;line-height:.9375rem;text-align:center;font-style:normal;font-family:Rowdies}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card-footer[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#333;font-size:1.5rem;font-weight:bold;line-height:1.875rem;font-style:normal;text-align:center;font-family:Rowdies}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card-footer[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{right:1.25rem;position:relative}']}),t})()},7656:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var r=n(7716),i=n(8583),s=n(5616);function o(t,e){1&t&&r._UZ(0,"img",10)}function a(t,e){1&t&&r._UZ(0,"img",11)}function u(t,e){if(1&t&&(r.TgZ(0,"span",12),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.description)}}const c=function(t){return{"background-color":t}};let l=(()=>{class t{constructor(){this.showDecorators=!1,this.onClick=new r.vpe}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["sb-promotion-card"]],inputs:{mainTitle:"mainTitle",secondTitle:"secondTitle",bgColor:"bgColor",description:"description",showDecorators:"showDecorators"},outputs:{onClick:"onClick"},decls:13,vars:9,consts:[[1,"promotion-card",3,"ngStyle"],[1,"main-title-content","position-relative"],["class","decorator-left","src","assets/images/leaf-left.png",4,"ngIf"],[1,"main-title","txt-red"],["class","decorator-right","src","assets/images/leaf-right.png",4,"ngIf"],[1,"second-title","txt-yellow","my-0"],["class","description",4,"ngIf"],[1,"promotion-footer"],["label","ADD TO CART",3,"showIcon","click"],[1,"disclaimer","txt-white","pt-3"],["src","assets/images/leaf-left.png",1,"decorator-left"],["src","assets/images/leaf-right.png",1,"decorator-right"],[1,"description"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.YNc(2,o,1,0,"img",2),r.TgZ(3,"h2",3),r._uU(4),r.qZA(),r.YNc(5,a,1,0,"img",4),r.qZA(),r.TgZ(6,"h3",5),r._uU(7),r.qZA(),r.YNc(8,u,2,1,"span",6),r.TgZ(9,"div",7),r.TgZ(10,"sb-icon-button",8),r.NdJ("click",function(t){return e.onClick.emit(t)}),r.qZA(),r.TgZ(11,"p",9),r._uU(12,"Promotion valid only for pickup and express purchases, not valid with other coupons. Promotion valid only on Fridays."),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.Q6J("ngStyle",r.VKq(7,c,e.bgColor)),r.xp6(2),r.Q6J("ngIf",e.showDecorators),r.xp6(2),r.Oqu(e.mainTitle),r.xp6(1),r.Q6J("ngIf",e.showDecorators),r.xp6(2),r.Oqu(e.secondTitle),r.xp6(1),r.Q6J("ngIf",e.description),r.xp6(2),r.Q6J("showIcon",!0))},directives:[i.PC,i.O5,s.Z],styles:['.txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:.0625rem solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:.0625rem solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:.0625rem solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:.0625rem solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:.0625rem solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:.0625rem solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:.0625rem solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:.0625rem solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:.0625rem solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:.0625rem solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:.0625rem solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:.0625rem solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.promotion-card[_ngcontent-%COMP%]{z-index:1;width:36.75rem;height:23.0625rem;padding:1.125rem;position:relative;text-align:center;border-radius:.625rem;mix-blend-mode:normal;box-shadow:0 .25rem 1rem rgba(0,0,0,.161)}.promotion-card[_ngcontent-%COMP%]   .main-title-content[_ngcontent-%COMP%]{z-index:10}.promotion-card[_ngcontent-%COMP%]   .main-title-content[_ngcontent-%COMP%]   .decorator-left[_ngcontent-%COMP%]{position:absolute;left:0rem;bottom:-.625rem;z-index:-1}.promotion-card[_ngcontent-%COMP%]   .main-title-content[_ngcontent-%COMP%]   .decorator-right[_ngcontent-%COMP%]{position:absolute;top:0;right:1.25rem;z-index:-1}.promotion-card[_ngcontent-%COMP%]   .second-title[_ngcontent-%COMP%]{margin-left:3.75rem;margin-right:3.75rem}.promotion-card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#fff;font-size:1rem;line-height:1.3125rem;text-align:center;font-style:normal;font-weight:normal;font-family:"Red Hat Display"}.promotion-card[_ngcontent-%COMP%]   .promotion-footer[_ngcontent-%COMP%]{bottom:.625rem;position:absolute}.promotion-card[_ngcontent-%COMP%]   .promotion-footer[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;line-height:1rem;margin-left:3.4375rem;font-style:normal;margin-right:3.4375rem;font-family:"Red Hat Display"}']}),t})()},6069:function(t,e,n){"use strict";n.d(e,{Z:function(){return E}});var r=n(7716),i=n(665),s=n(9765),o=n(8891),a=n(5917),u=n(4395),c=n(3190),l=n(3342),h=n(8583);const d=["input"];function f(t,e){if(1&t&&r._UZ(0,"i",6),2&t){const t=r.oxw();r.Q6J("ngClass",t.iconClass)}}function p(t,e){if(1&t&&(r.TgZ(0,"p",7),r._uU(1),r.qZA()),2&t){const t=r.oxw().ngIf;r.xp6(1),r.Oqu(t.message)}}function g(t,e){if(1&t&&(r.ynx(0),r.YNc(1,p,2,1,"p",5),r.BQk()),2&t){const t=e.ngIf;r.xp6(1),r.Q6J("ngIf",t.hasErrors)}}function m(t,e){if(1&t&&(r.TgZ(0,"p",7),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.customErrorMessage)}}const y=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,_=/^(.*\s+.*)+$/,v=/^[\p{Z}\s]*(?:[^\p{Z}\s][\p{Z}\s]*){7,}$/,b=/\d/,w=/^(.*[A-Z]+.*)+$/,C={provide:i.JU,useExisting:(0,r.Gpc)(()=>E),multi:!0};let E=(()=>{class t{constructor(){this.placeholder="",this.disabled=!1,this.type="text",this.state=null,this.disableValidations=!1,this.isValid=new r.vpe,this.idd="",this.text="",this.c=new i.NI,this._state=this.state,this.keyStreem$=new s.xQ,this.inputErrors$=new o.y,this.innerValue="",this.propagateChange=t=>{}}get classes(){return[`type-${this.type}`,`state-${this.state||this._state}`]}get iconClass(){let t;switch(this.type){case"password":t="icon-lock";break;case"email":t="icon-mail";break;default:t=""}return[t]}onKey(t){this.keyStreem$.next(t.target.value)}inputErrorsSubscription(){this.inputErrors$=this.keyStreem$.pipe((0,u.b)(500),(0,c.w)(t=>this.disableValidations?(0,a.of)({hasErrors:!1}):"email"===this.type?(this.isValid.emit(y.test(String(t).toLowerCase())),(0,a.of)({hasErrors:!y.test(String(t).toLowerCase()),message:"Please enter a valid email address."})):"password"===this.type?(0,a.of)(this.checkPassword(t)):(this.isValid.emit(!0),(0,a.of)({hasErrors:!1}))),(0,l.b)(t=>{this._state=this.state||(t.hasErrors?"danger":"success")}))}checkPassword(t){const e=_.test(t),n=v.test(t),r=b.test(t),i=w.test(t),s=e||!n||!r||!i;return this.isValid.emit(!s),{hasErrors:s,message:`Password ${e?"Can\u2019t contain spaces.":""} \n                ${n?"":"Must be at least 7 characters long."}\n                ${r?"":"Must include a number."}\n                ${i?"":"Must include at least one upper lettter case."}\n                Password doesn\u2019t match.`}}ngOnInit(){this.inputErrorsSubscription()}ngAfterViewInit(){void 0===this.pH&&(this.pH="Enter "+this.text),this.c.valueChanges.subscribe(()=>{(""===this.c.value||null==this.c.value)&&(this.innerValue="",this.inputRef.nativeElement.value="")}),this.inputRef.nativeElement.value=this.c.value}onChange(t,e){this.innerValue=e,this.propagateChange(this.innerValue)}get value(){return this.innerValue}set value(t){t!==this.innerValue&&(this.innerValue=t)}writeValue(t){this.innerValue=t}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["sb-text-input"]],viewQuery:function(t,e){if(1&t&&r.Gf(d,5),2&t){let t;r.iGM(t=r.CRH())&&(e.inputRef=t.first)}},inputs:{placeholder:"placeholder",disabled:"disabled",type:"type",state:"state",disableValidations:"disableValidations",customErrorMessage:"customErrorMessage",idd:"idd",text:"text",pH:"pH",c:"c"},outputs:{isValid:"isValid"},features:[r._Bn([C])],decls:7,vars:9,consts:[[1,"input-icons"],["class","icon",3,"ngClass",4,"ngIf"],[1,"input-field",3,"type","placeholder","ngClass","disabled","keyup","blur"],["input",""],[4,"ngIf"],["class","txt-red py-2 px-4",4,"ngIf"],[1,"icon",3,"ngClass"],[1,"txt-red","py-2","px-4"]],template:function(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",0),r.YNc(1,f,1,1,"i",1),r.TgZ(2,"input",2,3),r.NdJ("keyup",function(t){return e.onKey(t)})("blur",function(n){r.CHM(t);const i=r.MAs(3);return e.onChange(n,i.value)}),r.qZA(),r.YNc(4,g,2,1,"ng-container",4),r.ALo(5,"async"),r.YNc(6,m,2,1,"p",5),r.qZA()}2&t&&(r.xp6(1),r.Q6J("ngIf","email"===e.type||"password"===e.type),r.xp6(1),r.Q6J("type",e.type)("placeholder",e.placeholder)("ngClass",e.classes)("disabled",e.disabled),r.xp6(2),r.Q6J("ngIf",r.lcZ(5,7,e.inputErrors$)),r.xp6(2),r.Q6J("ngIf",!!e.customErrorMessage&&"danger"===e.state))},directives:[h.O5,h.mk],pipes:[h.Ov],styles:['.txt-red{color:#eb5757!important}.bg-red{background-color:#eb5757!important}.border-red{border:.0625rem solid #EB5757!important}.txt-orange{color:#f2994a!important}.bg-orange{background-color:#f2994a!important}.border-orange{border:.0625rem solid #F2994A!important}.txt-danger{color:red!important}.bg-danger{background-color:red!important}.border-danger{border:.0625rem solid red!important}.txt-black{color:#1f1f1f!important}.bg-black{background-color:#1f1f1f!important}.border-black{border:.0625rem solid #1F1F1F!important}.txt-white{color:#fff!important}.bg-white{background-color:#fff!important}.border-white{border:.0625rem solid #fff!important}.txt-yellow{color:#f2c94c!important}.bg-yellow{background-color:#f2c94c!important}.border-yellow{border:.0625rem solid #F2C94C!important}.txt-gray-1{color:#333!important}.bg-gray-1{background-color:#333!important}.border-gray-1{border:.0625rem solid #333333!important}.txt-gray-2{color:#4f4f4f!important}.bg-gray-2{background-color:#4f4f4f!important}.border-gray-2{border:.0625rem solid #4F4F4F!important}.txt-gray-3{color:#828282!important}.bg-gray-3{background-color:#828282!important}.border-gray-3{border:.0625rem solid #828282!important}.txt-gray-4{color:#bdbdbd!important}.bg-gray-4{background-color:#bdbdbd!important}.border-gray-4{border:.0625rem solid #BDBDBD!important}.txt-gray-5{color:#e0e0e0!important}.bg-gray-5{background-color:#e0e0e0!important}.border-gray-5{border:.0625rem solid #E0E0E0!important}.txt-gray-6{color:#f2f2f2!important}.bg-gray-6{background-color:#f2f2f2!important}.border-gray-6{border:.0625rem solid #F2F2F2!important}.txt-green-1{color:#219653!important}.bg-green-1{background-color:#219653!important}.border-green-1{border:.0625rem solid #219653!important}.txt-green-2{color:#27ae60!important}.bg-green-2{background-color:#27ae60!important}.border-green-2{border:.0625rem solid #27AE60!important}.txt-primary{color:#eb5757!important}.bg-primary{background-color:#eb5757!important}.border-primary{border:.0625rem solid #EB5757!important}.txt-secondary{color:#f2994a!important}.bg-secondary{background-color:#f2994a!important}.border-secondary{border:.0625rem solid #F2994A!important}.input-icons{position:relative}.input-icons .icon{position:absolute;font-size:1.875rem;left:1.875rem;top:1.25rem;color:#bdbdbd;min-width:2.4375rem;display:-webkit-inline-box;-webkit-box-pack:center}.input-icons .input-field{width:100%;padding:1.375rem 1.5625rem;font-family:"Red Hat Display";font-style:normal;font-weight:normal;font-size:1.25rem;line-height:1.625rem;color:#333;background-color:#f2f2f2;border-radius:.625rem}.input-icons .input-field.type-password,.input-icons .input-field.type-email{padding-left:5.2813rem}.input-icons .input-field.state-danger{border:.125rem solid #EB5757}.input-icons .input-field.state-success{border:.125rem solid #27AE60}\n'],encapsulation:2}),t})()},5294:function(t,e,n){"use strict";n.d(e,{qR:function(){return s},VH:function(){return o},Y:function(){return a},o$:function(){return u},to:function(){return c},U9:function(){return l},it:function(){return h},mw:function(){return d},Gp:function(){return f},II:function(){return p},V7:function(){return g}});var r=n(6710),i=(()=>{return(t=i||(i={})).FETCH_PIZZAS="[core] fetch pizzas list",t.FETCH_PIZZAS_SUCCESS="[core] fetch pizzas list success",t.FETCH_PIZZAS_FAILURE="[core] fetch pizzas list failure",t.FETCH_PRODUCTS_CATALOG="[core] fetch product catalog",t.FETCH_PRODUCTS_CATALOG_SUCCESS="[core] fetch product catalog success",t.FETCH_PRODUCTS_CATALOG_FAILURE="[core] fetch product catalog failure",t.FETCH_SHOPPING_CARD="[core] fetch shopping card",t.FETCH_SHOPPING_CARD_SUCCESS="[core] fetch shopping card success",t.FETCH_SHOPPING_CARD_FAILURE="[core] fetch shopping card failure",t.SAVE_SHOPPING_CARD="[core] save shopping card",t.SAVE_SHOPPING_CARD_SUCCESS="[core] save shopping card success",t.SAVE_SHOPPING_CARD_FAILURE="[core] save shopping card failure",t.LOAD_USER="[core] load user",t.LOAD_USER_SUCCESS="[core] load user success",t.CLEAR_SHOPPING_CARD="[core] clear shopping card",t.SET_SHOPPING_CARD="[core] set shopping card",i;var t})();const s=(0,r.PH)(i.FETCH_PIZZAS),o=(0,r.PH)(i.FETCH_PIZZAS_SUCCESS,(0,r.Ky)()),a=(0,r.PH)(i.FETCH_PRODUCTS_CATALOG),u=(0,r.PH)(i.FETCH_PRODUCTS_CATALOG_SUCCESS,(0,r.Ky)()),c=(0,r.PH)(i.FETCH_SHOPPING_CARD),l=(0,r.PH)(i.FETCH_SHOPPING_CARD_SUCCESS,(0,r.Ky)()),h=(0,r.PH)(i.SAVE_SHOPPING_CARD,(0,r.Ky)()),d=(0,r.PH)(i.SAVE_SHOPPING_CARD_SUCCESS,(0,r.Ky)()),f=(0,r.PH)(i.CLEAR_SHOPPING_CARD),p=(0,r.PH)(i.LOAD_USER,(0,r.Ky)()),g=((0,r.PH)(i.LOAD_USER_SUCCESS),(0,r.PH)(i.SET_SHOPPING_CARD,(0,r.Ky)()))},5754:function(t,e,n){"use strict";n.d(e,{I6:function(){return o},h2:function(){return u},f1:function(){return c},SB:function(){return l},dy:function(){return h}});var r=n(6710),i=n(5294);const s=(0,r.Lq)({pizzas:[],productsCatalog:{},shoppingCart:[],user:null},(0,r.on)(i.VH,(t,{payload:e})=>Object.assign(Object.assign({},t),{pizzas:e})),(0,r.on)(i.o$,(t,{payload:e})=>Object.assign(Object.assign({},t),{productsCatalog:e})),(0,r.on)(i.U9,(t,{payload:e})=>Object.assign(Object.assign({},t),{shoppingCart:e})),(0,r.on)(i.mw,(t,{payload:e})=>Object.assign(Object.assign({},t),{shoppingCart:e})),(0,r.on)(i.Gp,t=>Object.assign(Object.assign({},t),{shoppingCart:[]})),(0,r.on)(i.II,(t,{payload:e})=>Object.assign(Object.assign({},t),{user:e})),(0,r.on)(i.V7,(t,{payload:e})=>Object.assign(Object.assign({},t),{shoppingCart:e})));function o(t,e){return s(t,e)}const a=(0,r.ZF)("app"),u=(0,r.P1)(a,t=>t.pizzas),c=(0,r.P1)(a,t=>t.productsCatalog),l=(0,r.P1)(a,t=>t.shoppingCart),h=(0,r.P1)(a,t=>t.user)},1496:function(t,e,n){"use strict";var r=n(9075),i=n(7716),s=n(6710),o=n(3572),a=n(7238);function u(){return"undefined"!=typeof window&&void 0!==window.document}function c(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function l(t){switch(t.length){case 0:return new a.ZN;case 1:return t[0];default:return new a.ZE(t)}}function h(t,e,n,r,i={},s={}){const o=[],u=[];let c=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==c,h=r&&l||{};Object.keys(t).forEach(n=>{let r=n,u=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),u){case a.k1:u=i[n];break;case a.l3:u=s[n];break;default:u=e.normalizeStyleValue(n,r,u,o)}h[r]=u}),r||u.push(h),l=h,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return u}function d(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&f(n,"start",t)));break;case"done":t.onDone(()=>r(n&&f(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&f(n,"destroy",t)))}}function f(t,e,n){const r=n.totalTime,i=p(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function p(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function g(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function m(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let y=(t,e)=>!1,_=(t,e)=>!1,v=(t,e,n)=>[];const b=c();(b||"undefined"!=typeof Element)&&(y=u()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),_=(()=>{if(b||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):_}})(),v=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let w=null,C=!1;function E(t){w||(w=("undefined"!=typeof document?document.body:null)||{},C=!!w.style&&"WebkitAppearance"in w.style);let e=!0;return w.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in w.style,!e&&C&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in w.style)),e}const T=_,S=y,I=v;function A(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let O=(()=>{class t{validateStyleProperty(t){return E(t)}matchesElement(t,e){return T(t,e)}containsElement(t,e){return S(t,e)}query(t,e,n){return I(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new a.ZN(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),D=(()=>{class t{}return t.NOOP=new O,t})();const P="ng-enter",k="ng-leave",x="ng-trigger",M=".ng-trigger",F="ng-animating",R=".ng-animating";function N(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:L(parseFloat(e[1]),e[2])}function L(t,e){switch(e){case"s":return 1e3*t;default:return t}}function U(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=L(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=L(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function V(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function j(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else V(t,n);return n}function B(t,e,n){return n?e+":"+n+";":""}function q(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=B(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=B(0,J(n),t.style[n]));t.setAttribute("style",e)}function z(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Y(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),c()&&q(t))}function Z(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Y(e);t.style[n]=""}),c()&&q(t))}function $(t){return Array.isArray(t)?1==t.length?t[0]:(0,a.vP)(t):t}const H=new RegExp("{{\\s*(.+?)\\s*}}","g");function G(t){let e=[];if("string"==typeof t){let n;for(;n=H.exec(t);)e.push(n[1]);H.lastIndex=0}return e}function K(t,e,n){const r=t.toString(),i=r.replace(H,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function W(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Q=/-+([a-z0-9])/g;function Y(t){return t.replace(Q,(...t)=>t[1].toUpperCase())}function J(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function X(t,e){return 0===t||0===e}function tt(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=nt(t,e)})}}return e}function et(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function nt(t,e){return window.getComputedStyle(t)[e]}function rt(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(ot(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(ot(o,i))}(t,n,e)):n.push(t),n}const it=new Set(["true","1"]),st=new Set(["false","0"]);function ot(t,e){const n=it.has(t)||st.has(t),r=it.has(e)||st.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?it.has(t):st.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?it.has(e):st.has(e)),o&&a}}const at=new RegExp("s*:selfs*,?","g");function ut(t,e,n){return new ct(t).build(e,n)}class ct{constructor(t){this._driver=t}build(t,e){const n=new lt(e);return this._resetContextStyleTimingState(n),et(this,$(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(ht(t)){const e=t;Object.keys(e).forEach(t=>{G(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=W(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=et(this,$(t.animation),e);return{type:1,matchers:rt(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:dt(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>et(this,t,e)),options:dt(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=et(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:dt(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ft(U(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=ft(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||U(r,e),ft(n.duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let r,i=t.styles?t.styles:(0,a.oB)({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=(0,a.oB)(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==a.l3?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(ht(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=G(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(ht(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(ht(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:et(this,$(t.animation),e),options:dt(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:dt(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:dt(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(at,"")),[t=t.replace(/@\*/g,M).replace(/@\w+/g,t=>M+"-"+t.substr(1)).replace(/:animating/g,R),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,g(e.collectedStyles,e.currentQuerySelector,{});const o=et(this,$(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:dt(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:U(t.timings,e.errors,!0);return{type:12,animation:et(this,$(t.animation),e),timings:n,options:null}}}class lt{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ht(t){return!Array.isArray(t)&&"object"==typeof t}function dt(t){return t?(t=V(t)).params&&(t.params=function(t){return t?V(t):null}(t.params)):t={},t}function ft(t,e,n){return{duration:t,delay:e,easing:n}}function pt(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class gt{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const mt=new RegExp(":enter","g"),yt=new RegExp(":leave","g");function _t(t,e,n,r,i,s={},o={},a,u,c=[]){return(new vt).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class vt{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new gt;const l=new wt(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),et(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[pt(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?N(n.duration):null,s=null!=n.delay?N(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),et(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=bt);const t=N(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>et(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?N(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),et(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return U(e.params?K(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?N(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=bt);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),et(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;et(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const bt={};class wt{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ct(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=N(n.duration)),null!=n.delay&&(r.delay=N(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{(!e||!t.hasOwnProperty(n))&&(t[n]=K(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new wt(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=bt,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Et(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(mt,"."+this._enterClassName)).replace(yt,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return!i&&0==o.length&&s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Ct{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Ct(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||a.l3,this._currentKeyframe[t]=a.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=a.l3})):j(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=K(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:a.l3),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=j(i,!0);Object.keys(o).forEach(n=>{const r=o[n];r==a.k1?t.add(n):r==a.l3&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?W(t.values()):[],s=e.size?W(e.values()):[];if(n){const t=r[0],e=V(t);t.offset=0,e.offset=1,r=[t,e]}return pt(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Et extends Ct{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=j(t[0],!1);a.offset=0,i.push(a);const u=j(t[0],!1);u.offset=Tt(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=j(t[r],!1);o.offset=Tt((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return pt(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Tt(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class St{}class It extends St{normalizePropertyName(t,e){return Y(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(At[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const At=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ot(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const Dt={};class Pt{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Dt,d=this.buildStyles(n,o&&o.params||Dt,l),f=a&&a.params||Dt,p=this.buildStyles(r,f,l),m=new Set,y=new Map,_=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},w=c?[]:_t(t,e,this.ast.animation,i,s,d,p,b,u,l);let C=0;if(w.forEach(t=>{C=Math.max(t.duration+t.delay,C)}),l.length)return Ot(e,this._triggerName,n,r,v,d,p,[],[],y,_,C,l);w.forEach(t=>{const n=t.element,r=g(y,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=g(_,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=W(m.values());return Ot(e,this._triggerName,n,r,v,d,p,w,E,y,_,C)}}class kt{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n={},r=V(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=K(s,r,e));const o=this.normalizer.normalizePropertyName(t,e);s=this.normalizer.normalizeStyleValue(t,o,s,e),n[o]=s})}}),n}}class xt{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new kt(t.style,t.options&&t.options.params||{},n)}),Mt(this.states,"true","1"),Mt(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Pt(t,e,this.states))}),this.fallbackTransition=function(t,e,n){return new Pt(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},e)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Mt(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Ft=new gt;class Rt{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=ut(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=h(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=_t(this._driver,e,i,P,k,{},{},n,Ft,r),s.forEach(t=>{const e=g(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,a.l3)})});const u=l(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=p(e,"","","");return d(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Nt="ng-animate-queued",Lt="ng-animate-disabled",Ut=".ng-animate-disabled",Vt=[],jt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Bt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qt="__ng_removed";class zt{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=V(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Zt="void",$t=new zt(Zt);class Ht{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,te(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=g(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=g(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(te(t,x),te(t,x+"-"+e),a[e]=$t),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Kt(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(te(t,x),te(t,x+"-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new zt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=$t),u.value!==Zt&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Z(t,n),z(t,r)})}return}const c=g(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(te(t,Nt),s.onStart(()=>{ee(t,Nt)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,M,!0);n.forEach(t=>{if(t[qt])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Zt,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&l(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||$t,a=new zt(Zt),u=new Kt(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t[qt];(!r||r===jt)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){te(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=p(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,d(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Gt{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Ht(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Wt(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Wt(e))return;const i=e[qt];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),te(t,Lt)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ee(t,Lt))}removeNode(t,e,n,r){if(Wt(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[qt]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Wt(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,M,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,R,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return l(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[qt];if(e&&e.setForRemoval){if(t[qt]=jt,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Ut)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Ut,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)te(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?l(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new gt,r=[],i=new Map,s=[],o=new Map,u=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(t=>{h.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)h.add(e[n])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=Jt(f,this.collectedEnterElements),m=new Map;let y=0;p.forEach((t,e)=>{const n=P+y++;m.set(e,n),t.forEach(t=>te(t,n))});const _=[],v=new Set,b=new Set;for(let a=0;a<this.collectedLeaveElements.length;a++){const t=this.collectedLeaveElements[a],e=t[qt];e&&e.setForRemoval&&(_.push(t),v.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>v.add(t)):b.add(t))}const w=new Map,C=Jt(f,Array.from(v));C.forEach((t,e)=>{const n=k+y++;w.set(e,n),t.forEach(t=>te(t,n))}),t.push(()=>{p.forEach((t,e)=>{const n=m.get(e);t.forEach(t=>ee(t,n))}),C.forEach((t,e)=>{const n=w.get(e);t.forEach(t=>ee(t,n))}),_.forEach(t=>{this.processLeaveNode(t)})});const E=[],T=[];for(let a=this._namespaceList.length-1;a>=0;a--)this._namespaceList[a].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(E.push(e),this.collectedEnterElements.length){const t=i[qt];if(t&&t.setForMove)return void e.destroy()}const a=!d||!this.driver.containsElement(d,i),l=w.get(i),h=m.get(i),f=this._buildInstruction(t,n,h,l,a);if(f.errors&&f.errors.length)T.push(f);else{if(a)return e.onStart(()=>Z(i,f.fromStyles)),e.onDestroy(()=>z(i,f.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Z(i,f.fromStyles)),e.onDestroy(()=>z(i,f.toStyles)),void r.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),s.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>g(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=u.get(e);t||u.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(T.length){const t=[];T.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),E.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,I=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(I.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{g(S,e,[]).push(t),t.destroy()})});const A=_.filter(t=>ie(t,u,c)),O=new Map;Yt(O,this.driver,b,c,a.l3).forEach(t=>{ie(t,u,c)&&A.push(t)});const D=new Map;p.forEach((t,e)=>{Yt(D,this.driver,new Set(t),u,a.k1)}),A.forEach(t=>{const e=O.get(t),n=D.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const x=[],M=[],F={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(h.has(e))return s.onDestroy(()=>z(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=F;if(I.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=I.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>I.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,S,i,D,O);if(s.setRealPlayer(n),t===F)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=l(e)),r.push(s)}}else Z(e,o.fromStyles),s.onDestroy(()=>z(e,o.toStyles)),M.push(s),h.has(e)&&r.push(s)}),M.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=l(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let a=0;a<_.length;a++){const t=_[a],e=t[qt];if(ee(t,k),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,R,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?ne(this,t,r):this.processLeaveNode(t)}return _.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e[qt];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Zt;e.forEach(e=>{e.queued||!t&&e.triggerName!=r||s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=g(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Z(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,u=e.element,c=[],d=new Set,f=new Set,p=e.timelines.map(e=>{const l=e.element;d.add(l);const p=l[qt];if(p&&p.removedBeforeQueried)return new a.ZN(e.duration,e.delay);const g=l!==u,m=function(t){const e=[];return re(t,e),e}((n.get(l)||Vt).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===l),y=i.get(l),_=s.get(l),v=h(0,this._normalizer,0,e.keyframes,y,_),b=this._buildPlayer(e,v,m);if(e.subTimeline&&r&&f.add(l),g){const e=new Kt(t,o,l);e.setRealPlayer(b),c.push(e)}return b});c.forEach(t=>{g(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),d.forEach(t=>te(t,F));const m=l(p);return m.onDestroy(()=>{d.forEach(t=>ee(t,F)),z(u,e.toStyles)}),f.forEach(t=>{g(r,t,[]).push(m)}),m}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new a.ZN(t.duration,t.delay)}}class Kt{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new a.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>d(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){g(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Wt(t){return t&&1===t.nodeType}function Qt(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Yt(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Qt(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);(!n||0==n.length)&&(r[qt]=Bt,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Qt(t,s[a++])),o}function Jt(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}const Xt="$$classes";function te(t,e){if(t.classList)t.classList.add(e);else{let n=t[Xt];n||(n=t[Xt]={}),n[e]=!0}}function ee(t,e){if(t.classList)t.classList.remove(e);else{let n=t[Xt];n&&delete n[e]}}function ne(t,e,n){l(n).onDone(()=>t.processLeaveNode(e))}function re(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof a.ZE?re(r.players,e):e.push(r)}}function ie(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class se{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Gt(t,e,n),this._timelineEngine=new Rt(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=ut(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e,n){return new xt(t,e,n)}(r,e,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=m(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=m(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function oe(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=ue(e[0]),e.length>1&&(r=ue(e[e.length-1]))):e&&(n=ue(e)),n||r?new ae(t,n,r):null}let ae=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&z(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(z(this._element,this._initialStyles),this._endStyles&&(z(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Z(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Z(this._element,this._endStyles),this._endStyles=null),z(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function ue(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];ce(i)&&(e=e||{},e[i]=t[i])}return e}function ce(t){return"display"===t||"position"===t}const le="animation",he="animationend";class de{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){(function(t,e){const n=_e(t,"").trim();let r=0;n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++;return n}(n)+1,e=`${n}, ${e}`),ye(t,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),me(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){fe(this._element,this._name,"paused")}resume(){fe(this._element,this._name,"running")}setPosition(t){const e=pe(this._element,this._name);this._position=t*this._duration,ye(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),me(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=_e(t,"").split(","),r=ge(n,e);r>=0&&(n.splice(r,1),ye(t,"",n.join(",")))}(this._element,this._name))}}function fe(t,e,n){ye(t,"PlayState",n,pe(t,e))}function pe(t,e){const n=_e(t,"");return n.indexOf(",")>0?ge(n.split(","),e):ge([n],e)}function ge(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function me(t,e,n){n?t.removeEventListener(he,e):t.addEventListener(he,e)}function ye(t,e,n,r){const i=le+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function _e(t,e){return t.style[le+e]||""}class ve{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new de(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:nt(this.element,n))})}this.currentSnapshot=t}}class be extends a.ZN{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=A(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class we{constructor(){this._count=0}validateStyleProperty(t){return E(t)}matchesElement(t,e){return T(t,e)}containsElement(t,e){return S(t,e)}query(t,e,n){return I(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>A(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof ve),u={};X(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"==n||"easing"==n||(e[n]=t[n])})}),e}(e=tt(t,e,u));if(0==n)return new be(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=oe(t,e),f=new ve(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class Ce{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:nt(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ee{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Te().toString()),this._cssKeyframesDriver=new we}validateStyleProperty(t){return E(t)}matchesElement(t,e){return T(t,e)}containsElement(t,e){return S(t,e)}query(t,e,n){return I(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof Ce);X(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=oe(t,e=tt(t,e=e.map(t=>j(t,!1)),u));return new Ce(t,e,a,l)}}function Te(){return u()&&Element.prototype.animate||{}}var Se=n(8583);let Ie=(()=>{class t extends a._j{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?(0,a.vP)(t):t;return De(this._renderer,null,e,"register",[n]),new Ae(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.FYo),i.LFG(Se.K0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class Ae extends a.LC{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Oe(this._id,t,e||{},this._renderer)}}class Oe{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return De(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function De(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Pe="@.disabled";let ke=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new xe("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Me(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.FYo),i.LFG(se),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();class xe{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==Pe?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Me extends xe{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Pe?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Fe=(()=>{class t extends se{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Se.K0),i.LFG(D),i.LFG(St))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();const Re=new i.OlP("AnimationModuleType"),Ne=[{provide:a._j,useClass:Ie},{provide:St,useFactory:function(){return new It}},{provide:se,useClass:Fe},{provide:i.FYo,useFactory:function(t,e,n){return new ke(t,e,n)},deps:[r.se,se,i.R0b]}],Le=[{provide:D,useFactory:function(){return"function"==typeof Te()?new Ee:new we}},{provide:Re,useValue:"BrowserAnimations"},...Ne],Ue=[{provide:D,useClass:O},{provide:Re,useValue:"NoopAnimations"},...Ne];let Ve=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Ue:Le}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:Le,imports:[r.b2]}),t})();var je=n(9344),Be=n(5754),qe=n(1601),ze=n(9773),Ze=n(8002),$e=n(3190),He=n(5257),Ge=n(7057),Ke=n(3342),We=n(5294),Qe=n(5917),Ye=n(3071),Je=n(9531);let Xe=(()=>{class t{constructor(t,e,n,r,i){this.actions$=t,this.toastr=e,this.userService=n,this.appStore=r,this.productsService=i,this.fetchPizzas$=(0,qe.GW)(()=>this.actions$.pipe((0,qe.l4)(We.qR),(0,ze.zg)(()=>this.productsService.getPizzasList().pipe((0,Ze.U)(t=>(0,We.VH)({payload:t})))))),this.fetchProductsCatalog$=(0,qe.GW)(()=>this.actions$.pipe((0,qe.l4)(We.Y),(0,ze.zg)(()=>this.productsService.getProductsCatalog().pipe((0,Ze.U)(t=>(0,We.o$)({payload:t})))))),this.saveShoppingCard$=(0,qe.GW)(()=>this.actions$.pipe((0,qe.l4)(We.it),(0,$e.w)(({payload:t})=>this.appStore.pipe((0,s.Ys)(Be.SB),(0,He.q)(1),(0,$e.w)(e=>(0,Qe.of)(e?[...e,...t]:t)))),(0,Ge.M)(this.appStore.pipe((0,s.Ys)(Be.dy))),(0,ze.zg)(([t,e])=>this.userService.saveShoppingCard(null==e?void 0:e.uid,t).pipe((0,Ze.U)(()=>(0,We.mw)({payload:t})))),(0,Ke.b)(()=>{this.toastr.success("Added to Shopping card")}))),this.setShoppingCard$=(0,qe.GW)(()=>this.actions$.pipe((0,qe.l4)(We.V7),(0,Ge.M)(this.appStore.pipe((0,s.Ys)(Be.dy))),(0,ze.zg)(([t,e])=>this.userService.saveShoppingCard(null==e?void 0:e.uid,t.payload).pipe((0,Ze.U)(()=>(0,We.mw)({payload:t.payload})))))),this.fetchShoppingCard$=(0,qe.GW)(()=>this.actions$.pipe((0,qe.l4)(We.to),(0,$e.w)(()=>this.appStore.pipe((0,s.Ys)(Be.dy))),(0,ze.zg)(t=>this.userService.getShoppingCard(null==t?void 0:t.uid).pipe((0,Ze.U)(t=>(0,We.U9)({payload:t}))))))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(qe.eX),i.LFG(je._W),i.LFG(Ye.K),i.LFG(s.yh),i.LFG(Je.s))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();var tn=n(2694);let en=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&i._UZ(0,"router-outlet")},directives:[tn.lC],encapsulation:2}),t})();var nn=n(532);let rn=(()=>{class t{constructor(t){this.router=t}onReturnHome(){this.router.navigate(["/home"])}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(tn.F0))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-errorPage"]],decls:4,vars:0,consts:[[1,"text-center","p-5"],[1,"txt-yellow","p-5"],["label","Return to Home",3,"onClick"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"h1",1),i._uU(2,"Ooops!! this page doesn't exist!!!!"),i.qZA(),i.TgZ(3,"sb-button",2),i.NdJ("onClick",function(){return e.onReturnHome()}),i.qZA(),i.qZA())},directives:[nn.Z],encapsulation:2}),t})();var sn=n(7556);let on=(()=>{class t{constructor(t,e,n){this.toastr=t,this.router=e,this.authService=n}canLoad(){return this.authService.isUserAuth().pipe((0,Ke.b)(t=>{t||(this.toastr.error("You are not authorized to view this page, please log in first"),this.router.navigate(["/auth"]))}))}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(je._W),i.LFG(tn.F0),i.LFG(sn.e))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var an=n(5435),un=n(2996),cn=n(7519),ln=n(3998),hn=n(9761);let dn=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-news-subscribe"]],decls:11,vars:0,consts:[["id","newsSubscription"],[1,"ml-4"],[1,"txt","txt-1","mb-1"],[1,"txt","txt-2"],[1,"input-group","mb-3"],["type","text","placeholder","Enter your email","aria-label","Recipient's username","aria-describedby","basic-addon2",1,"form-control"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary"],[1,"icon","icon-delta","txt-gray-6"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"p",2),i._uU(3,"Do you want promotions and news about us?"),i.qZA(),i.TgZ(4,"p",3),i._uU(5,"SUBSCRIBE TO OUR NEWSLETTER"),i.qZA(),i.qZA(),i.TgZ(6,"div",4),i._UZ(7,"input",5),i.TgZ(8,"div",6),i.TgZ(9,"button",7),i._UZ(10,"li",8),i.qZA(),i.qZA(),i.qZA(),i.qZA())},styles:['.txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:.0625rem solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:.0625rem solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:.0625rem solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:.0625rem solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:.0625rem solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:.0625rem solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:.0625rem solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:.0625rem solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:.0625rem solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:.0625rem solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:.0625rem solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:.0625rem solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}#newsSubscription[_ngcontent-%COMP%]{left:28%;top:7.1875rem;z-index:1;width:39.5rem;height:11.875rem;padding:2.5rem;position:relative;border-radius:.625rem;background-color:#f2c94c;box-shadow:0 .25rem .5rem rgba(0,0,0,.149)}#newsSubscription[_ngcontent-%COMP%]   .txt[_ngcontent-%COMP%]{color:#333;font-style:normal;font-family:"Rowdies"}#newsSubscription[_ngcontent-%COMP%]   .txt-1[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:300}#newsSubscription[_ngcontent-%COMP%]   .txt-2[_ngcontent-%COMP%]{font-weight:normal;font-size:1.25rem;line-height:1.5625rem}#newsSubscription[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], #newsSubscription[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:3.125rem}#newsSubscription[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:5.9375rem;height:2.375rem;border-color:#219653;background-color:#219653}#newsSubscription[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .input-group-append[_ngcontent-%COMP%]{right:0;z-index:3;position:absolute}']}),t})();function fn(t,e){1&t&&i._UZ(0,"app-news-subscribe")}let pn=(()=>{class t{constructor(t){this.router=t,this.isAuthRoute$=this.router.events.pipe((0,an.h)(t=>t instanceof tn.m2),(0,hn.O)(null),(0,cn.x)(),(0,Ze.U)(()=>this.router.url.startsWith("/auth")))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(tn.F0))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-footer"]],decls:54,vars:3,consts:[[4,"ngIf"],[1,"footer"],[1,"row","footer-content"],[1,"our-info","col-md-4","col-12"],["href","/home"],["src","assets/images/Logo.svg","width","101px","height","101px",1,"logo"],[1,"txt-gray-1","pt-4"],[1,"row","media-icons","mx-1"],[1,"icon","col","cursor-pointer","icon-facebook"],[1,"icon","col","cursor-pointer","icon-twitter"],[1,"icon","col","cursor-pointer","icon-linkedin"],[1,"icon","col","cursor-pointer","icon-youtube"],[1,"icon","col","cursor-pointer","icon-instagram"],[1,"our-links","txt-white","col-12","col-md-2","mt-5"],[1,"list-group","pt-4"],[1,"pb-3"],["href","/menu"],[1,"pb-3","cursor-pointer"],[1,"stuff","txt-white","col-12","col-md-3","mt-5"],[1,"our-feed","txt-white","col-12","col-md-3","mt-5"],[1,"d-flex","flex-wrap"],["src","assets/images/ourfeed_1.png","width","68px","height","68px",1,"m-1"],["src","assets/images/ourfeed_2.png","width","68px","height","68px",1,"m-1"],["src","assets/images/ourfeed_3.png","width","68px","height","68px",1,"m-1"],["src","assets/images/ourfeed_4.png","width","68px","height","68px",1,"m-1"],["src","assets/images/ourfeed_5.png","width","68px","height","68px",1,"m-1"],["src","assets/images/ourfeed_6.png","width","68px","height","68px",1,"m-1"]],template:function(t,e){1&t&&(i.YNc(0,fn,1,0,"app-news-subscribe",0),i.ALo(1,"async"),i.TgZ(2,"footer",1),i.TgZ(3,"div",2),i.TgZ(4,"div",3),i.TgZ(5,"a",4),i._UZ(6,"img",5),i.qZA(),i.TgZ(7,"p",6),i._uU(8,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla nec scelerisque vulputate est iaculis bibendum curabitur."),i.qZA(),i.TgZ(9,"div",7),i._UZ(10,"li",8),i._UZ(11,"li",9),i._UZ(12,"li",10),i._UZ(13,"li",11),i._UZ(14,"li",12),i.qZA(),i.qZA(),i.TgZ(15,"div",13),i.TgZ(16,"h4"),i._uU(17,"Our Links"),i.qZA(),i.TgZ(18,"ul",14),i.TgZ(19,"li",15),i.TgZ(20,"a",16),i._uU(21,"Menu"),i.qZA(),i.qZA(),i.TgZ(22,"li",17),i.TgZ(23,"a"),i._uU(24,"Contact"),i.qZA(),i.qZA(),i.TgZ(25,"li",17),i.TgZ(26,"a"),i._uU(27,"About us"),i.qZA(),i.qZA(),i.TgZ(28,"li",17),i.TgZ(29,"a"),i._uU(30,"Help"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(31,"div",18),i.TgZ(32,"h4"),i._uU(33,"Important stuff!"),i.qZA(),i.TgZ(34,"ul",14),i.TgZ(35,"li",17),i.TgZ(36,"a"),i._uU(37,"Terms & Conditions"),i.qZA(),i.qZA(),i.TgZ(38,"li",17),i.TgZ(39,"a"),i._uU(40,"Privacy Policy"),i.qZA(),i.qZA(),i.TgZ(41,"li",17),i.TgZ(42,"a"),i._uU(43,"Careers"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(44,"div",19),i.TgZ(45,"h4"),i._uU(46,"Our Feed"),i.qZA(),i.TgZ(47,"div",20),i._UZ(48,"img",21),i._UZ(49,"img",22),i._UZ(50,"img",23),i._UZ(51,"img",24),i._UZ(52,"img",25),i._UZ(53,"img",26),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&i.Q6J("ngIf",!1===i.lcZ(1,1,e.isAuthRoute$))},directives:[Se.O5,dn],pipes:[Se.Ov],styles:[".txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:.0625rem solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:.0625rem solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:.0625rem solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:.0625rem solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:.0625rem solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:.0625rem solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:.0625rem solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:.0625rem solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:.0625rem solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:.0625rem solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:.0625rem solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:.0625rem solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:.0625rem solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:.0625rem solid #F2994A!important}.footer[_ngcontent-%COMP%]{height:28.1875rem;background-color:#f2994a;border-radius:0 21.25rem 0 0/0 17.8125rem 0 0;position:relative}.footer-content[_ngcontent-%COMP%]{top:6.3125rem;position:absolute}.footer-content[_ngcontent-%COMP%]   .our-info[_ngcontent-%COMP%]{padding:0 3% 0 9%}.footer-content[_ngcontent-%COMP%]   .our-info[_ngcontent-%COMP%]   .media-icons[_ngcontent-%COMP%]{width:83%;padding-top:1.25rem}.footer-content[_ngcontent-%COMP%]   .our-info[_ngcontent-%COMP%]   .media-icons[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding:0;color:#333;font-size:2.1875rem}.footer-content[_ngcontent-%COMP%]   .our-feed[_ngcontent-%COMP%]{max-width:22%;padding-right:.9375rem}.footer-content[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}.footer-content[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333}@media (max-width: 991.98px){.footer[_ngcontent-%COMP%]{height:auto}.footer-content[_ngcontent-%COMP%]{background-color:#f2994a;padding:0 .9375rem}.footer[_ngcontent-%COMP%]   .our-info[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:block;margin:auto}.footer[_ngcontent-%COMP%]   .our-links[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .our-feed[_ngcontent-%COMP%]{padding:inherit}}"]}),t})();const gn=[{path:"",redirectTo:"/auth/welcome",pathMatch:"full"},{path:"",component:(()=>{class t{constructor(t,e,n){this.router=t,this.authService=e,this.appStore=n,this.shoppingCartItemsCount$=this.appStore.pipe((0,s.Ys)(Be.SB),(0,$e.w)(t=>(0,Qe.of)((null==t?void 0:t.length)||0)))}activePathUrlSubscription(){this.activePathUrl$=this.router.events.pipe((0,an.h)(t=>!!t.url),(0,un.j)("url"),(0,cn.x)(),(0,Ze.U)(t=>`/${null==t?void 0:t.split("/")[1]}`))}setMenuItems(){this.menuItems=[{name:"Menu",url:"/menu"},{name:"About Us",url:"about-us"},{name:"Contact",url:"/contact"},{name:"Login / Sign up",url:"/auth"},{name:"Help",url:"/help"},{name:"",url:"/checkout",icon:"icon-shopping",showcount:!0}]}ngOnInit(){this.setMenuItems(),this.activePathUrlSubscription(),this.initUserStateListener()}initUserStateListener(){this.authService.initUserStateListener().subscribe(t=>{t&&this.activeUser(t)})}activeUser(t){this.appStore.dispatch(We.II({payload:{uid:t.uid,name:(null==t?void 0:t.displayName)||"",email:(null==t?void 0:t.email)||""}})),this.appStore.dispatch(We.to())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(tn.F0),i.Y36(sn.e),i.Y36(s.yh))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-layout"]],decls:9,vars:7,consts:[[1,"main-nav","position-relative"],["href","/home"],["src","assets/images/Logo.svg","width","121px","height","121px",1,"logo"],[1,"menu-container"],[3,"menuItems","linkActive","count"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"a",1),i._UZ(2,"img",2),i.qZA(),i.TgZ(3,"div",3),i._UZ(4,"sb-header",4),i.ALo(5,"async"),i.ALo(6,"async"),i.qZA(),i.qZA(),i._UZ(7,"router-outlet"),i._UZ(8,"app-footer")),2&t&&(i.xp6(4),i.Q6J("menuItems",e.menuItems)("linkActive",i.lcZ(5,3,e.activePathUrl$))("count",i.lcZ(6,5,e.shoppingCartItemsCount$)||0))},directives:[ln.Z,tn.lC,pn],pipes:[Se.Ov],styles:[".main-nav[_ngcontent-%COMP%]{display:flex;z-index:100}.main-nav[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:2.625rem;left:6.375rem;position:absolute}.main-nav[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{top:3.875rem;width:56%;right:8.25rem;position:absolute}@media (max-width: 61.9988rem){.main-nav[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:none}}"]}),t})(),children:[{path:"auth",loadChildren:()=>n.e(106).then(n.bind(n,106)).then(t=>t.AuthModule)},{path:"home",loadChildren:()=>Promise.all([n.e(143),n.e(728),n.e(592),n.e(399)]).then(n.bind(n,2399)).then(t=>t.HomeModule),canLoad:[on]},{path:"menu",loadChildren:()=>Promise.all([n.e(143),n.e(728),n.e(316)]).then(n.bind(n,9316)).then(t=>t.MenuModule),canLoad:[on]},{path:"checkout",loadChildren:()=>Promise.all([n.e(143),n.e(592),n.e(166)]).then(n.bind(n,6166)).then(t=>t.CheckoutModule),canLoad:[on]}]},{path:"**",component:rn}];let mn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[tn.Bz.forRoot(gn)],tn.Bz]}),t})();const yn={projectId:"the-good-pizza-club",appId:"1:705243269757:web:eac1dea0e1c7a1a690bf14",storageBucket:"the-good-pizza-club.appspot.com",locationId:"us-east1",apiKey:"AIzaSyCcAC85Z1L19XUe3o3UgR_NfAH5ST88IAE",authDomain:"the-good-pizza-club.firebaseapp.com",messagingSenderId:"705243269757"};var _n=n(127),vn=n(6643),bn=n(2329),wn=n(5869),Cn=n(209);n(3854),n(5452),n(5601),n(6034);class En{constructor(t){return t}}class Tn{constructor(){return(0,vn.vb)("auth")}}const Sn=new i.OlP("angularfire2.auth-instances");function In(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new En(r)}}const An={provide:Tn,deps:[[new i.FiY,Sn]]},On={provide:En,useFactory:function(t,e){const n=(0,vn.JM)("auth",t,e);return n&&new En(n)},deps:[[new i.FiY,Sn],_n.Ot]};let Dn=(()=>{class t{constructor(){(0,bn.KN)("angularfire",vn.q4.full,"auth")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[On,An]}),t})();function Pn(t,...e){return{ngModule:Dn,providers:[{provide:Sn,useFactory:In(t),multi:!0,deps:[i.R0b,i.zs3,vn.HU,_n.z6,[new i.FiY,wn.nm],...e]}]}}const kn=(0,vn.u3)(Cn.n,!0);var xn=n(1304);class Mn{constructor(t){return t}}const Fn="firestore",Rn=new i.OlP("angularfire2.firestore-instances");function Nn(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Mn(r)}}const Ln={provide:class{constructor(){return(0,vn.vb)(Fn)}},deps:[[new i.FiY,Rn]]},Un={provide:Mn,useFactory:function(t,e){const n=(0,vn.JM)(Fn,t,e);return n&&new Mn(n)},deps:[[new i.FiY,Rn],_n.Ot]};let Vn=(()=>{class t{constructor(){(0,bn.KN)("angularfire",vn.q4.full,"fst")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Un,Ln]}),t})();function jn(t,...e){return{ngModule:Vn,providers:[{provide:Rn,useFactory:Nn(t),multi:!0,deps:[i.R0b,i.zs3,vn.HU,_n.z6,[new i.FiY,Tn],[new i.FiY,wn.nm],...e]}]}}const Bn=(0,vn.u3)(xn.ad,!0);var qn=n(8939),zn=n(4466);let Zn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t,bootstrap:[en]}),t.\u0275inj=i.cJS({providers:[sn.e,Ye.K,on],imports:[[zn.m,r.b2,mn,je.Rh.forRoot(),Ve,s.Aw.forRoot({app:Be.I6}),qe.sQ.forRoot([Xe]),o.FT.instrument({maxAge:25,logOnly:true}),qn.hO.initializeApp(yn),(0,_n.hX)(()=>(0,_n.ZF)(yn)),Pn(()=>kn()),jn(()=>Bn())]]}),t})();(0,i.G48)(),r.q6().bootstrapModule(Zn).catch(t=>console.error(t))},4762:function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function i(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){t.done?i(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function o(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function u(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}n.d(e,{_T:function(){return r},mG:function(){return i},Jh:function(){return s},XA:function(){return o},CR:function(){return a},ev:function(){return u}})},8239:function(t,e,n){"use strict";function r(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var o=t.apply(e,n);function a(t){r(o,i,s,a,u,"next",t)}function u(t){r(o,i,s,a,u,"throw",t)}a(void 0)})}}n.d(e,{Z:function(){return i}})}},function(t){t(t.s=1496)}]);