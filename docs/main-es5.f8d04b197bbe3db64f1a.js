(function(){function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _get2(e,t,n){return(_get2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkthe_good_pizza_club=self.webpackChunkthe_good_pizza_club||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},7238:function(e,t,n){"use strict";n.d(t,{l3:function(){return a},_j:function(){return r},LC:function(){return i},ZN:function(){return d},jt:function(){return s},vP:function(){return u},SB:function(){return l},oB:function(){return c},eR:function(){return h},X$:function(){return o},ZE:function(){return p},k1:function(){return v}});var r=function e(){_classCallCheck(this,e)},i=function e(){_classCallCheck(this,e)},a="*";function o(e,t){return{type:7,name:e,definitions:t,options:{}}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function c(e){return{type:6,styles:e,offset:null}}function l(e,t,n){return{type:0,name:e,styles:t,options:n}}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function f(e){Promise.resolve(null).then(e)}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;f(function(){return e._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(e){this._position=this.totalTime?e*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),p=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,a=0,o=this.players.length;0==o?f(function(){return n._onFinish()}):this.players.forEach(function(e){e.onDone(function(){++r==o&&n._onFinish()}),e.onDestroy(function(){++i==o&&n._onDestroy()}),e.onStart(function(){++a==o&&n._onStart()})}),this.totalTime=this.players.reduce(function(e,t){return Math.max(e,t.totalTime)},0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(e){return e.init()})}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(e){return e.play()})}},{key:"pause",value:function(){this.players.forEach(function(e){return e.pause()})}},{key:"restart",value:function(){this.players.forEach(function(e){return e.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(e){return e.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(e){return e.destroy()}),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(e){return e.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach(function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}},{key:"getPosition",value:function(){var e=this.players.reduce(function(e,t){return null===e||t.totalTime>e.totalTime?t:e},null);return null!=e?e.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(e){e.beforeDestroy&&e.beforeDestroy()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),v="!"},8583:function(e,t,n){"use strict";n.d(t,{mr:function(){return b},Ov:function(){return J},ez:function(){return te},H9:function(){return ee},K0:function(){return c},Do:function(){return w},V_:function(){return f},Ye:function(){return x},S$:function(){return _},mk:function(){return j},sg:function(){return B},O5:function(){return z},PC:function(){return K},b0:function(){return C},lw:function(){return l},rS:function(){return X},EM:function(){return ae},JF:function(){return ue},NF:function(){return re},PM:function(){return ie},w_:function(){return u},bD:function(){return ne},q:function(){return a},Mx:function(){return U},HT:function(){return o}});var r=n(7716),i=null;function a(){return i}function o(e){i||(i=e)}var s,u=function e(){_classCallCheck(this,e)},c=new r.OlP("DocumentToken"),l=((s=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}()).\u0275fac=function(e){return new(e||s)},s.\u0275prov=(0,r.Yz7)({factory:h,token:s,providedIn:"platform"}),s);function h(){return(0,r.LFG)(d)}var f=new r.OlP("Location Initialized"),d=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){var t=a().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),function(){return t.removeEventListener("popstate",e)}}},{key:"onHashChange",value:function(e){var t=a().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),function(){return t.removeEventListener("hashchange",e)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){p()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){p()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(e)}},{key:"getState",value:function(){return this._history.state}}]),n}(l);return e.\u0275fac=function(t){return new(t||e)(r.LFG(c))},e.\u0275prov=(0,r.Yz7)({factory:v,token:e,providedIn:"platform"}),e}();function p(){return!!window.history.pushState}function v(){return new d((0,r.LFG)(c))}function g(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function y(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function m(e){return e&&"?"!==e[0]?"?"+e:e}var _=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:k,token:e,providedIn:"root"}),e}();function k(e){var t=(0,r.LFG)(c).location;return new C((0,r.LFG)(l),t&&t.origin||"")}var b=new r.OlP("appBaseHref"),C=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._removeListenerFns=[],null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return g(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(_);return e.\u0275fac=function(t){return new(t||e)(r.LFG(l),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e}(),w=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",i._removeListenerFns=[],null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=g(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(_);return e.\u0275fac=function(t){return new(t||e)(r.LFG(l),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e}(),x=function(){var e=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;var a=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=y(S(a)),this._platformStrategy.onPopState(function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})})}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+m(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,S(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformStrategy).historyGo)||void 0===t||t.call(e,n)}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.LFG(_),r.LFG(l))},e.normalizeQueryParams=m,e.joinWithSlash=g,e.stripTrailingSlash=y,e.\u0275prov=(0,r.Yz7)({factory:E,token:e,providedIn:"root"}),e}();function E(){return new x((0,r.LFG)(_),(0,r.LFG)(l))}function S(e){return e.replace(/\/index.html$/,"")}var T={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},I=((I=I||{})[I.Decimal=0]="Decimal",I[I.Percent=1]="Percent",I[I.Currency=2]="Currency",I[I.Scientific=3]="Scientific",I),A=((A=A||{})[A.Zero=0]="Zero",A[A.One=1]="One",A[A.Two=2]="Two",A[A.Few=3]="Few",A[A.Many=4]="Many",A[A.Other=5]="Other",A),O=((O=O||{})[O.Decimal=0]="Decimal",O[O.Group=1]="Group",O[O.List=2]="List",O[O.PercentSign=3]="PercentSign",O[O.PlusSign=4]="PlusSign",O[O.MinusSign=5]="MinusSign",O[O.Exponential=6]="Exponential",O[O.SuperscriptingExponent=7]="SuperscriptingExponent",O[O.PerMille=8]="PerMille",O[O.Infinity=9]="Infinity",O[O.NaN=10]="NaN",O[O.TimeSeparator=11]="TimeSeparator",O[O.CurrencyDecimal=12]="CurrencyDecimal",O[O.CurrencyGroup=13]="CurrencyGroup",O);function D(e,t){var n=(0,r.cg1)(e),i=n[r.wAp.NumberSymbols][t];if(void 0===i){if(t===O.CurrencyDecimal)return n[r.wAp.NumberSymbols][O.Decimal];if(t===O.CurrencyGroup)return n[r.wAp.NumberSymbols][O.Group]}return i}var R=r.kL8,P=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function F(e,t,n,i,a){var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],a=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=o[0],u=o[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var c=0;c<u.length;c++){var l=u.charAt(c);"0"===l?n.minFrac=n.maxFrac=c+1:"#"===l?n.maxFrac=c+1:n.posSuf+=l}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,a){var f=i.length-n.posPre.length-n.posSuf.length,d=a.indexOf("#");n.negPre=a.substr(0,d).replace(/'/g,""),n.negSuf=a.substr(d+f).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return(0,r.cg1)(e)[r.wAp.NumberFormats][t]}(t,I.Currency),D(t,O.MinusSign));return o.minFrac=function(e){var t,n=T[e];return n&&(t=n[2]),"number"==typeof t?t:2}(i),o.maxFrac=o.minFrac,function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",u=!1;if(isFinite(e)){var c=function(e){var t,n,r,i,a,o=Math.abs(e)+"",s=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;"0"===o.charAt(r);r++);if(r===(a=o.length))t=[0],n=1;else{for(a--;"0"===o.charAt(a);)a--;for(n-=r,t=[],i=0;r<=a;r++,i++)t[i]=Number(o.charAt(r))}return n>22&&(t=t.splice(0,21),s=n-1,n=1),{digits:t,exponent:s,integerLen:n}}(e);o&&(c=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));var l=t.minInt,h=t.minFrac,f=t.maxFrac;if(a){var d=a.match(P);if(null===d)throw new Error("".concat(a," is not a valid digit info"));var p=d[1],v=d[3],g=d[5];null!=p&&(l=N(p)),null!=v&&(h=N(v)),null!=g?f=N(g):null!=v&&h>f&&(f=h)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var r=e.digits,i=r.length-e.integerLen,a=Math.min(Math.max(t,i),n),o=a+e.integerLen,s=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(var u=o;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,o=a+1),r[0]=0;for(var c=1;c<o;c++)r[c]=0}if(s>=5)if(o-1<0){for(var l=0;l>o;l--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;i<Math.max(0,a);i++)r.push(0);var h=0!==a,f=t+e.integerLen,d=r.reduceRight(function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,h&&(0===r[n]&&n>=f?r.pop():h=!1),t>=10?1:0},0);d&&(r.unshift(d),e.integerLen++)}(c,h,f);var y=c.digits,m=c.integerLen,_=c.exponent,k=[];for(u=y.every(function(e){return!e});m<l;m++)y.unshift(0);for(;m<0;m++)y.unshift(0);m>0?k=y.splice(m,y.length):(k=y,y=[0]);var b=[];for(y.length>=t.lgSize&&b.unshift(y.splice(-t.lgSize,y.length).join(""));y.length>t.gSize;)b.unshift(y.splice(-t.gSize,y.length).join(""));y.length&&b.unshift(y.join("")),s=b.join(D(n,r)),k.length&&(s+=D(n,i)+k.join("")),_&&(s+=D(n,O.Exponential)+"+"+_)}else s=D(n,O.Infinity);return s=e<0&&!u?t.negPre+s+t.negSuf:t.posPre+s+t.posSuf}(e,o,t,O.CurrencyGroup,O.CurrencyDecimal,a).replace("\xa4",n).replace("\xa4","").trim()}function N(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var M=function e(){_classCallCheck(this,e)},L=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).locale=e,r}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(R(t||this.locale)(e)){case A.Zero:return"zero";case A.One:return"one";case A.Two:return"two";case A.Few:return"few";case A.Many:return"many";default:return"other"}}}]),n}(M);return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e}();function U(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.indexOf("="),o=_slicedToArray(-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],2),s=o[0],u=o[1];if(s.trim()===t)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var j=function(){var e=function(){function e(t,n,r,i){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat((0,r.AaK)(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),V=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),B=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(n){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat(function(e){return e.name||typeof e}(e),"'. NgFor only supports binding to Iterables such as Arrays."))}}if(this._differ){var t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,r,i){if(null==e.previousIndex){var a=t._viewContainer.createEmbeddedView(t._template,new V(null,t._ngForOf,-1,-1),null===i?void 0:i),o=new q(e,a);n.push(o)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new q(e,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,a=this._viewContainer.length;i<a;i++){var o=this._viewContainer.get(i);o.context.index=i,o.context.count=a,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),q=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},z=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new H,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Z("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Z("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),H=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function Z(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat((0,r.AaK)(t),"'."))}var K=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._ngEl=t,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return _createClass(e,[{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=_slicedToArray(e.split("."),2),r=n[0],i=n[1];null!=(t=null!=t&&i?"".concat(t).concat(i):t)?this._renderer.setStyle(this._ngEl.nativeElement,r,t):this._renderer.removeStyle(this._ngEl.nativeElement,r)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem(function(e){return t._setStyle(e.key,null)}),e.forEachAddedItem(function(e){return t._setStyle(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._setStyle(e.key,e.currentValue)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e}();function G(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat((0,r.AaK)(e),"'"))}var W=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Q=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createSubscription",value:function(e,t){return e.then(t,function(e){throw e})}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),Y=new W,J=function(){var e=function(){function e(t){_classCallCheck(this,e),this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})}},{key:"_selectStrategy",value:function(t){if((0,r.QGY)(t))return Q;if((0,r.F4k)(t))return Y;throw G(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.sBO,16))},e.\u0275pipe=r.Yjl({name:"async",type:e,pure:!1}),e}(),$=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,X=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(t){if(null==t)return null;if("string"!=typeof t)throw G(e,t);return t.replace($,function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=r.Yjl({name:"titlecase",type:e,pure:!0}),e}(),ee=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";_classCallCheck(this,e),this._locale=t,this._defaultCurrencyCode=n}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultCurrencyCode,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"symbol",a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!function(e){return!(null==e||""===e||e!=e)}(t))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");var s=n||this._defaultCurrencyCode;"code"!==i&&(s="symbol"===i||"symbol-narrow"===i?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",i=function(e){return(0,r.cg1)(e)[r.wAp.Currencies]}(n)[e]||T[e]||[],a=i[1];return"narrow"===t&&"string"==typeof a?a:i[0]||e}(s,"symbol"===i?"wide":"narrow",o):i);try{return F(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error("".concat(e," is not a number"));return e}(t),o,s,n,a)}catch(u){throw G(e,u.message)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16),r.Y36(r.EJc,16))},e.\u0275pipe=r.Yjl({name:"currency",type:e,pure:!0}),e}(),te=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:M,useClass:L}]}),e}(),ne="browser";function re(e){return e===ne}function ie(e){return"server"===e}var ae=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:function(){return new oe((0,r.LFG)(c),window)}}),e}(),oe=function(){function e(t,n){_classCallCheck(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function(e,t){var n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var a=i.shadowRoot;if(a){var o=a.getElementById(t)||a.querySelector('[name="'.concat(t,'"]'));if(o)return o}i=r.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=se(this.window.history)||se(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),e}();function se(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var ue=function e(){_classCallCheck(this,e)}},7716:function(e,t,n){"use strict";n.d(t,{deG:function(){return nn},tb:function(){return zu},AFp:function(){return Uu},ip1:function(){return Mu},CZH:function(){return Lu},hGG:function(){return Nc},z2F:function(){return Ec},sBO:function(){return Fs},Sil:function(){return ec},_Vd:function(){return is},EJc:function(){return Ku},SBq:function(){return us},qLn:function(){return Sr},vpe:function(){return gu},gxx:function(){return da},tBr:function(){return An},XFs:function(){return O},OlP:function(){return tn},zs3:function(){return Ia},ZZ4:function(){return Ts},aQg:function(){return As},soG:function(){return Zu},YKP:function(){return zs},v3s:function(){return Tc},h0i:function(){return qs},PXZ:function(){return kc},R0b:function(){return rc},FiY:function(){return On},Lbi:function(){return qu},g9A:function(){return Bu},Qsj:function(){return hs},FYo:function(){return ls},JOm:function(){return Or},Tiy:function(){return ds},q3G:function(){return yr},PiD:function(){return Dn},tp0:function(){return Rn},EAV:function(){return Oc},Rgc:function(){return js},dDg:function(){return lc},DyG:function(){return rn},q4F:function(){return vs},GfV:function(){return ps},s_b:function(){return Zs},ifc:function(){return N},eFA:function(){return bc},G48:function(){return mc},Gpc:function(){return d},X6Q:function(){return yc},_c5:function(){return Pc},VLi:function(){return fc},c2e:function(){return Hu},zSh:function(){return va},wAp:function(){return Zo},vHH:function(){return g},EiD:function(){return vr},mCW:function(){return Xn},qzn:function(){return qn},JVY:function(){return Hn},pB0:function(){return Wn},eBb:function(){return Kn},L6k:function(){return Zn},LAX:function(){return Gn},cg1:function(){return qo},Tjo:function(){return Rc},kL8:function(){return zo},yhl:function(){return zn},dqk:function(){return V},sIi:function(){return Ua},CqO:function(){return io},QGY:function(){return no},F4k:function(){return ro},RDi:function(){return xe},AaK:function(){return l},z3N:function(){return Bn},qOj:function(){return Oa},TTD:function(){return ye},_Bn:function(){return ts},xp6:function(){return yi},uIk:function(){return za},Tol:function(){return bo},Gre:function(){return Mo},ekj:function(){return ko},Suo:function(){return Ou},Xpm:function(){return J},lG2:function(){return ie},Yz7:function(){return k},cJS:function(){return b},oAB:function(){return te},Yjl:function(){return ae},Y36:function(){return Ga},_UZ:function(){return $a},BQk:function(){return eo},ynx:function(){return Xa},qZA:function(){return Ja},TgZ:function(){return Ya},EpF:function(){return to},n5z:function(){return Yt},Ikx:function(){return Lo},LFG:function(){return Cn},$8M:function(){return $t},NdJ:function(){return ao},CRH:function(){return Du},oxw:function(){return uo},ALo:function(){return lu},lcZ:function(){return hu},gM2:function(){return fu},Hsn:function(){return ho},F$t:function(){return lo},Q6J:function(){return Wa},DdM:function(){return au},VKq:function(){return ou},WLB:function(){return su},iGM:function(){return Iu},MAs:function(){return Ka},Jf7:function(){return Ir},CHM:function(){return ze},oJD:function(){return mr},LSH:function(){return _r},kYT:function(){return ne},Udp:function(){return _o},d8E:function(){return Uo},YNc:function(){return Za},W1O:function(){return Nu},_uU:function(){return Po},Oqu:function(){return Fo},hij:function(){return No},Gf:function(){return Au}});var r=n(9765),i=n(5319),a=n(8891),o=n(6682),s=n(8819);function u(e){for(var t in e)if(e[t]===u)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function l(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(l).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var f=u({__forward_ref__:u});function d(e){return e.__forward_ref__=d,e.toString=function(){return l(this())},e}function p(e){return v(e)?e():e}function v(e){return"function"==typeof e&&e.hasOwnProperty(f)&&e.__forward_ref__===d}var g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,function(e,t){return"".concat(e?"NG0".concat(e,": "):"").concat(t)}(e,r))).code=e,i}return n}(_wrapNativeSuper(Error));function y(e){return"string"==typeof e?e:null==e?"":String(e)}function m(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():y(e)}function _(e,t){var n=t?" in ".concat(t):"";throw new g("201","No provider for ".concat(m(e)," found").concat(n))}function k(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function b(e){return{providers:e.providers||[],imports:e.imports||[]}}function C(e){return w(e,S)||w(e,I)}function w(e,t){return e.hasOwnProperty(t)?e[t]:null}function x(e){return e&&(e.hasOwnProperty(T)||e.hasOwnProperty(A))?e[T]:null}var E,S=u({"\u0275prov":u}),T=u({"\u0275inj":u}),I=u({ngInjectableDef:u}),A=u({ngInjectorDef:u}),O=((O=O||{})[O.Default=0]="Default",O[O.Host=1]="Host",O[O.Self=2]="Self",O[O.SkipSelf=4]="SkipSelf",O[O.Optional=8]="Optional",O);function D(e){var t=E;return E=e,t}function R(e,t,n){var r=C(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&O.Optional?null:void 0!==t?t:void _(l(e),"Injector")}function P(e){return{toString:e}.toString()}var F=((F=F||{})[F.OnPush=0]="OnPush",F[F.Default=1]="Default",F),N=((N=N||{})[N.Emulated=0]="Emulated",N[N.None=2]="None",N[N.ShadowDom=3]="ShadowDom",N),M="undefined"!=typeof globalThis&&globalThis,L="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,V=M||j||L||U,B={},q=[],z=u({"\u0275cmp":u}),H=u({"\u0275dir":u}),Z=u({"\u0275pipe":u}),K=u({"\u0275mod":u}),G=u({"\u0275loc":u}),W=u({"\u0275fac":u}),Q=u({__NG_ELEMENT_ID__:u}),Y=0;function J(e){return P(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===F.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||q,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||N.Emulated,id:"c",styles:e.styles||q,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,a=e.pipes;return n.id+=Y++,n.inputs=re(e.inputs,t),n.outputs=re(e.outputs),i&&i.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map($)}:null,n.pipeDefs=a?function(){return("function"==typeof a?a():a).map(X)}:null,n})}function $(e){return oe(e)||function(e){return e[H]||null}(e)}function X(e){return function(e){return e[Z]||null}(e)}var ee={};function te(e){return P(function(){var t={type:e.type,bootstrap:e.bootstrap||q,declarations:e.declarations||q,imports:e.imports||q,exports:e.exports||q,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ee[e.id]=e.type),t})}function ne(e,t){return P(function(){var n=se(e,!0);n.declarations=t.declarations||q,n.imports=t.imports||q,n.exports=t.exports||q})}function re(e,t){if(null==e)return B;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),n[i]=r,t&&(t[i]=a)}return n}var ie=J;function ae(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function oe(e){return e[z]||null}function se(e,t){var n=e[K]||null;if(!n&&!0===t)throw new Error("Type ".concat(l(e)," does not have '\u0275mod' property."));return n}function ue(e){return Array.isArray(e)&&"object"==typeof e[1]}function ce(e){return Array.isArray(e)&&!0===e[1]}function le(e){return 0!=(8&e.flags)}function he(e){return 2==(2&e.flags)}function fe(e){return 1==(1&e.flags)}function de(e){return null!==e.template}function pe(e){return 0!=(512&e[2])}function ve(e,t){return e.hasOwnProperty(W)?e[W]:null}var ge=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function ye(){return me}function me(e){return e.type.prototype.ngOnChanges&&(e.setInput=ke),_e}function _e(){var e=we(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===B)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function ke(e,t,n,r){var i=we(e)||function(e,t){return e[Ce]=t}(e,{previous:B,current:null}),a=i.current||(i.current={}),o=i.previous,s=this.declaredInputs[n],u=o[s];a[s]=new ge(u&&u.currentValue,t,o===B),e[r]=t}ye.ngInherit=!0;var be,Ce="__ngSimpleChanges__";function we(e){return e[Ce]||null}function xe(e){be=e}function Ee(){return void 0!==be?be:"undefined"!=typeof document?document:void 0}function Se(e){return!!e.listen}var Te={createRenderer:function(e,t){return Ee()}};function Ie(e){for(;Array.isArray(e);)e=e[0];return e}function Ae(e,t){return Ie(t[e])}function Oe(e,t){return Ie(t[e.index])}function De(e,t){return e.data[t]}function Re(e,t){return e[t]}function Pe(e,t){var n=t[e];return ue(n)?n:n[0]}function Fe(e){return 4==(4&e[2])}function Ne(e){return 128==(128&e[2])}function Me(e,t){return null==t?null:e[t]}function Le(e){e[18]=0}function Ue(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var je={lFrame:ct(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ve(){return je.bindingsEnabled}function Be(){return je.lFrame.lView}function qe(){return je.lFrame.tView}function ze(e){return je.lFrame.contextLView=e,e[8]}function He(){for(var e=Ze();null!==e&&64===e.type;)e=e.parent;return e}function Ze(){return je.lFrame.currentTNode}function Ke(e,t){var n=je.lFrame;n.currentTNode=e,n.isParent=t}function Ge(){return je.lFrame.isParent}function We(){je.lFrame.isParent=!1}function Qe(){return je.isInCheckNoChangesMode}function Ye(e){je.isInCheckNoChangesMode=e}function Je(){var e=je.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function $e(){return je.lFrame.bindingIndex++}function Xe(e){var t=je.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function et(e,t){var n=je.lFrame;n.bindingIndex=n.bindingRootIndex=e,tt(t)}function tt(e){je.lFrame.currentDirectiveIndex=e}function nt(e){var t=je.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function rt(){return je.lFrame.currentQueryIndex}function it(e){je.lFrame.currentQueryIndex=e}function at(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ot(e,t,n){if(n&O.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&O.Host||(r=at(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;t=r,e=i}var a=je.lFrame=ut();return a.currentTNode=t,a.lView=e,!0}function st(e){var t=ut(),n=e[1];je.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ut(){var e=je.lFrame,t=null===e?null:e.child;return null===t?ct(e):t}function ct(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function lt(){var e=je.lFrame;return je.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var ht=lt;function ft(){var e=lt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function dt(){return je.lFrame.selectedIndex}function pt(e){je.lFrame.selectedIndex=e}function vt(){var e=je.lFrame;return De(e.tView,e.selectedIndex)}function gt(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,a=i.ngAfterContentInit,o=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;a&&(e.contentHooks||(e.contentHooks=[])).push(-n,a),o&&((e.contentHooks||(e.contentHooks=[])).push(n,o),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,o)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function yt(e,t,n){kt(e,t,3,n)}function mt(e,t,n,r){(3&e[2])===n&&kt(e,t,n,r)}function _t(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function kt(e,t,n,r){for(var i=null!=r?r:-1,a=t.length-1,o=0,s=void 0!==r?65535&e[18]:0;s<a;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=r&&o>=r)break}else t[s]<0&&(e[18]+=65536),(o<i||-1==i)&&(bt(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function bt(e,t,n,r){var i=n[r]<0,a=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(o)}finally{}}}else try{a.call(o)}finally{}}var Ct=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function wt(e,t,n){for(var r=Se(e),i=0;i<n.length;){var a=n[i];if("number"==typeof a){if(0!==a)break;i++;var o=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,o):t.setAttributeNS(o,s,u)}else{var c=a,l=n[++i];Et(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function xt(e){return 3===e||4===e||6===e}function Et(e){return 64===e.charCodeAt(0)}function St(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Tt(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Tt(e,t,n,r,i){var a=0,o=e.length;if(-1===t)o=-1;else for(;a<e.length;){var s=e[a++];if("number"==typeof s){if(s===t){o=-1;break}if(s>t){o=a-1;break}}}for(;a<e.length;){var u=e[a];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==o&&(e.splice(o,0,t),a=o+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}function It(e){return-1!==e}function At(e){return 32767&e}function Ot(e,t){for(var n=function(e){return e>>16}(e),r=t;n>0;)r=r[15],n--;return r}var Dt=!0;function Rt(e){var t=Dt;return Dt=e,t}var Pt=0;function Ft(e,t){var n=Mt(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Nt(r.data,e),Nt(t,null),Nt(r.blueprint,null));var i=Lt(e,t),a=e.injectorIndex;if(It(i))for(var o=At(i),s=Ot(i,t),u=s[1].data,c=0;c<8;c++)t[a+c]=s[o+c]|u[o+c];return t[a+8]=i,a}function Nt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Mt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Lt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var a=i[1],o=a.type;if(null===(r=2===o?a.declTNode:1===o?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ut(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Pt++);var i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function jt(e,t,n){if(n&O.Optional)return e;_(t,"NodeInjector")}function Vt(e,t,n,r){if(n&O.Optional&&void 0===r&&(r=null),0==(n&(O.Self|O.Host))){var i=e[9],a=D(void 0);try{return i?i.get(t,r,n&O.Optional):R(t,r,n&O.Optional)}finally{D(a)}}return jt(r,t,n)}function Bt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var a=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(Q)?e[Q]:void 0;return"number"==typeof t?t>=0?255&t:zt:t}(n);if("function"==typeof a){if(!ot(t,e,r))return r&O.Host?jt(i,n,r):Vt(t,n,r,i);try{var o=a(r);if(null!=o||r&O.Optional)return o;_(n)}finally{ht()}}else if("number"==typeof a){var s=null,u=Mt(e,t),c=-1,l=r&O.Host?t[16][6]:null;for((-1===u||r&O.SkipSelf)&&(-1!==(c=-1===u?Lt(e,t):t[u+8])&&Wt(r,!1)?(s=t[1],u=At(c),t=Ot(c,t)):u=-1);-1!==u;){var h=t[1];if(Gt(a,u,h.data)){var f=Ht(u,t,n,s,r,l);if(f!==qt)return f}-1!==(c=t[u+8])&&Wt(r,t[1].data[u+8]===l)&&Gt(a,u,t)?(s=h,u=At(c),t=Ot(c,t)):u=-1}}}return Vt(t,n,r,i)}var qt={};function zt(){return new Qt(He(),Be())}function Ht(e,t,n,r,i,a){var o=t[1],s=o.data[e+8],u=Zt(s,o,n,null==r?he(s)&&Dt:r!=o&&0!=(3&s.type),i&O.Host&&a===s);return null!==u?Kt(t,o,u,s):qt}function Zt(e,t,n,r,i){for(var a=e.providerIndexes,o=t.data,s=1048575&a,u=e.directiveStart,c=a>>20,l=i?s+c:e.directiveEnd,h=r?s:s+c;h<l;h++){var f=o[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=o[u];if(d&&de(d)&&d.type===n)return u}return null}function Kt(e,t,n,r){var i=e[n],a=t.data;if(function(e){return e instanceof Ct}(i)){var o=i;o.resolving&&function(e,t){throw new g("200","Circular dependency in DI detected for ".concat(e))}(m(a[n]));var s=Rt(o.canSeeViewProviders);o.resolving=!0;var u=o.injectImpl?D(o.injectImpl):null;ot(e,r,O.Default);try{i=e[n]=o.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,i=r.ngOnChanges,a=r.ngOnInit,o=r.ngDoCheck;if(i){var s=me(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,a[n],t)}finally{null!==u&&D(u),Rt(s),o.resolving=!1,ht()}}return i}function Gt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Wt(e,t){return!(e&O.Self||e&O.Host&&t)}var Qt=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return Bt(this._tNode,this._lView,e,void 0,t)}}]),e}();function Yt(e){return P(function(){for(var t=e.prototype.constructor,n=t[W]||Jt(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var a=i[W]||Jt(i);if(a&&a!==n)return a;i=Object.getPrototypeOf(i)}return function(e){return new e}})}function Jt(e){return v(e)?function(){var t=Jt(p(e));return t&&t()}:ve(e)}function $t(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var a=n[i];if(xt(a))break;if(0===a)i+=2;else if("number"==typeof a)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(a===t)return n[i+1];i+=2}}return null}(He(),e)}var Xt="__parameters__";function en(e,t,n){return P(function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var a=_construct(i,t);return o.annotation=a,o;function o(e,t,n){for(var r=e.hasOwnProperty(Xt)?e[Xt]:Object.defineProperty(e,Xt,{value:[]})[Xt];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var tn=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),nn=new tn("AnalyzeForEntryComponents"),rn=Function;function an(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),an(r,t)):t!==e&&t.push(r)}return t}function on(e,t){e.forEach(function(e){return Array.isArray(e)?on(e,t):t(e)})}function sn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function un(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function cn(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function ln(e,t,n){var r=fn(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function hn(e,t){var n=fn(e,t);if(n>=0)return e[1|n]}function fn(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var a=r+(i-r>>1),o=e[a<<1];if(t===o)return a<<1;o>t?i=a:r=a+1}return~(i<<1)}(e,t)}var dn,pn={},vn="__NG_DI_FLAG__",gn="ngTempTokenPath",yn=/\n/gm,mn="__source",_n=u({provide:String,useValue:u});function kn(e){var t=dn;return dn=e,t}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.Default;if(void 0===dn)throw new Error("inject() must be called from an injection context");return null===dn?R(e,void 0,t):dn.get(e,t&O.Optional?null:void 0,t)}function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.Default;return(E||bn)(p(e),t)}function wn(e){for(var t=[],n=0;n<e.length;n++){var r=p(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,a=O.Default,o=0;o<r.length;o++){var s=r[o],u=En(s);"number"==typeof u?-1===u?i=s.token:a|=u:i=s}t.push(Cn(i,a))}else t.push(Cn(r))}return t}function xn(e,t){return e[vn]=t,e.prototype[vn]=t,e}function En(e){return e[vn]}function Sn(e,t,n,r){var i=e[gn];throw t[mn]&&i.unshift(t[mn]),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=l(t);if(Array.isArray(t))i=t.map(l).join(" -> ");else if("object"==typeof t){var a=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):l(s)))}i="{".concat(a.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(yn,"\n  "))}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[gn]=null,e}var Tn,In,An=xn(en("Inject",function(e){return{token:e}}),-1),On=xn(en("Optional"),8),Dn=xn(en("Self"),2),Rn=xn(en("SkipSelf"),4);function Pn(e){var t;return(null===(t=function(){if(void 0===Tn&&(Tn=null,V.trustedTypes))try{Tn=V.trustedTypes.createPolicy("angular",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(e){}return Tn}())||void 0===t?void 0:t.createHTML(e))||e}function Fn(e){var t;return(null===(t=function(){if(void 0===In&&(In=null,V.trustedTypes))try{In=V.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(e){return e},createScript:function(e){return e},createScriptURL:function(e){return e}})}catch(e){}return In}())||void 0===t?void 0:t.createHTML(e))||e}var Nn=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),e}(),Mn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Nn),Ln=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Nn),Un=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Nn),jn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Nn),Vn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Nn);function Bn(e){return e instanceof Nn?e.changingThisBreaksApplicationSecurity:e}function qn(e,t){var n=zn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}function zn(e){return e instanceof Nn&&e.getTypeName()||null}function Hn(e){return new Mn(e)}function Zn(e){return new Ln(e)}function Kn(e){return new Un(e)}function Gn(e){return new jn(e)}function Wn(e){return new Vn(e)}var Qn=function(){function e(t){_classCallCheck(this,e),this.inertDocumentHelper=t}return _createClass(e,[{key:"getInertBodyElement",value:function(e){e="<body><remove></remove>"+e;try{var t=(new window.DOMParser).parseFromString(Pn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}]),e}(),Yn=function(){function e(t){if(_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return _createClass(e,[{key:"getInertBodyElement",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Pn(e),t;var n=this.inertDocument.createElement("body");return n.innerHTML=Pn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;("xmlns:ns1"===r||0===r.indexOf("ns1:"))&&e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$n=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(e){return(e=String(e)).match(Jn)||e.match($n)?e:"unsafe:"+e}function er(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function tr(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];for(var s in o)o.hasOwnProperty(s)&&(e[s]=!0)}return e}var nr,rr=er("area,br,col,hr,img,wbr"),ir=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ar=er("rp,rt"),or=tr(rr,tr(ir,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tr(ar,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tr(ar,ir)),sr=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ur=er("srcset"),cr=tr(sr,ur,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=er("script,style,template"),hr=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!or.hasOwnProperty(t))return this.sanitizedSomething=!0,!lr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var a=r.item(i),o=a.name,s=o.toLowerCase();if(cr.hasOwnProperty(s)){var u=a.value;sr[s]&&(u=Xn(u)),ur[s]&&(n=u,u=(n=String(n)).split(",").map(function(e){return Xn(e.trim())}).join(", ")),this.buf.push(" ",o,'="',pr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();or.hasOwnProperty(t)&&!rr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(pr(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function pr(e){return e.replace(/&/g,"&amp;").replace(fr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function vr(e,t){var n=null;try{nr=nr||function(e){var t=new Yn(e);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(e){return!1}}()?new Qn(t):t}(e);var r=t?String(t):"";n=nr.getInertBodyElement(r);var i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=n.innerHTML,n=nr.getInertBodyElement(r)}while(r!==a);return Pn((new hr).sanitizeChildren(gr(n)||n))}finally{if(n)for(var o=gr(n)||n;o.firstChild;)o.removeChild(o.firstChild)}}function gr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var yr=((yr=yr||{})[yr.NONE=0]="NONE",yr[yr.HTML=1]="HTML",yr[yr.STYLE=2]="STYLE",yr[yr.SCRIPT=3]="SCRIPT",yr[yr.URL=4]="URL",yr[yr.RESOURCE_URL=5]="RESOURCE_URL",yr);function mr(e){var t=kr();return t?Fn(t.sanitize(yr.HTML,e)||""):qn(e,"HTML")?Fn(Bn(e)):vr(Ee(),y(e))}function _r(e){var t=kr();return t?t.sanitize(yr.URL,e)||"":qn(e,"URL")?Bn(e):Xn(y(e))}function kr(){var e=Be();return e&&e[12]}var br="__ngContext__";function Cr(e,t){e[br]=t}function wr(e){var t=function(e){return e[br]||null}(e);return t?Array.isArray(t)?t:t.lView:null}function xr(e){return e.ngOriginalError}function Er(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Sr=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t,n=this._findOriginalError(e),r=this._findContext(e),i=(t=e)&&t.ngErrorLogger||Er;i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}},{key:"_findContext",value:function(e){return e?e.ngDebugContext||this._findContext(xr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=e&&xr(e);t&&xr(t);)t=xr(t);return t||null}}]),e}(),Tr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V);function Ir(e){return e.ownerDocument.defaultView}function Ar(e){return e instanceof Function?e():e}var Or=((Or=Or||{})[Or.Important=1]="Important",Or[Or.DashCase=2]="DashCase",Or);function Dr(e,t){return(void 0)(e,t)}function Rr(e){var t=e[3];return ce(t)?t[3]:t}function Pr(e){return Nr(e[13])}function Fr(e){return Nr(e[4])}function Nr(e){for(;null!==e&&!ce(e);)e=e[4];return e}function Mr(e,t,n,r,i){if(null!=r){var a,o=!1;ce(r)?a=r:ue(r)&&(o=!0,r=r[0]);var s=Ie(r);0===e&&null!==n?null==i?Hr(t,n,s):zr(t,n,s,i||null,!0):1===e&&null!==n?zr(t,n,s,i||null,!0):2===e?function(e,t,n){var r=Kr(e,t);r&&function(e,t,n,r){Se(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,o):3===e&&t.destroyNode(s),null!=a&&function(e,t,n,r,i){var a=n[7];a!==Ie(n)&&Mr(t,e,r,a,i);for(var o=10;o<n.length;o++){var s=n[o];ei(s[1],s,e,t,r,a)}}(t,e,a,n,i)}}function Lr(e,t,n){return Se(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ur(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Ue(i,-1)),n.splice(r,1)}function jr(e,t){if(!(e.length<=10)){var n=10+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Ur(i,r),t>0&&(e[n-1][4]=r[4]);var a=un(e,10+t);!function(e,t){ei(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);var o=a[19];null!==o&&o.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Vr(e,t){if(!(256&t[2])){var n=t[11];Se(n)&&n.destroyNode&&ei(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Br(e[1],e);for(;t;){var n=null;if(ue(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)ue(t)&&Br(t[1],t),t=t[3];null===t&&(t=e),ue(t)&&Br(t[1],t),n=t&&t[4]}t=n}}(t)}}function Br(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof Ct)){var a=n[r+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=i[a[o]],u=a[o+1];try{u.call(s)}finally{}}else try{a.call(i)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){var o=n[a+1],s="function"==typeof o?o(t):Ie(t[o]),u=r[i=n[a+2]],c=n[a+3];"boolean"==typeof c?s.removeEventListener(n[a],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),a+=2}else{var l=r[i=n[a+1]];n[a].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)r[h]();t[7]=null}}(e,t),1===t[1].type&&Se(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&ce(t[3])){n!==t[3]&&Ur(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function qr(e,t,n){return function(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===N.None||i===N.Emulated)return null}return Oe(r,n)}(e,t.parent,n)}function zr(e,t,n,r,i){Se(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Hr(e,t,n){Se(e)?e.appendChild(t,n):t.appendChild(n)}function Zr(e,t,n,r,i){null!==r?zr(e,t,n,r,i):Hr(e,t,n)}function Kr(e,t){return Se(e)?e.parentNode(t):t.parentNode}function Gr(e,t,n){return Wr(e,t,n)}var Wr=function(e,t,n){return 40&e.type?Oe(e,n):null};function Qr(e,t,n,r){var i=qr(e,r,t),a=t[11],o=Gr(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)Zr(a,i,n[s],o,!1);else Zr(a,i,n,o,!1)}function Yr(e,t){if(null!==t){var n=t.type;if(3&n)return Oe(t,e);if(4&n)return $r(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return Yr(e,r);var i=e[t.index];return ce(i)?$r(-1,i):Ie(i)}if(32&n)return Dr(t,e)()||Ie(e[t.index]);var a=Jr(e,t);return null!==a?Array.isArray(a)?a[0]:Yr(Rr(e[16]),a):Yr(e,t.next)}return null}function Jr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function $r(e,t){var n=10+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return Yr(r,i)}return t[7]}function Xr(e,t,n,r,i,a,o){for(;null!=n;){var s=r[n.index],u=n.type;if(o&&0===t&&(s&&Cr(Ie(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)Xr(e,t,n.child,r,i,a,!1),Mr(t,e,i,s,a);else if(32&u){for(var c=Dr(n,r),l=void 0;l=c();)Mr(t,e,i,l,a);Mr(t,e,i,s,a)}else 16&u?ti(e,t,r,n,i,a):Mr(t,e,i,s,a);n=o?n.projectionNext:n.next}}function ei(e,t,n,r,i,a){Xr(n,r,e.firstChild,t,i,a,!1)}function ti(e,t,n,r,i,a){var o=n[16],s=o[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Mr(t,e,i,s[u],a);else Xr(e,t,s,o[3],i,a,!0)}function ni(e,t,n){Se(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function ri(e,t,n){Se(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function ii(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}var ai="ng-template";function oi(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==ii((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function si(e){return 4===e.type&&e.value!==ai}function ui(e,t,n){return t===(4!==e.type||n?e.value:ai)}function ci(e,t,n){for(var r=4,i=e.attrs||[],a=function(e){for(var t=0;t<e.length;t++)if(xt(e[t]))return t;return e.length}(i),o=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ui(e,u,n)||""===u&&1===t.length){if(li(r))return!1;o=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!oi(e.attrs,c,n)){if(li(r))return!1;o=!0}continue}var l=hi(8&r?"class":u,i,si(e),n);if(-1===l){if(li(r))return!1;o=!0;continue}if(""!==c){var h;h=l>a?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==ii(f,c,0)||2&r&&c!==h){if(li(r))return!1;o=!0}}}}else{if(!o&&!li(r)&&!li(u))return!1;if(o&&li(u))continue;o=!1,r=u|1&r}}return li(r)||o}function li(e){return 0==(1&e)}function hi(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var a=!1;i<t.length;){var o=t[i];if(o===e)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function fi(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(ci(e,t[r],n))return!0;return!1}function di(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function pi(e,t){return e?":not("+t.trim()+")":t}function vi(e){for(var t=e[0],n=1,r=2,i="",a=!1;n<e.length;){var o=e[n];if("string"==typeof o)if(2&r){var s=e[++n];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!li(o)&&(t+=pi(a,i),i=""),r=o,a=a||!li(r);n++}return""!==i&&(t+=pi(a,i)),t}var gi={};function yi(e){mi(qe(),Be(),dt()+e,Qe())}function mi(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&yt(t,i,n)}else{var a=e.preOrderHooks;null!==a&&mt(t,a,0,n)}pt(n)}function _i(e,t){return e<<17|t<<2}function ki(e){return e>>17&32767}function bi(e){return 2|e}function Ci(e){return(131068&e)>>2}function wi(e,t){return-131069&e|t<<2}function xi(e){return 1|e}function Ei(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1];if(-1!==a){var o=e.data[a];it(i),o.contentQueries(2,t[a],a)}}}function Si(e,t,n,r,i,a,o,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Le(l),l[3]=l[15]=e,l[8]=n,l[10]=o||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=a,l[16]=2==t.type?e[16]:l,l}function Ti(e,t,n,r,i){var a=e.data[t];if(null===a)a=function(e,t,n,r,i){var a=Ze(),o=Ge(),s=e.data[t]=function(e,t,n,r,i,a){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=s),null!==a&&(o?null==a.child&&null!==s.parent&&(a.child=s):null===a.next&&(a.next=s)),s}(e,t,n,r,i),je.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;var o=function(){var e=je.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return Ke(a,!0),a}function Ii(e,t,n,r){if(0===n)return-1;for(var i=t.length,a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ai(e,t,n){st(t);try{var r=e.viewQuery;null!==r&&aa(1,r,n);var i=e.template;null!==i&&Ri(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ei(e,t),e.staticViewQueries&&aa(2,e.viewQuery,n);var a=e.components;null!==a&&function(e,t){for(var n=0;n<t.length;n++)ea(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,ft()}}function Oi(e,t,n,r){var i=t[2];if(256!=(256&i)){st(t);var a=Qe();try{Le(t),function(e){je.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Ri(e,t,n,2,r);var o=3==(3&i);if(!a)if(o){var s=e.preOrderCheckHooks;null!==s&&yt(t,s,null)}else{var u=e.preOrderHooks;null!==u&&mt(t,u,0,null),_t(t,0)}if(function(e){for(var t=Pr(e);null!==t;t=Fr(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r],a=i[3];0==(1024&i[2])&&Ue(a,1),i[2]|=1024}}(t),function(e){for(var t=Pr(e);null!==t;t=Fr(t))for(var n=10;n<t.length;n++){var r=t[n],i=r[1];Ne(r)&&Oi(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Ei(e,t),!a)if(o){var c=e.contentCheckHooks;null!==c&&yt(t,c)}else{var l=e.contentHooks;null!==l&&mt(t,l,1),_t(t,1)}!function(e,t){var n=e.hostBindingOpCodes;if(null!==n)try{for(var r=0;r<n.length;r++){var i=n[r];if(i<0)pt(~i);else{var a=i,o=n[++r],s=n[++r];et(o,a),s(2,t[a])}}}finally{pt(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)$i(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&aa(2,f,r),!a)if(o){var d=e.viewCheckHooks;null!==d&&yt(t,d)}else{var p=e.viewHooks;null!==p&&mt(t,p,2),_t(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),a||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ue(t[3],-1))}finally{ft()}}}function Di(e,t,n,r){var i=t[10],a=!Qe(),o=Fe(t);try{a&&!o&&i.begin&&i.begin(),o&&Ai(e,t,r),Oi(e,t,n,r)}finally{a&&!o&&i.end&&i.end()}}function Ri(e,t,n,r,i){var a=dt(),o=2&r;try{pt(-1),o&&t.length>20&&mi(e,t,20,Qe()),n(r,i)}finally{pt(a)}}function Pi(e,t,n){if(le(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var a=e.data[i];a.contentQueries&&a.contentQueries(1,n[i],i)}}function Fi(e,t,n){!Ve()||(function(e,t,n,r){var i=n.directiveStart,a=n.directiveEnd;e.firstCreatePass||Ft(n,t),Cr(r,t);for(var o=n.initialInputs,s=i;s<a;s++){var u=e.data[s],c=de(u);c&&Wi(t,n,u);var l=Kt(t,e,s,n);Cr(l,t),null!==o&&Qi(0,s-i,l,u,0,o),c&&(Pe(n.index,t)[8]=l)}}(e,t,n,Oe(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,a=n.index,o=je.lFrame.currentDirectiveIndex;try{pt(a);for(var s=r;s<i;s++){var u=e.data[s],c=t[s];tt(s),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&zi(u,c)}}finally{pt(-1),tt(o)}}(e,t,n))}function Ni(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oe,r=t.localNames;if(null!==r)for(var i=t.index+1,a=0;a<r.length;a+=2){var o=r[a+1],s=-1===o?n(t,e):e[o];e[i++]=s}}function Mi(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Li(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Li(e,t,n,r,i,a,o,s,u,c){var l=20+r,h=l+i,f=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:gi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:e,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:t,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Ui(e,t,n,r){var i=sa(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&ua(e).push(r,i.length-1))}function ji(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Vi(e,t,n,r,i,a,o,s){var u,c=Oe(t,n),l=t.inputs;!s&&null!=l&&(u=l[r])?(la(e,n,u,r,i),he(t)&&function(e,t){var n=Pe(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r=function(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,Se(a)?a.setProperty(c,r,i):Et(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Bi(e,t,n,r){var i=!1;if(Ve()){var a=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var a=0;a<r.length;a++){var o=r[a];fi(n,o.selectors,!1)&&(i||(i=[]),Ut(Ft(n,t),e,o.type),de(o)?(Hi(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==a){i=!0,Ki(n,e.data.length,a.length);for(var s=0;s<a.length;s++){var u=a[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=Ii(e,t,a.length,null),f=0;f<a.length;f++){var d=a[f];n.mergedAttrs=St(n.mergedAttrs,d.hostAttrs),Gi(e,n,t,h,d),Zi(h,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),c=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,a=[],o=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||si(t)?null:Yi(l,i);a.push(h),o=ji(l,u,o),s=ji(c.outputs,u,s)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=s}(e,n)}o&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var a=n[t[i+1]];if(null==a)throw new g("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],a)}}(n,r,o)}return n.mergedAttrs=St(n.mergedAttrs,n.attrs),i}function qi(e,t,n,r,i,a){var o=a.hostBindings;if(o){var s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);var u=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,o)}}function zi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Hi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Zi(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;de(t)&&(n[""]=e)}}function Ki(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Gi(e,t,n,r,i){e.data[r]=i;var a=i.factory||(i.factory=ve(i.type)),o=new Ct(a,de(i),null);e.blueprint[r]=o,n[r]=o,qi(e,t,0,r,Ii(e,n,i.hostVars,gi),i)}function Wi(e,t,n){var r=Oe(t,e),i=Mi(n),a=e[10],o=ta(e,Si(e,i,null,n.onPush?64:16,r,t,a,a.createRenderer(r,n),null,null));e[t.index]=o}function Qi(e,t,n,r,i,a){var o=a[t];if(null!==o)for(var s=r.setInput,u=0;u<o.length;){var c=o[u++],l=o[u++],h=o[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function Yi(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Ji(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function $i(e,t){var n=Pe(t,e);if(Ne(n)){var r=n[1];80&n[2]?Oi(r,n,r.template,n[8]):n[5]>0&&Xi(n)}}function Xi(e){for(var t=Pr(e);null!==t;t=Fr(t))for(var n=10;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];Oi(i,r,i.template,r[8])}else r[5]>0&&Xi(r)}var a=e[1].components;if(null!==a)for(var o=0;o<a.length;o++){var s=Pe(a[o],e);Ne(s)&&s[5]>0&&Xi(s)}}function ea(e,t){var n=Pe(t,e),r=n[1];(function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Ai(r,n,n[8])}function ta(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function na(e){for(;e;){e[2]|=64;var t=Rr(e);if(pe(e)&&!t)return e;e=t}return null}function ra(e,t,n){var r=t[10];r.begin&&r.begin();try{Oi(e,t,e.template,n)}catch(i){throw ca(t,i),i}finally{r.end&&r.end()}}function ia(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=wr(n),i=r[1];Di(i,r,i.template,n)}}(e[8])}function aa(e,t,n){it(0),t(e,n)}var oa=Promise.resolve(null);function sa(e){return e[7]||(e[7]=[])}function ua(e){return e.cleanup||(e.cleanup=[])}function ca(e,t){var n=e[9],r=n?n.get(Sr,null):null;r&&r.handleError(t)}function la(e,t,n,r,i){for(var a=0;a<n.length;){var o=n[a++],s=n[a++],u=t[o],c=e.data[o];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function ha(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(var o=0;o<t.length;o++){var s=t[o];"number"==typeof s?a=s:1==a?i=h(i,s):2==a&&(r=h(r,s+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var fa,da=new tn("INJECTOR",-1),pa=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn;if(t===pn){var n=new Error("NullInjectorError: No provider for ".concat(l(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),va=new tn("Set Injector scope."),ga={},ya={};function ma(){return void 0===fa&&(fa=new pa),fa}function _a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new ka(e,n,t||ma(),r)}var ka=function(){function e(t,n,r){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];n&&on(n,function(e){return i.processProvider(e,t,n)}),on([t],function(e){return i.processInjectorType(e,[],o)}),this.records.set(da,wa(void 0,this));var s=this.records.get(va);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof t?null:l(t))}return _createClass(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O.Default;this.assertNotDestroyed();var r,i=kn(this),a=D(void 0);try{if(!(n&O.SkipSelf)){var o=this.records.get(e);if(void 0===o){var s=("function"==typeof(r=e)||"object"==typeof r&&r instanceof tn)&&C(e);o=s&&this.injectableDefInScope(s)?wa(ba(e),ga):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&O.Self?ma():this.parent).get(e,t=n&O.Optional&&t===pn?null:t)}catch(u){if("NullInjectorError"===u.name){if((u[gn]=u[gn]||[]).unshift(l(e)),i)throw u;return Sn(u,e,"R3InjectorError",this.source)}throw u}finally{D(a),kn(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(l(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=p(e)))return!1;var i=x(e),a=null==i&&e.ngModule||void 0,o=void 0===a?e:a,s=-1!==n.indexOf(o);if(void 0!==a&&(i=x(a)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(o);try{on(i.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))})}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;on(i,function(e){return r.processProvider(e,n,i||q)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(o);var h=ve(o)||function(){return new o};this.records.set(o,wa(h,ga));var f=i.providers;if(null!=f&&!s){var d=e;on(f,function(e){return r.processProvider(e,d,f)})}return void 0!==a&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r,i=Ea(e=p(e))?e:p(e&&e.provide),a=xa(r=e)?wa(void 0,r.useValue):wa(Ca(r),ga);if(Ea(e)||!0!==e.multi)this.records.get(i);else{var o=this.records.get(i);o||((o=wa(void 0,ga,!0)).factory=function(){return wn(o.multi)},this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,a)}},{key:"hydrate",value:function(e,t){return t.value===ga&&(t.value=ya,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value;var n}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var t=p(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}]),e}();function ba(e){var t=C(e),n=null!==t?t.factory:ve(e);if(null!==n)return n;if(e instanceof tn)throw new Error("Token ".concat(l(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=cn(t,"?");throw new Error("Can't resolve all parameters for ".concat(l(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[S]||e[I]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Ca(e,t,n){var r;if(Ea(e)){var i=p(e);return ve(i)||ba(i)}if(xa(e))r=function(){return p(e.useValue)};else if(function(e){return!(!e||!e.useFactory)}(e))r=function(){return e.useFactory.apply(e,_toConsumableArray(wn(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return Cn(p(e.useExisting))};else{var a=p(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ve(a)||ba(a);r=function(){return _construct(a,_toConsumableArray(wn(e.deps)))}}return r}function wa(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function xa(e){return null!==e&&"object"==typeof e&&_n in e}function Ea(e){return"function"==typeof e}var Sa,Ta=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=_a(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)},Ia=((Sa=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Ta(e,t,""):Ta(e.providers,e.parent,e.name||"")}}]),e}()).THROW_IF_NOT_FOUND=pn,Sa.NULL=new pa,Sa.\u0275prov=k({token:Sa,providedIn:"any",factory:function(){return Cn(da)}}),Sa.__NG_ELEMENT_ID__=-1,Sa);function Aa(e,t){gt(wr(e)[1],He())}function Oa(e){for(var t=function(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0,r=[e];t;){var i=void 0;if(de(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var a=e;a.inputs=Da(e.inputs),a.declaredInputs=Da(e.declaredInputs),a.outputs=Da(e.outputs);var o=i.hostBindings;o&&Fa(e,o);var s=i.viewQuery,u=i.contentQueries;if(s&&Ra(e,s),u&&Pa(e,u),c(e.inputs,i.inputs),c(e.declaredInputs,i.declaredInputs),c(e.outputs,i.outputs),de(i)&&i.data.animation){var l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}var h=i.features;if(h)for(var f=0;f<h.length;f++){var d=h[f];d&&d.ngInherit&&d(e),d===Oa&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=St(i.hostAttrs,n=St(n,i.hostAttrs))}}(r)}function Da(e){return e===B?{}:e===q?[]:e}function Ra(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function Pa(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Fa(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Na=null;function Ma(){if(!Na){var e=V.Symbol;if(e&&e.iterator)Na=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Na=r)}}return Na}var La=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Ua(e){return!!ja(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ma()in e)}function ja(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Va(e,t,n){return e[t]=n}function Ba(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function qa(e,t,n,r){var i=Ba(e,t,n);return Ba(e,t+1,r)||i}function za(e,t,n,r){var i=Be();return Ba(i,$e(),t)&&(qe(),function(e,t,n,r,i,a){var o=Oe(e,t);!function(e,t,n,r,i,a,o){if(null==a)Se(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{var s=null==o?y(a):o(a,r||"",i);Se(e)?e.setAttribute(t,i,s,n):n?t.setAttributeNS(n,i,s):t.setAttribute(i,s)}}(t[11],o,a,e.value,n,r,i)}(vt(),i,e,t,n,r)),za}function Ha(e,t,n,r){return Ba(e,$e(),n)?t+y(n)+r:gi}function Za(e,t,n,r,i,a,o,s){var u=Be(),c=qe(),l=e+20,h=c.firstCreatePass?function(e,t,n,r,i,a,o,s,u){var c=t.consts,l=Ti(t,e,4,o||null,Me(c,s));Bi(t,n,l,Me(c,u)),gt(t,l);var h=l.tViews=Li(2,l,r,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,a,o):c.data[l];Ke(h,!1);var f=u[11].createComment("");Qr(c,u,f,h),Cr(f,u),ta(u,u[l]=Ji(f,u,f,h)),fe(h)&&Fi(c,u,h),null!=o&&Ni(u,h,s)}function Ka(e){return Re(je.lFrame.contextLView,20+e)}function Ga(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.Default,n=Be();return null===n?Cn(e,t):Bt(He(),n,p(e),t)}function Wa(e,t,n){var r=Be();return Ba(r,$e(),t)&&Vi(qe(),vt(),r,e,t,r[11],n,!1),Wa}function Qa(e,t,n,r,i){var a=i?"class":"style";la(e,n,t.inputs[a],a,r)}function Ya(e,t,n,r){var i=Be(),a=qe(),o=20+e,s=i[11],u=i[o]=Lr(s,t,je.lFrame.currentNamespace),c=a.firstCreatePass?function(e,t,n,r,i,a,o){var s=t.consts,u=Ti(t,e,2,i,Me(s,a));return Bi(t,n,u,Me(s,o)),null!==u.attrs&&ha(u,u.attrs,!1),null!==u.mergedAttrs&&ha(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(o,a,i,0,t,n,r):a.data[o];Ke(c,!0);var l=c.mergedAttrs;null!==l&&wt(s,u,l);var h=c.classes;null!==h&&ri(s,u,h);var f=c.styles;null!==f&&ni(s,u,f),64!=(64&c.flags)&&Qr(a,i,u,c),0===je.lFrame.elementDepthCount&&Cr(u,i),je.lFrame.elementDepthCount++,fe(c)&&(Fi(a,i,c),Pi(a,c,i)),null!==r&&Ni(i,c)}function Ja(){var e=He();Ge()?We():Ke(e=e.parent,!1);var t=e;je.lFrame.elementDepthCount--;var n=qe();n.firstCreatePass&&(gt(n,e),le(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Qa(n,t,Be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Qa(n,t,Be(),t.stylesWithoutHost,!1)}function $a(e,t,n,r){Ya(e,t,n,r),Ja()}function Xa(e,t,n){var r=Be(),i=qe(),a=e+20,o=i.firstCreatePass?function(e,t,n,r,i){var a=t.consts,o=Me(a,r),s=Ti(t,e,8,"ng-container",o);return null!==o&&ha(s,o,!0),Bi(t,n,s,Me(a,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(a,i,r,t,n):i.data[a];Ke(o,!0);var s=r[a]=r[11].createComment("");Qr(i,r,s,o),Cr(s,r),fe(o)&&(Fi(i,r,o),Pi(i,o,r)),null!=n&&Ni(r,o)}function eo(){var e=He(),t=qe();Ge()?We():Ke(e=e.parent,!1),t.firstCreatePass&&(gt(t,e),le(e)&&t.queries.elementEnd(e))}function to(){return Be()}function no(e){return!!e&&"function"==typeof e.then}function ro(e){return!!e&&"function"==typeof e.subscribe}var io=ro;function ao(e,t,n,r){var i=Be(),a=qe(),o=He();return function(e,t,n,r,i,a,o,s){var u=fe(r),c=e.firstCreatePass&&ua(e),l=t[8],h=sa(t),f=!0;if(3&r.type||s){var d=Oe(r,t),p=s?s(d):d,v=h.length,g=s?function(e){return s(Ie(e[r.index]))}:r.index;if(Se(n)){var y=null;if(!s&&u&&(y=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var a=0;a<i.length-1;a+=2){var o=i[a];if(o===n&&i[a+1]===r){var s=t[7],u=i[a+2];return s.length>u?s[u]:null}"string"==typeof o&&(a+=2)}return null}(e,t,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=a,y.__ngLastListenerFn__=a,f=!1;else{a=so(r,t,l,a,!1);var m=n.listen(p,i,a);h.push(a,m),c&&c.push(i,g,v,v+1)}}else a=so(r,t,l,a,!0),p.addEventListener(i,a,o),h.push(a),c&&c.push(i,g,v,o)}else a=so(r,t,l,a,!1);var _,k=r.outputs;if(f&&null!==k&&(_=k[i])){var b=_.length;if(b)for(var C=0;C<b;C+=2){var w=t[_[C]][_[C+1]].subscribe(a),x=h.length;h.push(a,w),c&&c.push(i,r.index,x,-(x+1))}}}(a,i,i[11],o,e,t,!!n,r),ao}function oo(e,t,n,r){try{return!1!==n(r)}catch(i){return ca(e,i),!1}}function so(e,t,n,r,i){return function n(a){if(a===Function)return r;var o=2&e.flags?Pe(e.index,t):t;0==(32&t[2])&&na(o);for(var s=oo(t,0,r,a),u=n.__ngNextListenerFn__;u;)s=oo(t,0,u,a)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(a.preventDefault(),a.returnValue=!1),s}}function uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(je.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,je.lFrame.contextLView))[8]}(e)}function co(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var a=t[i];if("*"!==a){if(null===r?fi(e,a,!0):di(r,a))return i}else n=i}return n}function lo(e){var t=Be()[16][6];if(!t.projection)for(var n=t.projection=cn(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var a=e?co(i,e):0;null!==a&&(r[a]?r[a].projectionNext=i:n[a]=i,r[a]=i),i=i.next}}function ho(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Be(),i=qe(),a=Ti(i,20+e,16,null,n||null);null===a.projection&&(a.projection=t),We(),64!=(64&a.flags)&&function(e,t,n){ti(t[11],0,t,n,qr(e,n,t),Gr(n.parent||t[6],n,t))}(i,r,a)}function fo(e,t,n,r,i){for(var a=e[n+1],o=null===t,s=r?ki(a):Ci(a),u=!1;0!==s&&(!1===u||o);){var c=e[s+1];po(e[s],t)&&(u=!0,e[s+1]=r?xi(c):bi(c)),s=r?ki(c):Ci(c)}u&&(e[n+1]=r?bi(a):xi(a))}function po(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&fn(e,t)>=0}var vo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function go(e){return e.substring(vo.key,vo.keyEnd)}function yo(e,t){var n=vo.textEnd;return n===t?-1:(t=vo.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,vo.key=t,n),mo(e,t,n))}function mo(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function _o(e,t,n){return wo(e,t,n,!1),_o}function ko(e,t){return wo(e,t,null,!0),ko}function bo(e){xo(ln,Co,e,!0)}function Co(e,t){for(var n=function(e){return function(e){vo.key=0,vo.keyEnd=0,vo.value=0,vo.valueEnd=0,vo.textEnd=e.length}(e),yo(e,mo(e,0,vo.textEnd))}(t);n>=0;n=yo(t,n))ln(e,go(t),!0)}function wo(e,t,n,r){var i=Be(),a=qe(),o=Xe(2);a.firstUpdatePass&&So(a,e,o,r),t!==gi&&Ba(i,o,t)&&Ao(a,a.data[dt()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=l(Bn(e)))),e}(t,n),r,o)}function xo(e,t,n,r){var i=qe(),a=Xe(2);i.firstUpdatePass&&So(i,null,a,r);var o=Be();if(n!==gi&&Ba(o,a,n)){var s=i.data[dt()];if(Ro(s,r)&&!Eo(i,a)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=h(u,n||"")),Qa(i,s,o,n,r)}else!function(e,t,n,r,i,a,o,s){i===gi&&(i=q);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<a.length?a[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<a.length?a[c+1]:void 0,p=void 0,v=null;l===h?(u+=2,c+=2,f!==d&&(v=h,p=d)):null===h||null!==l&&l<h?(u+=2,v=l):(c+=2,v=h,p=d),null!==v&&Ao(e,t,n,r,v,p,o,s),l=u<i.length?i[u]:null,h=c<a.length?a[c]:null}}(i,s,o,o[11],o[a+1],o[a+1]=function(e,t,n){if(null==n||""===n)return q;var r=[],i=Bn(n);if(Array.isArray(i))for(var a=0;a<i.length;a++)e(r,i[a],!0);else if("object"==typeof i)for(var o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,a)}}function Eo(e,t){return t>=e.expandoStartIndex}function So(e,t,n,r){var i=e.data;if(null===i[n+1]){var a=i[dt()],o=Eo(e,n);Ro(a,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){var i=nt(e),a=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Io(n=To(null,e,t,n,r),t.attrs,r),a=null);else{var o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=To(i,e,t,n,r),null===a){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Ci(r))return e[ki(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[ki(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Io(s=To(null,e,t,s[1],r),t.attrs,r))}else a=function(e,t,n){for(var r,i=t.directiveEnd,a=1+t.directiveStylingLast;a<i;a++)r=Io(r,e[a].hostAttrs,n);return Io(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(i,a,t,r),function(e,t,n,r,i,a){var o=a?t.classBindings:t.styleBindings,s=ki(o),u=Ci(o);e[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||fn(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=ki(e[s+1]);e[r+1]=_i(f,s),0!==f&&(e[f+1]=wi(e[f+1],r)),e[s+1]=function(e,t){return 131071&e|t<<17}(e[s+1],r)}else e[r+1]=_i(s,0),0!==s&&(e[s+1]=wi(e[s+1],r)),s=r;else e[r+1]=_i(u,0),0===s?s=r:e[u+1]=wi(e[u+1],r),u=r;l&&(e[r+1]=bi(e[r+1])),fo(e,c,r,!0),fo(e,c,r,!1),function(e,t,n,r,i){var a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&fn(a,t)>=0&&(n[r+1]=xi(n[r+1]))}(t,c,e,r,a),o=_i(s,u),a?t.classBindings=o:t.styleBindings=o}(i,a,t,n,o,r)}}function To(e,t,n,r,i){var a=null,o=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<o&&(r=Io(r,(a=t[s]).hostAttrs,i),a!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Io(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var a=0;a<t.length;a++){var o=t[a];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ln(e,o,!!n||t[++a]))}return void 0===e?null:e}function Ao(e,t,n,r,i,a,o,s){if(3&t.type){var u=e.data,c=u[s+1];Do(function(e){return 1==(1&e)}(c)?Oo(u,t,n,i,Ci(c),o):void 0)||(Do(a)||function(e){return 2==(2&e)}(c)&&(a=Oo(u,null,n,i,s,o)),function(e,t,n,r,i){var a=Se(e);if(t)i?a?e.addClass(n,r):n.classList.add(r):a?e.removeClass(n,r):n.classList.remove(r);else{var o=-1===r.indexOf("-")?void 0:Or.DashCase;if(null==i)a?e.removeStyle(n,r,o):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),o|=Or.Important),a?e.setStyle(n,r,i,o):n.style.setProperty(r,i,s?"important":"")}}}(r,o,Ae(dt(),n),i,a))}}function Oo(e,t,n,r,i,a){for(var o,s=null===t;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===gi&&(f=h?q:void 0);var d=h?hn(f,r):l===r?f:void 0;if(c&&!Do(d)&&(d=hn(u,r)),Do(d)&&(o=d,s))return o;var p=e[i+1];i=s?ki(p):Ci(p)}if(null!==t){var v=a?t.residualClasses:t.residualStyles;null!=v&&(o=hn(v,r))}return o}function Do(e){return void 0!==e}function Ro(e,t){return 0!=(e.flags&(t?16:32))}function Po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Be(),r=qe(),i=e+20,a=r.firstCreatePass?Ti(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return Se(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Qr(r,n,o,a),Ke(a,!1)}function Fo(e){return No("",e,""),Fo}function No(e,t,n){var r=Be(),i=Ha(r,e,t,n);return i!==gi&&function(e,t,n){var r=Ae(t,e);!function(e,t,n){Se(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}(r,dt(),i),No}function Mo(e,t,n){xo(ln,Co,Ha(Be(),e,t,n),!0)}function Lo(e,t,n){var r=Be();return Ba(r,$e(),t)&&Vi(qe(),vt(),r,e,t,r[11],n,!0),Lo}function Uo(e,t,n){var r=Be();if(Ba(r,$e(),t)){var i=qe(),a=vt();Vi(i,a,r,e,t,function(e,t,n){return(null===e||de(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}(nt(i.data),a,r),n,!0)}return Uo}var jo=void 0,Vo=["en",[["a","p"],["AM","PM"],jo],[["AM","PM"],jo,jo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jo,"{1} 'at' {0}",jo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Bo={};function qo(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Ho(t);if(n)return n;var r=t.split("-")[0];if(n=Ho(r))return n;if("en"===r)return Vo;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function zo(e){return qo(e)[Zo.PluralCase]}function Ho(e){return e in Bo||(Bo[e]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[e]),Bo[e]}var Zo=((Zo=Zo||{})[Zo.LocaleId=0]="LocaleId",Zo[Zo.DayPeriodsFormat=1]="DayPeriodsFormat",Zo[Zo.DayPeriodsStandalone=2]="DayPeriodsStandalone",Zo[Zo.DaysFormat=3]="DaysFormat",Zo[Zo.DaysStandalone=4]="DaysStandalone",Zo[Zo.MonthsFormat=5]="MonthsFormat",Zo[Zo.MonthsStandalone=6]="MonthsStandalone",Zo[Zo.Eras=7]="Eras",Zo[Zo.FirstDayOfWeek=8]="FirstDayOfWeek",Zo[Zo.WeekendRange=9]="WeekendRange",Zo[Zo.DateFormat=10]="DateFormat",Zo[Zo.TimeFormat=11]="TimeFormat",Zo[Zo.DateTimeFormat=12]="DateTimeFormat",Zo[Zo.NumberSymbols=13]="NumberSymbols",Zo[Zo.NumberFormats=14]="NumberFormats",Zo[Zo.CurrencyCode=15]="CurrencyCode",Zo[Zo.CurrencySymbol=16]="CurrencySymbol",Zo[Zo.CurrencyName=17]="CurrencyName",Zo[Zo.Currencies=18]="Currencies",Zo[Zo.Directionality=19]="Directionality",Zo[Zo.PluralCase=20]="PluralCase",Zo[Zo.ExtraData=21]="ExtraData",Zo),Ko="en-US";function Go(e){(function(e,t){null==e&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+" [Expected=> ".concat(null," ").concat("!="," ").concat(t," <=Actual]"))}(t,e)})(e,"Expected localeId to be defined"),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}function Wo(e,t,n,r,i){if(e=p(e),Array.isArray(e))for(var a=0;a<e.length;a++)Wo(e[a],t,n,r,i);else{var o=qe(),s=Be(),u=Ea(e)?e:p(e.provide),c=Ca(e),l=He(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(Ea(e)||!e.multi){var v=new Ct(c,i,Ga),g=Jo(u,t,i?h:h+d,f);-1===g?(Ut(Ft(l,s),o,u),Qo(o,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(v),s.push(v)):(n[g]=v,s[g]=v)}else{var y=Jo(u,t,h+d,f),m=Jo(u,t,h,h+d),_=y>=0&&n[y],k=m>=0&&n[m];if(i&&!k||!i&&!_){Ut(Ft(l,s),o,u);var b=function(e,t,n,r,i){var a=new Ct(e,n,Ga);return a.multi=[],a.index=t,a.componentProviders=0,Yo(a,i,r&&!n),a}(i?Xo:$o,n.length,i,r,c);!i&&k&&(n[m].providerFactory=b),Qo(o,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(b),s.push(b)}else Qo(o,e,y>-1?y:m,Yo(n[i?m:y],c,!i&&r));!i&&r&&k&&n[m].componentProviders++}}}function Qo(e,t,n,r){var i=Ea(t);if(i||function(e){return!!e.useClass}(t)){var a=(t.useClass||t).prototype.ngOnDestroy;if(a){var o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=o.indexOf(n);-1===s?o.push(n,[r,a]):o[s+1].push(r,a)}else o.push(n,a)}}}function Yo(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Jo(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function $o(e,t,n,r){return es(this.multi,[])}function Xo(e,t,n,r){var i,a=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=Kt(n,n[1],this.providerFactory.index,r);es(a,i=s.slice(0,o));for(var u=o;u<s.length;u++)i.push(s[u])}else es(a,i=[]);return i}function es(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function ts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=qe();if(r.firstCreatePass){var i=de(e);Wo(n,r.data,r.blueprint,i,!0),Wo(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}var ns=function e(){_classCallCheck(this,e)},rs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(l(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),is=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new rs,e}();function as(){}function os(e,t){return new us(Oe(e,t))}var ss=function(){return os(He(),Be())},us=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=ss,e}();function cs(e){return e instanceof us?e.nativeElement:e}var ls=function e(){_classCallCheck(this,e)},hs=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return fs()},e}(),fs=function(){var e=Be(),t=Pe(He().index,e);return function(e){return e[11]}(ue(t)?t:e)},ds=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=k({token:e,providedIn:"root",factory:function(){return null}}),e}(),ps=function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")},vs=new ps("12.2.8"),gs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Ua(e)}},{key:"create",value:function(e){return new ms(e)}}]),e}(),ys=function(e,t){return t},ms=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ys}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var a=!n||t&&t.currentIndex<Cs(n,r,i)?t:n,o=Cs(a,r,i),s=a.currentIndex;if(a===n)r--,n=n._nextRemoved;else if(t=t._next,null==a.previousIndex)r++;else{i||(i=[]);var u=o-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[a.previousIndex]=c-u}}o!==s&&e(a,o,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Ua(e))throw new Error("Error trying to diff '".concat(l(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,a=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==a&&Object.is(a.trackById,i)?(o&&(a=this._verifyReinsertion(a,r,i,s)),Object.is(a.item,r)||this._addIdentityChange(a,r)):(a=this._mismatch(a,r,i,s),o=!0),a=a._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[Ma()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==a&&Object.is(a.trackById,i)?(o&&(a=t._verifyReinsertion(a,e,i,n)),Object.is(a.item,e)||t._addIdentityChange(a,e)):(a=t._mismatch(a,e,i,n),o=!0),a=a._next,n++}),this.length=n;return this._truncate(a),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new _s(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new bs),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bs),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),_s=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},ks=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),bs=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new ks,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function Cs(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var ws=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||ja(e)}},{key:"create",value:function(){return new xs}}]),e}(),xs=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||ja(e)))throw new Error("Error trying to diff '".concat(l(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var a=new Es(e);return this._records.set(e,a),a.currentValue=t,this._addToAdditions(a),a}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),Es=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Ss(){return new Ts([new gs])}var Ts=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(null!=t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat(function(e){return e.name||typeof e}(e),"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Ss())},deps:[[e,new Rn,new On]]}}}]),e}();return e.\u0275prov=k({token:e,providedIn:"root",factory:Ss}),e}();function Is(){return new As([new ws])}var As=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Is())},deps:[[e,new Rn,new On]]}}}]),e}();return e.\u0275prov=k({token:e,providedIn:"root",factory:Is}),e}();function Os(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=t[n.index];if(null!==a&&r.push(Ie(a)),ce(a))for(var o=10;o<a.length;o++){var s=a[o],u=s[1].firstChild;null!==u&&Os(s[1],s,u,r)}var c=n.type;if(8&c)Os(e,t,n.child,r);else if(32&c)for(var l=Dr(n,t),h=void 0;h=l();)r.push(h);else if(16&c){var f=Jr(t,n);if(Array.isArray(f))r.push.apply(r,_toConsumableArray(f));else{var d=Rr(t[16]);Os(d[1],d,f,r,!0)}}n=i?n.projectionNext:n.next}return r}var Ds=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return _createClass(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return Os(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(ce(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(jr(e,n),un(t,n))}this._attachedToViewContainer=!1}Vr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){Ui(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){na(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){ra(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){Ye(!0);try{ra(e,t,n)}finally{Ye(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,ei(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),Rs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e))._view=e,r}return _createClass(n,[{key:"detectChanges",value:function(){ia(this._view)}},{key:"checkNoChanges",value:function(){!function(e){Ye(!0);try{ia(e)}finally{Ye(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Ds),Ps=function(e){return function(e,t,n){if(he(e)&&!n){var r=Pe(e.index,t);return new Ds(r,r)}return 47&e.type?new Ds(t[16],t):null}(He(),Be(),16==(16&e))},Fs=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=Ps,e}(),Ns=[new ws],Ms=new Ts([new gs]),Ls=new As(Ns),Us=function(){return Bs(He(),Be())},js=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=Us,e}(),Vs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this))._declarationLView=e,a._declarationTContainer=r,a.elementRef=i,a}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Si(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Ai(t,n,e),new Ds(n)}}]),n}(js);function Bs(e,t){return 4&e.type?new Vs(t,e,os(e,t)):null}var qs=function e(){_classCallCheck(this,e)},zs=function e(){_classCallCheck(this,e)},Hs=function(){return Qs(He(),Be())},Zs=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=Hs,e}(),Ks=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this))._lContainer=e,a._hostTNode=r,a._hostLView=i,a}return _createClass(n,[{key:"element",get:function(){return os(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Qt(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=Lt(this._hostTNode,this._hostLView);if(It(e)){var t=Ot(e,this._hostLView),n=At(e);return new Qt(t[1].data[n+8],t)}return new Qt(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=Gs(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var a=n||this.parentInjector;if(!i&&null==e.ngModule&&a){var o=a.get(qs,null);o&&(i=o)}var s=e.create(a,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var r=e._lView,i=r[1];if(ce(r[3])){var a=this.indexOf(e);if(-1!==a)this.detach(a);else{var o=r[3],s=new n(o,o[6],o[3]);s.detach(s.indexOf(e))}}var u=this._adjustIndex(t),c=this._lContainer;!function(e,t,n,r){var i=10+r,a=n.length;r>0&&(n[i-1][4]=t),r<a-10?(t[4]=n[i],sn(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;var o=t[17];null!==o&&n!==o&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(i,r,c,u);var l=$r(u,c),h=r[11],f=Kr(h,c[7]);return null!==f&&function(e,t,n,r,i,a){r[0]=i,r[6]=t,ei(e,r,n,1,i,a)}(i,c[6],h,r,f,l),e.attachToViewContainerRef(),sn(Ws(c),u,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=Gs(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=jr(this._lContainer,t);n&&(un(Ws(this._lContainer),t),Vr(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=jr(this._lContainer,t);return n&&null!=un(Ws(this._lContainer),t)?new Ds(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(Zs);function Gs(e){return e[8]}function Ws(e){return e[8]||(e[8]=[])}function Qs(e,t){var n,r=t[e.index];if(ce(r))n=r;else{var i;if(8&e.type)i=Ie(r);else{var a=t[11];i=a.createComment("");var o=Oe(e,t);zr(a,Kr(a,o),i,function(e,t){return Se(e)?e.nextSibling(t):t.nextSibling}(a,o),!1)}t[e.index]=n=Ji(r,t,i,e),ta(t,n)}return new Ks(n,e,t)}var Ys={},Js=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).ngModule=e,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=oe(e);return new eu(t,this.ngModule)}}]),n}(is);function $s(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Xs=new tn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Tr}}),eu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(vi).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"inputs",get:function(){return $s(this.componentDef.inputs)}},{key:"outputs",get:function(){return $s(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,a,o=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var a=e.get(n,Ys,i);return a!==Ys||r===Ys?a:t.get(n,r,i)}}}(e,r.injector):e,s=o.get(ls,Te),u=o.get(ds,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Se(e))return e.selectRootElement(t,n===N.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Lr(s.createRenderer(null,this.componentDef),l,function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Tr,clean:oa,playerHandler:null,flags:0},p=Li(0,null,null,1,0,null,null,null,null,null),v=Si(null,p,d,f,null,null,s,c,u,o);st(v);try{var g=function(e,t,n,r,i,a){var o=n[1];n[20]=e;var s=Ti(o,20,2,"#host",null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(ha(s,u,!0),null!==e&&(wt(i,e,u),null!==s.classes&&ri(i,e,s.classes),null!==s.styles&&ni(i,e,s.styles)));var c=r.createRenderer(e,t),l=Si(n,Mi(t),null,t.onPush?64:16,n[20],s,r,c,null,null);return o.firstCreatePass&&(Ut(Ft(s,n),o,t.type),Hi(o,s),Ki(s,n.length,1)),ta(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)wt(c,h,["ng-version",vs.full]);else{var y=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!li(i))break;i=a}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),m=y.attrs,_=y.classes;m&&wt(c,h,m),_&&_.length>0&&ri(c,h,_.join(" "))}if(a=De(p,20),void 0!==t)for(var k=a.projection=[],b=0;b<this.ngContentSelectors.length;b++){var C=t[b];k.push(null!=C?Array.from(C):null)}i=function(e,t,n,r,i){var a=n[1],o=function(e,t,n){var r=He();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Gi(e,r,t,Ii(e,t,1,null),n));var i=Kt(t,e,r.directiveStart,r);Cr(i,t);var a=Oe(r,t);return a&&Cr(a,t),i}(a,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(function(e){return e(o,t)}),t.contentQueries){var s=He();t.contentQueries(1,o,s.directiveStart)}var u=He();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(pt(u.index),qi(n[1],u,0,u.directiveStart,u.directiveEnd,t),zi(t,o)),o}(g,this.componentDef,v,d,[Aa]),Ai(p,v,null)}finally{ft()}return new tu(this.componentType,i,os(a,v),v,a)}}]),n}(ns),tu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o){var s;return _classCallCheck(this,n),(s=t.call(this)).location=i,s._rootLView=a,s._tNode=o,s.instance=r,s.hostView=s.changeDetectorRef=new Rs(a),s.componentType=e,s}return _createClass(n,[{key:"injector",get:function(){return new Qt(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),nu=new Map,ru=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new Js(_assertThisInitialized(i));var a=se(e),o=e[G]||null;return o&&Go(o),i._bootstrapComponents=Ar(a.bootstrap),i._r3Injector=_a(e,r,[{provide:qs,useValue:_assertThisInitialized(i)},{provide:is,useValue:i.componentFactoryResolver}],l(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ia.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O.Default;return e===Ia||e===qs||e===da?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(qs),iu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).moduleType=e,null!==se(e)&&function(e){var t=new Set;!function e(n){var r=se(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(l(t)," vs ").concat(l(t.name)))}(i,nu.get(i),n),nu.set(i,n));var a,o=_createForOfIteratorHelper(Ar(r.imports));try{for(o.s();!(a=o.n()).done;){var s=a.value;t.has(s)||(t.add(s),e(s))}}catch(u){o.e(u)}finally{o.f()}}(e)}(e),r}return _createClass(n,[{key:"create",value:function(e){return new ru(this.moduleType,e)}}]),n}(zs);function au(e,t,n){var r=Je()+e,i=Be();return i[r]===gi?Va(i,r,n?t.call(n):t()):function(e,t){return e[t]}(i,r)}function ou(e,t,n,r){return cu(Be(),Je(),e,t,n,r)}function su(e,t,n,r,i){return function(e,t,n,r,i,a,o){var s=t+n;return qa(e,s,i,a)?Va(e,s+2,o?r.call(o,i,a):r(i,a)):uu(e,s+2)}(Be(),Je(),e,t,n,r,i)}function uu(e,t){var n=e[t];return n===gi?void 0:n}function cu(e,t,n,r,i,a){var o=t+n;return Ba(e,o,i)?Va(e,o+1,a?r.call(a,i):r(i)):uu(e,o+1)}function lu(e,t){var n,r=qe(),i=e+20;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new g("302","The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var a=n.factory||(n.factory=ve(n.type)),o=D(Ga);try{var s=Rt(!1),u=a();return Rt(s),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(r,Be(),i,u),u}finally{D(o)}}function hu(e,t,n){var r=e+20,i=Be(),a=Re(i,r);return pu(i,du(i,r)?cu(i,Je(),t,a.transform,n,a):a.transform(n))}function fu(e,t,n,r,i,a){var o=e+20,s=Be(),u=Re(s,o);return pu(s,du(s,o)?function(e,t,n,r,i,a,o,s,u){var c=t+n;return function(e,t,n,r,i,a){var o=qa(e,t,n,r);return qa(e,t+2,i,a)||o}(e,c,i,a,o,s)?Va(e,c+4,u?r.call(u,i,a,o,s):r(i,a,o,s)):uu(e,c+4)}(s,Je(),t,u.transform,n,r,i,a,u):u.transform(n,r,i,a))}function du(e,t){return e[1].data[t].pure}function pu(e,t){return La.isWrapped(t)&&(t=La.unwrap(t),e[je.lFrame.bindingIndex]=gi),t}function vu(e){return function(t){setTimeout(e,void 0,t)}}var gu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass(n,[{key:"emit",value:function(e){_get2(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var a,o,s,u=e,c=t||function(){return null},l=r;if(e&&"object"==typeof e){var h=e;u=null===(a=h.next)||void 0===a?void 0:a.bind(h),c=null===(o=h.error)||void 0===o?void 0:o.bind(h),l=null===(s=h.complete)||void 0===s?void 0:s.bind(h)}this.__isAsync&&(c=vu(c),u&&(u=vu(u)),l&&(l=vu(l)));var f=_get2(_getPrototypeOf(n.prototype),"subscribe",this).call(this,{next:u,error:c,complete:l});return e instanceof i.w&&e.add(f),f}}]),n}(r.xQ);function yu(){return this._results[Ma()]()}var mu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Ma(),r=e.prototype;r[n]||(r[n]=yu)}return _createClass(e,[{key:"changes",get:function(){return this._changes||(this._changes=new gu)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){var n=this;n.dirty=!1;var r=an(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],a=t[r];if(n&&(i=n(i),a=n(a)),a!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}},{key:"notifyOnChanges",value:function(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}();Symbol;var _u=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),ku=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],a=0;a<r;a++){var o=n.getByIndex(a);i.push(this.queries[o.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Fu(e,t).matches&&this.queries[t].setDirty()}}]),e}(),bu=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,e),this.predicate=t,this.flags=n,this.read=r},Cu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,i);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),wu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,xu(t,i)),this.matchTNodeWithReadOption(e,t,Zt(t,e,i,!1,!1))}else n===js?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Zt(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===us||r===Zs||r===js&&4&t.type)this.addMatch(t.index,-2);else{var i=Zt(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function xu(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Eu(e,t,n,r){return-1===n?function(e,t){return 11&e.type?os(e,t):4&e.type?Bs(e,t):null}(t,e):-2===n?function(e,t,n){return n===us?os(t,e):n===js?Bs(t,e):n===Zs?Qs(t,e):void 0}(e,t,r):Kt(e,e[1],n,t)}function Su(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var a=e.data,o=n.matches,s=[],u=0;u<o.length;u+=2){var c=o[u];s.push(c<0?null:Eu(t,a[c],o[u+1],n.metadata.read))}i.matches=s}return i.matches}function Tu(e,t,n,r){var i=e.queries.getByIndex(n),a=i.matches;if(null!==a)for(var o=Su(e,t,i,n),s=0;s<a.length;s+=2){var u=a[s];if(u>0)r.push(o[s/2]);else{for(var c=a[s+1],l=t[-u],h=10;h<l.length;h++){var f=l[h];f[17]===f[3]&&Tu(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Tu(v[1],v,c,r)}}}return r}function Iu(e){var t=Be(),n=qe(),r=rt();it(r+1);var i=Fu(n,r);if(e.dirty&&Fe(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{var a=i.crossesNgTemplate?Tu(n,t,r,[]):Su(n,t,i,r);e.reset(a,cs),e.notifyOnChanges()}return!0}return!1}function Au(e,t,n){var r=qe();r.firstCreatePass&&(Pu(r,new bu(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Ru(r,Be(),t)}function Ou(e,t,n,r){var i=qe();if(i.firstCreatePass){var a=He();Pu(i,new bu(t,n,r),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Ru(i,Be(),n)}function Du(){return e=Be(),t=rt(),e[19].queries[t].queryList;var e,t}function Ru(e,t,n){var r=new mu(4==(4&n));Ui(e,t,r,r.destroy),null===t[19]&&(t[19]=new ku),t[19].queries.push(new _u(r))}function Pu(e,t,n){null===e.queries&&(e.queries=new Cu),e.queries.track(new wu(t,n))}function Fu(e,t){return e.queries.getByIndex(t)}function Nu(e,t){return Bs(e,t)}var Mu=new tn("Application Initializer"),Lu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.resolve=as,this.reject=as,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=function(n){var r=e.appInits[n]();if(no(r))t.push(r);else if(io(r)){var i=new Promise(function(e,t){r.subscribe({complete:e,error:t})});t.push(i)}},i=0;i<this.appInits.length;i++)r(i);Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Cn(Mu,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),e}(),Uu=new tn("AppId"),ju={provide:Uu,useFactory:function(){return"".concat(Vu()).concat(Vu()).concat(Vu())},deps:[]};function Vu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Bu=new tn("Platform Initializer"),qu=new tn("Platform ID"),zu=new tn("appBootstrapListener"),Hu=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac}),e}(),Zu=new tn("LocaleId"),Ku=new tn("DefaultCurrencyCode"),Gu=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},Wu=function(e){return new iu(e)},Qu=Wu,Yu=function(e){return Promise.resolve(Wu(e))},Ju=function(e){var t=Wu(e),n=Ar(se(e).declarations).reduce(function(e,t){var n=oe(t);return n&&e.push(new eu(n)),e},[]);return new Gu(t,n)},$u=Ju,Xu=function(e){return Promise.resolve(Ju(e))},ec=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Qu,this.compileModuleAsync=Yu,this.compileModuleAndAllComponentsSync=$u,this.compileModuleAndAllComponentsAsync=Xu}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac}),e}(),tc=Promise.resolve(0);function nc(e){"undefined"==typeof Zone?tc.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var rc=function(){function e(t){var n=t.enableLongStackTrace,r=void 0!==n&&n,i=t.shouldCoalesceEventChangeDetection,a=void 0!==i&&i,o=t.shouldCoalesceRunChangeDetection,s=void 0!==o&&o;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gu(!1),this.onMicrotaskEmpty=new gu(!1),this.onStable=new gu(!1),this.onError=new gu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!s&&a,u.shouldCoalesceRunChangeDetection=s,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function(){var e=V.requestAnimationFrame,t=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){var t=function(){!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(V,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,oc(e),e.isCheckStableRunning=!0,ac(e),e.isCheckStableRunning=!1},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),oc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,r,i,a,o,s){try{return sc(e),n.invokeTask(i,a,o,s)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),uc(e)}},onInvoke:function(n,r,i,a,o,s,u){try{return sc(e),n.invoke(i,a,o,s,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),uc(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,oc(e),ac(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}(u)}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+r,e,ic,as,as);try{return i.runTask(a,t,n)}finally{i.cancelTask(a)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),ic={};function ac(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function oc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function sc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function uc(e){e._nesting--,ac(e)}var cc=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gu,this.onMicrotaskEmpty=new gu,this.onStable=new gu,this.onError=new gu}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),lc=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){rc.assertNotInAngularZone(),nc(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())nc(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Cn(rc))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),e}(),hc=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,pc.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return pc.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac}),e}();function fc(e){pc=e}var dc,pc=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),vc=!0,gc=!1;function yc(){return gc=!0,vc}function mc(){if(gc)throw new Error("Cannot enable prod mode after platform setup.");vc=!1}var _c=new tn("AllowMultipleToken"),kc=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function bc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new tn(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=Cc();if(!a||a.injector.get(_c,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var o=n.concat(t).concat({provide:i,useValue:!0},{provide:va,useValue:"platform"});!function(e){if(dc&&!dc.destroyed&&!dc.injector.get(_c,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");dc=e.get(wc);var t=e.get(Bu,null);t&&t.forEach(function(e){return e()})}(Ia.create({providers:o,name:r}))}return function(e){var t=Cc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Cc(){return dc&&!dc.destroyed?dc:null}var wc=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n=this,r=function(e,t){return"noop"===e?new cc:("zone.js"===e?void 0:e)||new rc({enableLongStackTrace:yc(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)})}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),i=[{provide:rc,useValue:r}];return r.run(function(){var a=Ia.create({providers:i,parent:n.injector,name:e.moduleType.name}),o=e.create(a),s=o.injector.get(Sr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.runOutsideAngular(function(){var e=r.onError.subscribe({next:function(e){s.handleError(e)}});o.onDestroy(function(){Sc(n._modules,o),e.unsubscribe()})}),function(e,r,i){try{var a=((s=o.injector.get(Lu)).runInitializers(),s.donePromise.then(function(){return Go(o.injector.get(Zu,Ko)||Ko),n._moduleDoBootstrap(o),o}));return no(a)?a.catch(function(t){throw r.runOutsideAngular(function(){return e.handleError(t)}),t}):a}catch(t){throw r.runOutsideAngular(function(){return e.handleError(t)}),t}var s}(s,r)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=xc({},n);return function(e,t,n){var r=new iu(n);return Promise.resolve(r)}(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Ec);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(l(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Cn(Ia))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),e}();function xc(e,t){return Array.isArray(t)?t.reduce(xc,e):Object.assign(Object.assign({},e),t)}var Ec=function(){var e=function(){function e(t,n,r,i,u){var c=this;_classCallCheck(this,e),this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){c._zone.run(function(){c.tick()})}});var l=new a.y(function(e){c._stable=c._zone.isStable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks,c._zone.runOutsideAngular(function(){e.next(c._stable),e.complete()})}),h=new a.y(function(e){var t;c._zone.runOutsideAngular(function(){t=c._zone.onStable.subscribe(function(){rc.assertNotInAngularZone(),nc(function(){!c._stable&&!c._zone.hasPendingMacrotasks&&!c._zone.hasPendingMicrotasks&&(c._stable=!0,e.next(!0))})})});var n=c._zone.onUnstable.subscribe(function(){rc.assertInAngularZone(),c._stable&&(c._stable=!1,c._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,h.pipe((0,s.B)()))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof ns?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=function(e){return e.isBoundToModule}(n)?void 0:this._injector.get(qs),a=n.create(Ia.NULL,[],t||n.selector,i),o=a.location.nativeElement,s=a.injector.get(lc,null),u=s&&a.injector.get(hc);return s&&u&&u.registerApplication(o,s),a.onDestroy(function(){r.detachView(a.hostView),Sc(r.components,a),u&&u.unregisterApplication(o)}),this._loadComponent(a),a}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;){var r;t.value.detectChanges()}}catch(i){n.e(i)}finally{n.f()}}catch(r){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(r)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Sc(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(zu,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Cn(rc),Cn(Ia),Cn(Sr),Cn(is),Cn(Lu))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),e}();function Sc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Tc=function e(){_classCallCheck(this,e)},Ic=function e(){_classCallCheck(this,e)},Ac={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Oc=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||Ac}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],a=r[1];return void 0===a&&(a="default"),n(8255)(i).then(function(e){return e[a]}).then(function(e){return Dc(e,i,a)}).then(function(e){return t._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],a="NgFactory";return void 0===i&&(i="default",a=""),n(8255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[i+a]}).then(function(e){return Dc(e,r,i)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Cn(ec),Cn(Ic,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac}),e}();function Dc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Rc=function(e){return null},Pc=bc(null,"core",[{provide:qu,useValue:"unknown"},{provide:wc,deps:[Ia]},{provide:hc,deps:[]},{provide:Hu,deps:[]}]),Fc=[{provide:Ec,useClass:Ec,deps:[rc,Ia,Sr,is,Lu]},{provide:Xs,deps:[rc],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Lu,useClass:Lu,deps:[[new On,Mu]]},{provide:ec,useClass:ec,deps:[]},ju,{provide:Ts,useFactory:function(){return Ms},deps:[]},{provide:As,useFactory:function(){return Ls},deps:[]},{provide:Zu,useFactory:function(e){return Go(e=e||"undefined"!=typeof $localize&&$localize.locale||Ko),e},deps:[[new An(Zu),new On,new Rn]]},{provide:Ku,useValue:"USD"}],Nc=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)(Cn(Ec))},e.\u0275mod=te({type:e}),e.\u0275inj=b({providers:Fc}),e}()},5869:function(e,t,n){"use strict";n.d(t,{nm:function(){return V}});var r=n(6643),i=(n(7716),n(127),n(2329),n(8239)),a=n(5452),o=n(6034),s=n(3854),u=n(5601),c=new Map,l={activated:!1,tokenObservers:[]},h={initialized:!1,enabled:!1};function f(e){return c.get(e)||l}function d(e,t){c.set(e,t)}function p(){return h}var v=function(){function e(t,n,r,i,a){if(_classCallCheck(this,e),this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}return _createClass(e,[{key:"start",value:function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})}},{key:"stop",value:function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}},{key:"isRunning",value:function(){return!!this.pending}},{key:"process",value:function(e){var t=this;return(0,i.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.stop(),n.prev=1,t.pending=new s.BH,n.next=5,r=t.getNextRun(e),new Promise(function(e){setTimeout(e,r)});case 5:return t.pending.resolve(),n.next=8,t.pending.promise;case 8:return t.pending=new s.BH,n.next=11,t.operation();case 11:return t.pending.resolve(),n.next=14,t.pending.promise;case 14:t.process(!0).catch(function(){}),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(1),t.retryPolicy(n.t0)?t.process(!1).catch(function(){}):t.stop();case 20:case"end":return n.stop()}},n,null,[[1,17]])}))()}},{key:"getNextRun",value:function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}]),e}(),g=new s.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function y(e){if(!f(e).activated)throw g.create("use-before-activation",{appName:e.name})}function m(e,t){return _.apply(this,arguments)}function _(){return(_=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,u,c,l,h,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,i=t.body,a={"Content-Type":"application/json"},(o=n.getImmediate({optional:!0}))&&(a["X-Firebase-Client"]=o.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(i),headers:a},e.prev=4,e.next=7,fetch(r,s);case 7:u=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),g.create("fetch-network-error",{originalErrorMessage:e.t0.message});case 13:if(200===u.status){e.next=15;break}throw g.create("fetch-status-error",{httpStatus:u.status});case 15:return e.prev=15,e.next=18,u.json();case 18:c=e.sent,e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(15),g.create("fetch-parse-error",{originalErrorMessage:e.t1.message});case 24:if((l=c.ttl.match(/^([\d.]+)(s)$/))&&l[2]&&!isNaN(Number(l[1]))){e.next=27;break}throw g.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: ".concat(c.ttl)});case 27:return h=1e3*Number(l[1]),f=Date.now(),e.abrupt("return",{token:c.attestationToken,expireTimeMillis:f+h,issuedAtTimeMillis:f});case 29:case"end":return e.stop()}},e,null,[[4,10],[15,21]])}))).apply(this,arguments)}function k(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"https://content-firebaseappcheck.googleapis.com/v1beta/projects/".concat(r,"/apps/").concat(i,":exchangeDebugToken?key=").concat(a),body:{debug_token:t}}}var b="firebase-app-check-store",C=null;function w(){return C||(C=new Promise(function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(g.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(b,{keyPath:"compositeKey"})}}}catch(n){t(g.create("storage-open",{originalErrorMessage:n.message}))}}))}function x(){return(x=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return r=e.sent.transaction(b,"readwrite"),i=r.objectStore(b).put({compositeKey:t,value:n}),e.abrupt("return",new Promise(function(e,t){i.onsuccess=function(t){e()},r.onerror=function(e){var n;t(g.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var E=new u.Yd("@firebase/app-check");function S(e,t){return(0,s.hl)()?function(e,t){return function(e,t){return x.apply(this,arguments)}(function(e){return"".concat(e.options.appId,"-").concat(e.name)}(e),t)}(e,t).catch(function(e){E.warn("Failed to write token to IndexedDB. Error: ".concat(e))}):Promise.resolve()}function T(){return p().enabled}function I(){return A.apply(this,arguments)}function A(){return(A=(0,i.Z)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=p()).enabled||!t.token){e.next=3;break}return e.abrupt("return",t.token.promise);case 3:throw Error("\n            Can't get debug token in production mode.\n        ");case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var O={error:"UNKNOWN_ERROR"};function D(e){return s.US.encodeString(JSON.stringify(e),!1)}function R(e){return P.apply(this,arguments)}function P(){return(P=(0,i.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s,u,c,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]&&l[1],y(r=t.app),i=f(r),s=i.token){e.next=10;break}return e.next=8,i.cachedTokenPromise;case 8:(u=e.sent)&&M(u)&&(s=u,d(r,Object.assign(Object.assign({},i),{token:s})),N(r,{token:s.token}));case 10:if(n||!s||!M(s)){e.next=12;break}return e.abrupt("return",{token:s.token});case 12:if(!T()){e.next=28;break}return e.t0=m,e.t1=k,e.t2=r,e.next=18,I();case 18:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5=t.platformLoggerProvider,e.next=23,(0,e.t0)(e.t4,e.t5);case 23:return c=e.sent,e.next=26,S(r,c);case 26:return d(r,Object.assign(Object.assign({},i),{token:c})),e.abrupt("return",{token:c.token});case 28:return e.prev=28,e.next=31,i.provider.getToken();case 31:s=e.sent,e.next=37;break;case 34:e.prev=34,e.t6=e.catch(28),E.error(e.t6),a=e.t6;case 37:if(!s){e.next=44;break}return o={token:s.token},d(r,Object.assign(Object.assign({},i),{token:s})),e.next=42,S(r,s);case 42:e.next=45;break;case 44:o=L(a);case 45:return N(r,o),e.abrupt("return",o);case 47:case"end":return e.stop()}},e,null,[[28,34]])}))).apply(this,arguments)}function F(e,t){var n=f(e),r=n.tokenObservers.filter(function(e){return e.next!==t});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),d(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function N(e,t){var n,r=_createForOfIteratorHelper(f(e).tokenObservers);try{for(r.s();!(n=r.n()).done;){var i=n.value;try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(a){}}}catch(o){r.e(o)}finally{r.f()}}function M(e){return e.expireTimeMillis-Date.now()>0}function L(e){return{token:D(O),error:e}}var U=function(){function e(t,n){_classCallCheck(this,e),this.app=t,this.platformLoggerProvider=n}return _createClass(e,[{key:"_delete",value:function(){var e,t=_createForOfIteratorHelper(f(this.app).tokenObservers);try{for(t.s();!(e=t.n()).done;){var n=e.value;F(this.app,n.next)}}catch(r){t.e(r)}finally{t.f()}return Promise.resolve()}}]),e}(),j="app-check-internal";(0,a._registerComponent)(new o.wA("app-check",function(e){return function(e,t){return new U(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider(j).initialize()})),(0,a._registerComponent)(new o.wA(j,function(e){return function(e){return{getToken:function(t){return R(e,t)},addTokenListener:function(t){return function(e,t,n,r){var a=e.app,o=f(a),s={next:n,error:void 0,type:"INTERNAL"},u=Object.assign(Object.assign({},o),{tokenObservers:[].concat(_toConsumableArray(o.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e){var t=e.app;return new v((0,i.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!f(t).token){n.next=6;break}return n.next=3,R(e,!0);case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,R(e);case 8:n.t0=n.sent;case 9:if(!(r=n.t0).error){n.next=12;break}throw r.error;case 12:case"end":return n.stop()}},n)})),function(){return!0},function(){var e=f(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},3e4,96e4)}(e);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&o.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),o.token&&M(o.token)){var l=o.token;Promise.resolve().then(function(){return n({token:l.token})}).catch(function(){})}else null==o.token&&o.cachedTokenPromise.then(function(e){e&&M(e)&&n({token:e.token})}).catch(function(){});d(a,u)}(e,0,t)},removeTokenListener:function(t){return F(e.app,t)}}}(e.getProvider("app-check").getImmediate())},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,a.registerVersion)("@firebase/app-check","0.4.2");var V=function e(){return _classCallCheck(this,e),(0,r.vb)("app-check")};"undefined"!=typeof window&&window},127:function(e,t,n){"use strict";n.d(t,{Ot:function(){return o},z6:function(){return s},ZF:function(){return v},hX:function(){return p}});var r=n(2329),i=n(7716),a=n(6643),o=function e(t){return _classCallCheck(this,e),t},s=function e(){return _classCallCheck(this,e),(0,r.C6)()},u=new i.OlP("angularfire2._apps"),c={provide:o,useFactory:function(e){return e&&1===e.length?e[0]:new o((0,r.Mq)())},deps:[[new i.FiY,u]]},l={provide:s,deps:[[new i.FiY,u]]};function h(e){return function(t,n){var r=t.runOutsideAngular(function(){return e(n)});return new o(r)}}var f,d=((f=function e(t){_classCallCheck(this,e),(0,r.KN)("angularfire",a.q4.full,"core"),(0,r.KN)("angularfire",a.q4.full,"app"),(0,r.KN)("angular",i.q4F.full,t.toString())}).\u0275fac=function(e){return new(e||f)(i.LFG(i.Lbi))},f.\u0275mod=i.oAB({type:f}),f.\u0275inj=i.cJS({providers:[c,l]}),f);function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{ngModule:d,providers:[{provide:u,useFactory:h(e),multi:!0,deps:[i.R0b,i.zs3,a.HU].concat(n)}]}}var v=(0,a.u3)(r.ZF,!0)},2673:function(e,t,n){"use strict";n.d(t,{zQ:function(){return O},rT:function(){return S},f7:function(){return I},L6:function(){return x},_Q:function(){return E},lh:function(){return T},Qv:function(){return w},nw:function(){return A}});var r=n(7716),i=n(9765),a=n(5917),o=n(8891),s=n(4402),u=n(6682),c=n(8229);function l(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(function(e){var t,n,r=e.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,a=e.windowTime,o=void 0===a?Number.POSITIVE_INFINITY:a,s=e.refCount,u=e.scheduler,l=0,h=!1,f=!1;return function(e){var r;l++,!t||h?(h=!1,t=new c.t(i,o,u),r=t.subscribe(this),n=e.subscribe({next:function(e){t.next(e)},error:function(e){h=!0,t.error(e)},complete:function(){f=!0,n=void 0,t.complete()}}),f&&(n=void 0)):r=t.subscribe(this),this.add(function(){l--,r.unsubscribe(),r=void 0,n&&!f&&s&&0===l&&(n.unsubscribe(),n=void 0,t=void 0)})}}(r))}}var h=n(3190);function f(e,t){return t?(0,h.w)(function(){return e},t):(0,h.w)(function(){return e})}var d=n(9746),p=n(8002),v=n(8049),g=n(3101),y=n(5435),m=n(6643),_=n(8939),k=n(8583),b=n(5869);n(7841);var C,w=new r.OlP("angularfire2.auth.use-emulator"),x=new r.OlP("angularfire2.auth.settings"),E=new r.OlP("angularfire2.auth.tenant-id"),S=new r.OlP("angularfire2.auth.langugage-code"),T=new r.OlP("angularfire2.auth.use-device-language"),I=new r.OlP("angularfire.auth.persistence"),A=function(e,t,n,r,i,a,o,s){return(0,_.cc)("".concat(e.name,".auth"),"AngularFireAuth",e.name,function(){var u=t.runOutsideAngular(function(){return e.auth()});if(n&&u.useEmulator.apply(u,_toConsumableArray(n)),r&&(u.tenantId=r),u.languageCode=i,a&&u.useDeviceLanguage(),o)for(var c=0,l=Object.entries(o);c<l.length;c++){var h=_slicedToArray(l[c],2),f=h[0],d=h[1];u.settings[f]=d}return s&&u.setPersistence(s),u},[n,r,i,a,o,s])},O=((C=function e(t,r,c,b,C,w,x,E,S,T,I,O){_classCallCheck(this,e);var D=new i.xQ,R=(0,a.of)(void 0).pipe((0,d.QV)(C.outsideAngular),(0,h.w)(function(){return b.runOutsideAngular(function(){return Promise.resolve().then(n.bind(n,4828))})}),(0,p.U)(function(){return(0,_.on)(t,b,r)}),(0,p.U)(function(e){return A(e,b,w,E,S,T,x,I)}),l({bufferSize:1,refCount:!1}));if((0,k.PM)(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,a.of)(null);else{R.pipe((0,v.P)()).subscribe();var P=R.pipe((0,h.w)(function(e){return e.getRedirectResult().then(function(e){return e},function(){return null})}),m.iC,l({bufferSize:1,refCount:!1})),F=R.pipe((0,h.w)(function(e){return new o.y(function(t){return{unsubscribe:b.runOutsideAngular(function(){return e.onAuthStateChanged(function(e){return t.next(e)},function(e){return t.error(e)},function(){return t.complete()})})}})})),N=R.pipe((0,h.w)(function(e){return new o.y(function(t){return{unsubscribe:b.runOutsideAngular(function(){return e.onIdTokenChanged(function(e){return t.next(e)},function(e){return t.error(e)},function(){return t.complete()})})}})}));this.authState=P.pipe(f(F),(0,g.R)(C.outsideAngular),(0,d.QV)(C.insideAngular)),this.user=P.pipe(f(N),(0,g.R)(C.outsideAngular),(0,d.QV)(C.insideAngular)),this.idToken=this.user.pipe((0,h.w)(function(e){return e?(0,s.D)(e.getIdToken()):(0,a.of)(null)})),this.idTokenResult=this.user.pipe((0,h.w)(function(e){return e?(0,s.D)(e.getIdTokenResult()):(0,a.of)(null)})),this.credential=(0,u.T)(P,D,this.authState.pipe((0,y.h)(function(e){return!e}))).pipe((0,p.U)(function(e){return(null==e?void 0:e.user)?e:null}),(0,g.R)(C.outsideAngular),(0,d.QV)(C.insideAngular))}return(0,_.pX)(this,R,b,{spy:{apply:function(e,t,n){(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(function(e){return D.next(e)})}}})}).\u0275fac=function(e){return new(e||C)(r.LFG(_.Dh),r.LFG(_.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(m.HU),r.LFG(w,8),r.LFG(x,8),r.LFG(E,8),r.LFG(S,8),r.LFG(T,8),r.LFG(I,8),r.LFG(b.nm,8))},C.\u0275prov=r.Yz7({token:C,factory:C.\u0275fac,providedIn:"any"}),C)},9781:function(e,t,n){"use strict";n.d(t,{ST:function(){return fe}});var r=n(7716),i=n(3637),a=n(8891),o=n(4402),s=n(5917),u=n(6643),c=n(7393);function l(){return function(e){return e.lift(new h)}}var h=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new f(e))}}]),e}(),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(e){var t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}]),n}(c.L),d=n(9761),p=n(8002),v=n(2145),g=n(7519),y=n(5435),m=n(8939),_=n(8583),k=(n(4828),n(4486)),b=n(1304),C=n(3854),w=n(6034);function x(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new b.WA("invalid-argument","Invalid options passed to function ".concat(e,'(): You cannot specify both "merge" and "mergeFields".'));return t}function E(){if("undefined"==typeof Uint8Array)throw new b.WA("unimplemented","Uint8Arrays are not available in this environment.")}function S(){if(!(0,b.Me)())throw new b.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}var T=function(){function e(t){_classCallCheck(this,e),this._delegate=t}return _createClass(e,[{key:"toBase64",value:function(){return S(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return E(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return S(),new e(b.Jj.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return E(),new e(b.Jj.fromUint8Array(t))}}]),e}();function I(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var a=i[r];if(a in n&&"function"==typeof n[a])return!0}return!1}(e)}var A=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return(0,b.ST)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return(0,b.fH)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return(0,b.Fc)(e._delegate)}}]),e}(),O=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof b.l7||(this._appCompat=t)}return _createClass(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&(0,b.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,b.at)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return(0,b.Ix)(this._delegate)}},{key:"disableNetwork",value:function(){return(0,b.TF)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,(0,b.Wi)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return(0,b.Mx)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return(0,b.sc)(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new b.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new H(this,(0,b.hJ)(this._delegate,e))}catch(t){throw M(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new N(this,(0,b.JU)(this._delegate,e))}catch(t){throw M(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new B(this,(0,b.B$)(this._delegate,e))}catch(t){throw M(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return(0,b.i3)(this._delegate,function(n){return e(new R(t,n))})}},{key:"batch",value:function(){var e=this;return(0,b.qY)(this._delegate),new P(new b.PU(this._delegate,function(t){return(0,b.GL)(e._delegate,t)}))}},{key:"loadBundle",value:function(e){return(0,b.Pb)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return(0,b.L$)(this._delegate,e).then(function(e){return e?new B(t,e):null})}}]),e}(),D=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).firestore=e,r}return _createClass(n,[{key:"convertBytes",value:function(e){return new T(new b.Jj(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return N.forKey(t,this.firestore,null)}}]),n}(b.u7),R=function(){function e(t,n){_classCallCheck(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new D(t)}return _createClass(e,[{key:"get",value:function(e){var t=this,n=Z(e);return this._delegate.get(n).then(function(e){return new j(t._firestore,new b.xU(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})}},{key:"set",value:function(e,t,n){var r=Z(e);return n?(x("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r,i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];var s=Z(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,[s,t,n].concat(a)),this}},{key:"delete",value:function(e){var t=Z(e);return this._delegate.delete(t),this}}]),e}(),P=function(){function e(t){_classCallCheck(this,e),this._delegate=t}return _createClass(e,[{key:"set",value:function(e,t,n){var r=Z(e);return n?(x("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r,i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];var s=Z(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,[s,t,n].concat(a)),this}},{key:"delete",value:function(e){var t=Z(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),F=function(){function e(t,n,r){_classCallCheck(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return _createClass(e,[{key:"fromFirestore",value:function(e,t){var n=new b.$q(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new V(this._firestore,n),null!=t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new D(t),n),i.set(n,a)),a}}]),e}();F.INSTANCES=new WeakMap;var N=function(){function e(t,n){_classCallCheck(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new D(t)}return _createClass(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new H(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new H(this.firestore,(0,b.hJ)(this._delegate,e))}catch(t){throw M(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=(0,C.m9)(e))instanceof b.my&&(0,b.Eo)(this._delegate,e)}},{key:"set",value:function(e,t){t=x("DocumentReference.set",t);try{return t?(0,b.pl)(this._delegate,e,t):(0,b.pl)(this._delegate,e)}catch(n){throw M(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?(0,b.r7)(this._delegate,e):b.r7.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw M(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return(0,b.oe)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=L(n),a=U(n,function(t){return new j(e.firestore,new b.xU(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return(0,b.cf)(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null==e?void 0:e.source)?(0,b.kl)(this._delegate):"server"===(null==e?void 0:e.source)?(0,b.Xk)(this._delegate):(0,b.QT)(this._delegate)).then(function(e){return new j(t.firestore,new b.xU(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))})}},{key:"withConverter",value:function(t){return new e(this.firestore,this._delegate.withConverter(t?F.getInstance(this.firestore,t):null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!=0)throw new b.WA("invalid-argument","Invalid document reference. Document references must have an even number of segments, but ".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new b.my(n._delegate,r,new b.Ky(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new b.my(n._delegate,r,t))}}]),e}();function M(e,t,n){return e.message=e.message.replace(t,n),e}function L(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"==typeof r&&!I(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function U(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=I(e[0])?e[0]:I(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var j=function(){function e(t,n){_classCallCheck(this,e),this._firestore=t,this._delegate=n}return _createClass(e,[{key:"ref",get:function(){return new N(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return(0,b.qK)(this._delegate,e._delegate)}}]),e}(),V=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return(0,b.K9)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),n}(j),B=function(){function e(t,n){_classCallCheck(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new D(t)}return _createClass(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,(0,b.IO)(this._delegate,(0,b.ar)(t,n,r)))}catch(i){throw M(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,(0,b.IO)(this._delegate,(0,b.Xo)(t,n)))}catch(r){throw M(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,(0,b.IO)(this._delegate,(0,b.b9)(t)))}catch(n){throw M(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,(0,b.IO)(this._delegate,(0,b.vh)(t)))}catch(n){throw M(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,(0,b.IO)(this._delegate,b.e0.apply(void 0,arguments)))}catch(t){throw M(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,(0,b.IO)(this._delegate,b.TQ.apply(void 0,arguments)))}catch(t){throw M(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,(0,b.IO)(this._delegate,b.Lx.apply(void 0,arguments)))}catch(t){throw M(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,(0,b.IO)(this._delegate,b.Wu.apply(void 0,arguments)))}catch(t){throw M(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return(0,b.iE)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null==e?void 0:e.source)?(0,b.UQ)(this._delegate):"server"===(null==e?void 0:e.source)?(0,b.zN)(this._delegate):(0,b.PL)(this._delegate)).then(function(e){return new z(t.firestore,new b.W(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))})}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=L(n),a=U(n,function(t){return new z(e.firestore,new b.W(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return(0,b.cf)(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,this._delegate.withConverter(t?F.getInstance(this.firestore,t):null))}}]),e}(),q=function(){function e(t,n){_classCallCheck(this,e),this._firestore=t,this._delegate=n}return _createClass(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new V(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),z=function(){function e(t,n){_classCallCheck(this,e),this._firestore=t,this._delegate=n}return _createClass(e,[{key:"query",get:function(){return new B(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map(function(t){return new V(e._firestore,t)})}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new q(t._firestore,e)})}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new V(n._firestore,r))})}},{key:"isEqual",value:function(e){return(0,b.qK)(this._delegate,e._delegate)}}]),e}(),H=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return _createClass(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new N(this.firestore,e):null}},{key:"doc",value:function(e){try{return new N(this.firestore,void 0===e?(0,b.JU)(this._delegate):(0,b.JU)(this._delegate,e))}catch(t){throw M(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return(0,b.ET)(this._delegate,e).then(function(e){return new N(t.firestore,e)})}},{key:"isEqual",value:function(e){return(0,b.Eo)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,this._delegate.withConverter(e?F.getInstance(this.firestore,e):null))}}]),n}(B);function Z(e){return(0,b.Cf)(e,b.my)}var K,G=function(){function e(){_classCallCheck(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=_construct(b.Lz,n)}return _createClass(e,[{key:"isEqual",value:function(e){return(e=(0,C.m9)(e))instanceof b.Lz&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(b.Xb.keyField().canonicalString())}}]),e}(),W=function(){function e(t){_classCallCheck(this,e),this._delegate=t}return _createClass(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=(0,b.Bt)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=(0,b.AK)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=b.vr.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=b.Ab.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=(0,b.nP)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Q={Firestore:O,GeoPoint:b.F8,Timestamp:b.EK,Blob:T,Transaction:R,WriteBatch:P,DocumentReference:N,DocumentSnapshot:j,Query:B,QueryDocumentSnapshot:V,QuerySnapshot:z,CollectionReference:H,FieldPath:G,FieldValue:W,setLogLevel:function(e){(0,b.Ub)(e)},CACHE_SIZE_UNLIMITED:b.IX};(function(e,t){e.INTERNAL.registerComponent(new w.wA("firestore-compat",function(e){return function(e,t){return new O(e,t,new A)}(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())},"PUBLIC").setServiceProps(Object.assign({},Q)))})(K=k.Z),K.registerVersion("@firebase/firestore-compat","0.1.5");var Y=n(2673),J=n(5869);function $(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.z;return new a.y(function(n){var r;return null!=t?t.schedule(function(){r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(e,t)}function X(e,t){return $(e,t).pipe((0,p.U)(function(e){return{payload:e,type:"query"}}))}function ee(e,t){return X(e,t).pipe((0,d.O)(void 0),l(),(0,p.U)(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=r.payload.docChanges(),a=i.map(function(e){return{type:e.type,payload:e}});return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach(function(e,t){var r=i.find(function(t){return t.doc.ref.isEqual(e.ref)}),o=null==n?void 0:n.payload.docs.find(function(t){return t.ref.isEqual(e.ref)});r&&JSON.stringify(r.doc.metadata)===JSON.stringify(e.metadata)||!r&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||a.push({type:"modified",payload:{oldIndex:t,newIndex:t,type:"modified",doc:e}})}),a}))}function te(e,t,n){return ee(e,n).pipe((0,v.R)(function(e,n){return function(e,t,n){return t.forEach(function(t){n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return ne(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){var n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return ne(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return ne(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(function(e){return e.payload}),t)},[]),(0,g.x)(),(0,p.U)(function(e){return e.map(function(e){return{type:e.type,payload:e}})}))}function ne(e,t,n){for(var r=e.slice(),i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return r.splice.apply(r,[t,n].concat(a)),r}function re(e){return(!e||0===e.length)&&(e=["added","removed","modified"]),e}n(7841);var ie=function(){function e(t,n,r){_classCallCheck(this,e),this.ref=t,this.query=n,this.afs=r}return _createClass(e,[{key:"stateChanges",value:function(e){var t=ee(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,p.U)(function(t){return t.filter(function(t){return e.indexOf(t.type)>-1})}))),t.pipe((0,d.O)(void 0),l(),(0,y.h)(function(e){var t=_slicedToArray(e,2),n=t[0];return t[1].length>0||!n}),(0,p.U)(function(e){var t=_slicedToArray(e,2);t[0];return t[1]}),u.iC)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe((0,v.R)(function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))},[]))}},{key:"snapshotChanges",value:function(e){var t=re(e);return te(this.query,t,this.afs.schedulers.outsideAngular).pipe(u.iC)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return X(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(function(t){return t.payload.docs.map(function(t){return e.idField?Object.assign(Object.assign({},t.data()),_defineProperty({},e.idField,t.id)):t.data()})}),u.iC)}},{key:"get",value:function(e){return(0,o.D)(this.query.get(e)).pipe(u.iC)}},{key:"add",value:function(e){return this.ref.add(e)}},{key:"doc",value:function(e){return new ae(this.ref.doc(e),this.afs)}}]),e}(),ae=function(){function e(t,n){_classCallCheck(this,e),this.ref=t,this.afs=n}return _createClass(e,[{key:"set",value:function(e,t){return this.ref.set(e,t)}},{key:"update",value:function(e){return this.ref.update(e)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(e,t){var n=he(this.ref.collection(e),t),r=n.ref,i=n.query;return new ie(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return function(e,t){return $(e,t).pipe((0,d.O)(void 0),l(),(0,p.U)(function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(u.iC)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe((0,p.U)(function(t){var n=t.payload;return e.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},e.idField,n.id)):n.data()}))}},{key:"get",value:function(e){return(0,o.D)(this.ref.get(e)).pipe(u.iC)}}]),e}(),oe=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.afs=n}return _createClass(e,[{key:"stateChanges",value:function(e){return e&&0!==e.length?ee(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(function(t){return t.filter(function(t){return e.indexOf(t.type)>-1})}),(0,y.h)(function(e){return e.length>0}),u.iC):ee(this.query,this.afs.schedulers.outsideAngular).pipe(u.iC)}},{key:"auditTrail",value:function(e){return this.stateChanges(e).pipe((0,v.R)(function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(t))},[]))}},{key:"snapshotChanges",value:function(e){var t=re(e);return te(this.query,t,this.afs.schedulers.outsideAngular).pipe(u.iC)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return X(this.query,this.afs.schedulers.outsideAngular).pipe((0,p.U)(function(t){return t.payload.docs.map(function(t){return e.idField?Object.assign(_defineProperty({},e.idField,t.id),t.data()):t.data()})}),u.iC)}},{key:"get",value:function(e){return(0,o.D)(this.query.get(e)).pipe(u.iC)}}]),e}(),se=new r.OlP("angularfire2.enableFirestorePersistence"),ue=new r.OlP("angularfire2.firestore.persistenceSettings"),ce=new r.OlP("angularfire2.firestore.settings"),le=new r.OlP("angularfire2.firestore.use-emulator");function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return{query:t(e),ref:e}}var fe=function(){var e=function(){function e(t,n,r,i,a,u,c,l,h,f,d,p,v,g,y,k,b){var C;_classCallCheck(this,e),this.schedulers=c;var w=(0,m.on)(t,u,n),x=h;f&&(0,Y.nw)(w,u,d,v,g,y,p,k),C=_slicedToArray((0,m.cc)("".concat(w.name,".firestore"),"AngularFirestore",w.name,function(){var e=u.runOutsideAngular(function(){return w.firestore()});if(i&&e.settings(i),x&&e.useEmulator.apply(e,_toConsumableArray(x)),r&&!(0,_.PM)(a)){return[e,u.runOutsideAngular(function(){try{return(0,o.D)(e.enablePersistence(l||void 0).then(function(){return!0},function(){return!1}))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,s.of)(!1)}})]}return[e,(0,s.of)(!1)]},[i,x,r]),2),this.firestore=C[0],this.persistenceEnabled$=C[1]}return _createClass(e,[{key:"collection",value:function(e,t){var n=he("string"==typeof e?this.firestore.collection(e):e,t),r=n.ref,i=n.query,a=this.schedulers.ngZone.run(function(){return r});return new ie(a,i,this)}},{key:"collectionGroup",value:function(e,t){var n=t||function(e){return e},r=this.firestore.collectionGroup(e);return new oe(n(r),this)}},{key:"doc",value:function(e){var t;t="string"==typeof e?this.firestore.doc(e):e;var n=this.schedulers.ngZone.run(function(){return t});return new ae(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.LFG(m.Dh),r.LFG(m.xv,8),r.LFG(se,8),r.LFG(ce,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(u.HU),r.LFG(ue,8),r.LFG(le,8),r.LFG(Y.zQ,8),r.LFG(Y.Qv,8),r.LFG(Y.L6,8),r.LFG(Y._Q,8),r.LFG(Y.rT,8),r.LFG(Y.lh,8),r.LFG(Y.f7,8),r.LFG(J.nm,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e}()},8939:function(e,t,n){"use strict";n.d(t,{hO:function(){return g},xv:function(){return h},Dh:function(){return l},GT:function(){return u},cc:function(){return y},on:function(){return f},pX:function(){return s}});var r=n(7716),i=n(7841),a=n(6643);e=n.hmd(e);var o=["ngOnDestroy"],s=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(e,{get:function(i,a){return n.runOutsideAngular(function(){var i;if(e[a])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(a,e[a]),e[a];if(o.indexOf(a)>-1)return function(){};var s=t.toPromise().then(function(e){var t=e&&e[a];return"function"==typeof t?t.bind(e):t&&t.then?t.then(function(e){return n.run(function(){return e})}):n.run(function(){return t})});return new Proxy(function(){},{get:function(e,t){return s[t]},apply:function(e,t,n){return s.then(function(e){var t,i=e&&e.apply(void 0,_toConsumableArray(n));return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(a,n,i),i})}})})}})},u=function(e,t){t.forEach(function(t){Object.getOwnPropertyNames(t.prototype||t).forEach(function(n){Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})},c=function e(t){return _classCallCheck(this,e),t},l=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function f(t,n,r){var a="object"==typeof r&&r||{};a.name=a.name||"string"==typeof r&&r||"[DEFAULT]";var o=i.Z.apps.filter(function(e){return e&&e.name===a.name})[0]||n.runOutsideAngular(function(){return i.Z.initializeApp(t,a)});try{JSON.stringify(t)!==JSON.stringify(o.options)&&p("error","".concat(o.name," Firebase App already initialized with different options").concat(e.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(s){}return new c(o)}var d,p=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(0,r.X6Q)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,i)},v={provide:c,useFactory:f,deps:[l,r.R0b,[new r.FiY,h]]},g=((d=function(){function e(t){_classCallCheck(this,e),i.Z.registerVersion("angularfire",a.q4.full,"core"),i.Z.registerVersion("angularfire",a.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,t.toString())}return _createClass(e,null,[{key:"initializeApp",value:function(t,n){return{ngModule:e,providers:[{provide:l,useValue:t},{provide:h,useValue:n}]}}}]),e}()).\u0275fac=function(e){return new(e||d)(r.LFG(r.Lbi))},d.\u0275mod=r.oAB({type:d}),d.\u0275inj=r.cJS({providers:[v]}),d);function y(e,t,n,r,i){var a=_slicedToArray(globalThis.\u0275AngularfireInstanceCache.find(function(t){return t[0]===e})||[],3),o=a[1],s=a[2];if(o)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,s)||(_("error","".concat(t," was already initialized on the ").concat(n," Firebase App with different settings.").concat(m?" You may need to reload as Firebase is not HMR aware.":"")),_("warn",{is:i,was:s})),o;var u=r();return globalThis.\u0275AngularfireInstanceCache.push([e,u,i]),u}var m=!!e.hot,_=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(0,r.X6Q)()&&"undefined"!=typeof console&&(t=console)[e].apply(t,i)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:function(e,t,n){"use strict";n.d(t,{q4:function(){return Nn},iC:function(){return Wn},HU:function(){return Hn},vb:function(){return Vn},JM:function(){return jn},u3:function(){return Yn}});var r=n(7716),i=n(2329),a=n(8239),o=n(5452),s=n(3854),u=n(6034),c=n(5601),l=n(6676),h="@firebase/installations",f="0.5.2",d="w:".concat(f),p="FIS_v2",v=new s.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function g(e){return e instanceof s.ZR&&e.code.includes("request-failed")}function y(e){var t=e.projectId;return"https://firebaseinstallations.googleapis.com/v1/projects/".concat(t,"/installations")}function m(e){return{token:e.token,requestStatus:2,expiresIn:E(e.expiresIn),creationTime:Date.now()}}function _(e,t){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent.error,e.abrupt("return",v.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function C(e,t){var n=t.refreshToken,r=b(e);return r.append("Authorization",function(e){return"".concat(p," ").concat(e)}(n)),r}function w(e){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return n=e.sent,e.abrupt("return",n.status>=500&&n.status<600?t():n);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(e){return Number(e.replace("s","000"))}function S(e,t){return T.apply(this,arguments)}function T(){return(T=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.fid,i=y(t),a={method:"POST",headers:b(t),body:JSON.stringify({fid:r,authVersion:p,appId:t.appId,sdkVersion:d})},e.next=5,w(function(){return fetch(i,a)});case 5:if(!(o=e.sent).ok){e.next=11;break}return e.next=9,o.json();case 9:return s=e.sent,e.abrupt("return",{fid:s.fid||r,registrationStatus:2,refreshToken:s.refreshToken,authToken:m(s.authToken)});case 11:return e.next=13,_("Create Installation",o);case 13:throw e.sent;case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e){return new Promise(function(t){setTimeout(t,e)})}var A=/^[cdef][\w-]{21}$/;function O(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return function(e){return btoa(String.fromCharCode.apply(String,_toConsumableArray(e))).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return A.test(t)?t:""}catch(e){return""}}function D(e){return"".concat(e.appName,"!").concat(e.appId)}var R=new Map;function P(e,t){var n=D(e);F(n,t),function(e,t){var n=(!N&&"BroadcastChannel"in self&&((N=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){F(e.data.key,e.data.fid)}),N);n&&n.postMessage({key:e,fid:t}),0===R.size&&N&&(N.close(),N=null)}(n,t)}function F(e,t){var n=R.get(e);if(n){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var N=null,M="firebase-installations-store",L=null;function U(){return L||(L=(0,l.openDb)("firebase-installations-database",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore(M)}})),L}function j(e,t){return V.apply(this,arguments)}function V(){return(V=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.next=3,U();case 3:return i=e.sent.transaction(M,"readwrite"),a=i.objectStore(M),e.next=7,a.get(r);case 7:return o=e.sent,e.next=10,a.put(n,r);case 10:return e.next=12,i.complete;case 12:return(!o||o.fid!==n.fid)&&P(t,n.fid),e.abrupt("return",n);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function B(e){return q.apply(this,arguments)}function q(){return(q=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=D(t),e.next=3,U();case 3:return r=e.sent.transaction(M,"readwrite"),e.next=6,r.objectStore(M).delete(n);case 6:return e.next=8,r.complete;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(e,t){return H.apply(this,arguments)}function H(){return(H=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.next=3,U();case 3:return i=e.sent.transaction(M,"readwrite"),a=i.objectStore(M),e.next=7,a.get(r);case 7:if(o=e.sent,void 0!==(s=n(o))){e.next=14;break}return e.next=12,a.delete(r);case 12:e.next=16;break;case 14:return e.next=16,a.put(s,r);case 16:return e.next=18,i.complete;case 18:return s&&(!o||o.fid!==s.fid)&&P(t,s.fid),e.abrupt("return",s);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Z(e){return K.apply(this,arguments)}function K(){return(K=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t,function(e){var r=G(e),i=W(t,r);return n=i.registrationPromise,i.installationEntry});case 2:if(""!==(r=e.sent).fid){e.next=10;break}return e.next=6,n;case 6:e.t1=e.sent,e.t0={installationEntry:e.t1},e.next=11;break;case 10:e.t0={installationEntry:r,registrationPromise:n};case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(e){return X(e||{fid:O(),registrationStatus:0})}function W(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(v.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return Q.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Y(e)}:{installationEntry:t}}function Q(){return(Q=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=j,e.t1=t,e.next=5,S(t,n);case 5:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 9:if(e.prev=9,e.t3=e.catch(0),!g(e.t3)||409!==e.t3.customData.serverCode){e.next=16;break}return e.next=14,B(t);case 14:e.next=18;break;case 16:return e.next=18,j(t,{fid:n.fid,registrationStatus:0});case 18:throw e.t3;case 19:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function Y(e){return J.apply(this,arguments)}function J(){return(J=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,I(100);case 6:return e.next=8,$(t);case 8:n=e.sent;case 9:e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=18;break}return e.next=14,Z(t);case 14:return r=e.sent,i=r.installationEntry,a=r.registrationPromise,e.abrupt("return",a||i);case 18:return e.abrupt("return",n);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $(e){return z(e,function(e){if(!e)throw v.create("installation-not-found");return X(e)})}function X(e){return function(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appConfig,i=t.platformLoggerProvider,a=ne(r,n),o=C(r,n),(s=i.getImmediate({optional:!0}))&&o.append("x-firebase-client",s.getPlatformInfoString()),u={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:d}})},e.next=6,w(function(){return fetch(a,u)});case 6:if(!(c=e.sent).ok){e.next=13;break}return e.t0=m,e.next=11,c.json();case 11:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 13:return e.next=15,_("Generate Auth Token",c);case 15:throw e.sent;case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ne(e,t){var n=t.fid;return"".concat(y(e),"/").concat(n,"/authTokens:generate")}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],e.next=3,z(t.appConfig,function(e){if(!le(e))throw v.create("not-registered");var i=e.authToken;if(!n&&he(i))return e;if(1===i.requestStatus)return r=ae(t,n),e;if(!navigator.onLine)throw v.create("app-offline");var a=fe(e);return r=ue(t,a),a});case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e,t){return oe.apply(this,arguments)}function oe(){return(oe=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,I(100);case 6:return e.next=8,se(t.appConfig);case 8:r=e.sent;case 9:e.next=3;break;case 11:return i=r.authToken,e.abrupt("return",0===i.requestStatus?re(t,n):i);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function se(e){return z(e,function(e){if(!le(e))throw v.create("not-registered");return function(e){return 1===e.requestStatus&&e.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ue(e,t){return ce.apply(this,arguments)}function ce(){return(ce=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,j(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),g(e.t0)&&(401===e.t0.customData.serverCode||404===e.t0.customData.serverCode)){e.next=18;break}return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=16,j(t.appConfig,a);case 16:e.next=20;break;case 18:return e.next=20,B(t.appConfig);case 20:throw e.t0;case 21:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function le(e){return void 0!==e&&2===e.registrationStatus}function he(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function fe(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function de(){return(de=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Z(n.appConfig);case 3:return r=e.sent,i=r.installationEntry,a=r.registrationPromise,e.abrupt("return",(a?a.catch(console.error):re(n).catch(console.error),i.fid));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pe(){return(pe=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=t,e.next=4,ve(r.appConfig);case 4:return e.next=6,re(r,n);case 6:return e.abrupt("return",e.sent.token);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ve(e){return ge.apply(this,arguments)}function ge(){return(ge=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t);case 2:if(n=e.sent,r=n.registrationPromise,e.t0=r,!e.t0){e.next=8;break}return e.next=8,r;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ye(e){return v.create("missing-app-config-values",{valueName:e})}var me="installations";(0,o._registerComponent)(new u.wA(me,function(e){var t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw ye("App Configuration");if(!e.name)throw ye("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw ye(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:(0,o._getProvider)(t,"platform-logger"),_delete:function(){return Promise.resolve()}}},"PUBLIC")),(0,o._registerComponent)(new u.wA("installations-internal",function(e){var t=e.getProvider("app").getImmediate(),n=(0,o._getProvider)(t,me).getImmediate();return{getId:function(){return function(e){return de.apply(this,arguments)}(n)},getToken:function(e){return function(e){return pe.apply(this,arguments)}(n,e)}}},"PRIVATE")),(0,o.registerVersion)(h,f),(0,o.registerVersion)(h,f,"esm2017");var _e="@firebase/remote-config",ke=new s.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"}),be=function(){function e(t,n,r,i){_classCallCheck(this,e),this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return _createClass(e,[{key:"isCachedDataFresh",value:function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: ".concat(n,". Cache max age millis (minimumFetchIntervalMillis setting): ").concat(e,". Is cache hit: ").concat(r,".")),r}},{key:"fetch",value:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark(function n(){var r,i,a,o,s,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);case 2:if(r=n.sent,i=_slicedToArray(r,2),a=i[0],!(o=i[1])||!t.isCachedDataFresh(e.cacheMaxAgeMillis,a)){n.next=8;break}return n.abrupt("return",o);case 8:return e.eTag=o&&o.eTag,n.next=11,t.client.fetch(e);case 11:return s=n.sent,u=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===s.status&&u.push(t.storage.setLastSuccessfulFetchResponse(s)),n.next=16,Promise.all(u);case 16:return n.abrupt("return",s);case 17:case"end":return n.stop()}},n)}))()}}]),e}();function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return e.languages&&e.languages[0]||e.language}var we=function(){function e(t,n,r,i,a,o){_classCallCheck(this,e),this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=a,this.appId=o}return _createClass(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark(function n(){var r,i,a,o,s,u,c,l,h,f,d,p,v,g,y,m,_;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]);case 2:return r=n.sent,i=_slicedToArray(r,2),a=i[0],o=i[1],s="".concat(window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com","/v1/projects/").concat(t.projectId,"/namespaces/").concat(t.namespace,":fetch?key=").concat(t.apiKey),u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:a,app_instance_id_token:o,app_id:t.appId,language_code:Ce()},l={method:"POST",headers:u,body:JSON.stringify(c)},h=fetch(s,l),f=new Promise(function(t,n){e.signal.addEventListener(function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)})}),n.prev=12,n.next=15,Promise.race([h,f]);case 15:return n.next=17,h;case 17:d=n.sent,n.next=24;break;case 20:throw n.prev=20,n.t0=n.catch(12),p="fetch-client-network","AbortError"===n.t0.name&&(p="fetch-timeout"),ke.create(p,{originalErrorMessage:n.t0.message});case 24:if(v=d.status,g=d.headers.get("ETag")||void 0,200!==d.status){n.next=37;break}return n.prev=27,n.next=30,d.json();case 30:_=n.sent,n.next=36;break;case 33:throw n.prev=33,n.t1=n.catch(27),ke.create("fetch-client-parse",{originalErrorMessage:n.t1.message});case 36:y=_.entries,m=_.state;case 37:if("INSTANCE_STATE_UNSPECIFIED"===m?v=500:"NO_CHANGE"===m?v=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(y={}),304===v||200===v){n.next=39;break}throw ke.create("fetch-status",{httpStatus:v});case 39:return n.abrupt("return",{status:v,eTag:g,config:y});case 40:case"end":return n.stop()}},n,null,[[12,20],[27,33]])}))()})}]),e}(),xe=function(){function e(t,n){_classCallCheck(this,e),this.client=t,this.storage=n}return _createClass(e,[{key:"fetch",value:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.storage.getThrottleMetadata();case 2:if(n.t0=n.sent,n.t0){n.next=5;break}n.t0={backoffCount:0,throttleEndTimeMillis:Date.now()};case 5:return r=n.t0,n.abrupt("return",t.attemptFetch(e,r));case 7:case"end":return n.stop()}},n)}))()}},{key:"attemptFetch",value:function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount,i=this;return(0,a.Z)(regeneratorRuntime.mark(function t(){var a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(function(){clearTimeout(a),r(ke.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,n);case 2:return t.prev=2,t.next=5,i.client.fetch(e);case 5:return a=t.sent,t.next=8,i.storage.deleteThrottleMetadata();case 8:return t.abrupt("return",a);case 11:if(t.prev=11,t.t0=t.catch(2),function(e){if(!(e instanceof s.ZR&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t.t0)){t.next=15;break}throw t.t0;case 15:return o={throttleEndTimeMillis:Date.now()+(0,s.$s)(r),backoffCount:r+1},t.next=18,i.storage.setThrottleMetadata(o);case 18:return t.abrupt("return",i.attemptFetch(e,o));case 19:case"end":return t.stop()}},t,null,[[2,11]])}))()}}]),e}(),Ee=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return _createClass(e,[{key:"fetchTimeMillis",get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}},{key:"lastFetchStatus",get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}]),e}();function Se(e,t){var n=e.target.error||void 0;return ke.create(t,{originalErrorMessage:n&&n.message})}var Te="app_namespace_store",Ie=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Promise(function(e,t){try{var r=indexedDB.open("firebase_remote_config",1);r.onerror=function(e){t(Se(e,"storage-open"))},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(e){var t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Te,{keyPath:"compositeKey"})}}}catch(n){t(ke.create("storage-open",{originalErrorMessage:n}))}});_classCallCheck(this,e),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return _createClass(e,[{key:"getLastFetchStatus",value:function(){return this.get("last_fetch_status")}},{key:"setLastFetchStatus",value:function(e){return this.set("last_fetch_status",e)}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.get("last_successful_fetch_timestamp_millis")}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.set("last_successful_fetch_timestamp_millis",e)}},{key:"getLastSuccessfulFetchResponse",value:function(){return this.get("last_successful_fetch_response")}},{key:"setLastSuccessfulFetchResponse",value:function(e){return this.set("last_successful_fetch_response",e)}},{key:"getActiveConfig",value:function(){return this.get("active_config")}},{key:"setActiveConfig",value:function(e){return this.set("active_config",e)}},{key:"getActiveConfigEtag",value:function(){return this.get("active_config_etag")}},{key:"setActiveConfigEtag",value:function(e){return this.set("active_config_etag",e)}},{key:"getThrottleMetadata",value:function(){return this.get("throttle_metadata")}},{key:"setThrottleMetadata",value:function(e){return this.set("throttle_metadata",e)}},{key:"deleteThrottleMetadata",value:function(){return this.delete("throttle_metadata")}},{key:"get",value:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.openDbPromise;case 2:return r=n.sent,n.abrupt("return",new Promise(function(n,i){var a=r.transaction([Te],"readonly").objectStore(Te),o=t.createCompositeKey(e);try{var s=a.get(o);s.onerror=function(e){i(Se(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;n(t?t.value:void 0)}}catch(s){i(ke.create("storage-get",{originalErrorMessage:s&&s.message}))}}));case 4:case"end":return n.stop()}},n)}))()}},{key:"set",value:function(e,t){var n=this;return(0,a.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.openDbPromise;case 2:return i=r.sent,r.abrupt("return",new Promise(function(r,a){var o=i.transaction([Te],"readwrite").objectStore(Te),s=n.createCompositeKey(e);try{var u=o.put({compositeKey:s,value:t});u.onerror=function(e){a(Se(e,"storage-set"))},u.onsuccess=function(){r()}}catch(u){a(ke.create("storage-set",{originalErrorMessage:u&&u.message}))}}));case 4:case"end":return r.stop()}},r)}))()}},{key:"delete",value:function(e){var t=this;return(0,a.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.openDbPromise;case 2:return r=n.sent,n.abrupt("return",new Promise(function(n,i){var a=r.transaction([Te],"readwrite").objectStore(Te),o=t.createCompositeKey(e);try{var s=a.delete(o);s.onerror=function(e){i(Se(e,"storage-delete"))},s.onsuccess=function(){n()}}catch(s){i(ke.create("storage-delete",{originalErrorMessage:s&&s.message}))}}));case 4:case"end":return n.stop()}},n)}))()}},{key:"createCompositeKey",value:function(e){return[this.appId,this.appName,this.namespace,e].join()}}]),e}(),Ae=function(){function e(t){_classCallCheck(this,e),this.storage=t}return _createClass(e,[{key:"getLastFetchStatus",value:function(){return this.lastFetchStatus}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.lastSuccessfulFetchTimestampMillis}},{key:"getActiveConfig",value:function(){return this.activeConfig}},{key:"loadFromStorage",value:function(){var e=this;return(0,a.Z)(regeneratorRuntime.mark(function t(){var n,r,i,a,o,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),t.next=5,n;case 5:return(a=t.sent)&&(e.lastFetchStatus=a),t.next=9,r;case 9:return(o=t.sent)&&(e.lastSuccessfulFetchTimestampMillis=o),t.next=13,i;case 13:(s=t.sent)&&(e.activeConfig=s);case 15:case"end":return t.stop()}},t)}))()}},{key:"setLastFetchStatus",value:function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}},{key:"setActiveConfig",value:function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}]),e}();function Oe(){return(Oe=(0,a.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,s.hl)()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,(0,s.eu)();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[2,8]])}))).apply(this,arguments)}(0,o._registerComponent)(new u.wA("remote-config",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ke.create("registration-window");if(!(0,s.hl)())throw ke.create("indexed-db-unavailable");var a=r.options,u=a.projectId,l=a.apiKey,h=a.appId;if(!u)throw ke.create("registration-project-id");if(!l)throw ke.create("registration-api-key");if(!h)throw ke.create("registration-app-id");var f=new Ie(h,r.name,n=n||"firebase"),d=new Ae(f),p=new c.Yd(_e);p.logLevel=c.in.ERROR;var v=new we(i,o.SDK_VERSION,n,u,l,h),g=new xe(v,f),y=new be(g,f,d,p),m=new Ee(r,y,d,f,p);return function(e){var t=(0,s.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(_e,"0.3.1"),(0,o.registerVersion)(_e,"0.3.1","esm2017");var De,Re="/firebase-messaging-sw.js",Pe="/firebase-cloud-messaging-push-scope",Fe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ne="google.c.a.c_id",Me="google.c.a.c_l",Le="google.c.a.ts",Ue="google.c.a.e",je=((De=je||(je={})).PUSH_RECEIVED="push-received",De.NOTIFICATION_CLICKED="notification-clicked",je);function Ve(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,_toConsumableArray(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Be(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var qe="fcm_token_details_db",ze="fcm_token_object_Store";function He(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0="databases"in indexedDB,!e.t0){e.next=5;break}return e.next=4,indexedDB.databases();case 4:e.t0=!e.sent.map(function(e){return e.name}).includes(qe);case 5:if(!e.t0){e.next=7;break}return e.abrupt("return",null);case 7:return n=null,e.next=10,(0,l.openDb)(qe,5,function(){var e=(0,a.Z)(regeneratorRuntime.mark(function e(r){var i,a,o,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.oldVersion<2)&&r.objectStoreNames.contains(ze)){e.next=2;break}return e.abrupt("return");case 2:return a=r.transaction.objectStore(ze),e.next=5,a.index("fcmSenderId").get(t);case 5:return o=e.sent,e.next=8,a.clear();case 8:if(!o){e.next=17;break}if(2!==r.oldVersion){e.next=16;break}if((s=o).auth&&s.p256dh&&s.endpoint){e.next=13;break}return e.abrupt("return");case 13:n={token:s.fcmToken,createTime:null!==(i=s.createTime)&&void 0!==i?i:Date.now(),subscriptionOptions:{auth:s.auth,p256dh:s.p256dh,endpoint:s.endpoint,swScope:s.swScope,vapidKey:"string"==typeof s.vapidKey?s.vapidKey:Ve(s.vapidKey)}},e.next=17;break;case 16:3===r.oldVersion?n={token:(u=o).fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Ve(u.auth),p256dh:Ve(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Ve(u.vapidKey)}}:4===r.oldVersion&&(n={token:(c=o).fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Ve(c.auth),p256dh:Ve(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Ve(c.vapidKey)}});case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:return e.sent.close(),e.next=13,(0,l.deleteDb)(qe);case 13:return e.next=15,(0,l.deleteDb)("fcm_vapid_details_db");case 15:return e.next=17,(0,l.deleteDb)("undefined");case 17:return e.abrupt("return",Ke(n)?n:null);case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ke(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}var Ge="firebase-messaging-store",We=null;function Qe(){return We||(We=(0,l.openDb)("firebase-messaging-database",1,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ge)}})),We}function Ye(e){return Je.apply(this,arguments)}function Je(){return(Je=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=nt(t),e.next=3,Qe();case 3:return e.next=5,e.sent.transaction(Ge).objectStore(Ge).get(n);case 5:if(!(r=e.sent)){e.next=8;break}return e.abrupt("return",r);case 8:return e.next=10,He(t.appConfig.senderId);case 10:if(!(i=e.sent)){e.next=15;break}return e.next=14,$e(t,i);case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $e(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=nt(t),e.next=3,Qe();case 3:return i=e.sent.transaction(Ge,"readwrite"),e.next=6,i.objectStore(Ge).put(n,r);case 6:return e.next=8,i.complete;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return(tt=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=nt(t),e.next=3,Qe();case 3:return r=e.sent.transaction(Ge,"readwrite"),e.next=6,r.objectStore(Ge).delete(n);case 6:return e.next=8,r.complete;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function nt(e){return e.appConfig.appId}var rt=new s.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function it(e,t){return at.apply(this,arguments)}function at(){return(at=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(t);case 2:return r=e.sent,i=dt(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(lt(t.appConfig),a);case 8:return e.next=10,e.sent.json();case 10:o=e.sent,e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(5),rt.create("token-subscribe-failed",{errorInfo:e.t0});case 16:if(!o.error){e.next=18;break}throw rt.create("token-subscribe-failed",{errorInfo:o.error.message});case 18:if(o.token){e.next=20;break}throw rt.create("token-subscribe-no-token");case 20:return e.abrupt("return",o.token);case 21:case"end":return e.stop()}},e,null,[[5,13]])}))).apply(this,arguments)}function ot(e,t){return st.apply(this,arguments)}function st(){return(st=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(t);case 2:return r=e.sent,i=dt(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(lt(t.appConfig),"/").concat(n.token),a);case 8:return e.next=10,e.sent.json();case 10:o=e.sent,e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(5),rt.create("token-update-failed",{errorInfo:e.t0});case 16:if(!o.error){e.next=18;break}throw rt.create("token-update-failed",{errorInfo:o.error.message});case 18:if(o.token){e.next=20;break}throw rt.create("token-update-no-token");case 20:return e.abrupt("return",o.token);case 21:case"end":return e.stop()}},e,null,[[5,13]])}))).apply(this,arguments)}function ut(e,t){return ct.apply(this,arguments)}function ct(){return(ct=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ht(t);case 2:return e.t0=e.sent,r={method:"DELETE",headers:e.t0},e.prev=4,e.next=7,fetch("".concat(lt(t.appConfig),"/").concat(n),r);case 7:return e.next=9,e.sent.json();case 9:if(!(i=e.sent).error){e.next=12;break}throw rt.create("token-unsubscribe-failed",{errorInfo:i.error.message});case 12:e.next=17;break;case 14:throw e.prev=14,e.t1=e.catch(4),rt.create("token-unsubscribe-failed",{errorInfo:e.t1});case 17:case"end":return e.stop()}},e,null,[[4,14]])}))).apply(this,arguments)}function lt(e){var t=e.projectId;return"https://fcmregistrations.googleapis.com/v1/projects/".concat(t,"/registrations")}function ht(e){return ft.apply(this,arguments)}function ft(){return(ft=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function dt(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==Fe&&(a.web.applicationPubKey=i),a}var pt=6048e5;function vt(e){return gt.apply(this,arguments)}function gt(){return(gt=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:Ve(n.getKey("auth")),p256dh:Ve(n.getKey("p256dh"))},e.next=6,Ye(t.firebaseDependencies);case 6:if(!(i=e.sent)){e.next=19;break}if(!Et(i.subscriptionOptions,r)){e.next=10;break}return e.abrupt("return",Date.now()>=i.createTime+pt?_t(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}):i.token);case 10:return e.prev=10,e.next=13,ut(t.firebaseDependencies,i.token);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),console.warn(e.t0);case 18:case 19:return e.abrupt("return",bt(t.firebaseDependencies,r));case 20:case"end":return e.stop()}},e,null,[[10,15]])}))).apply(this,arguments)}function yt(e){return mt.apply(this,arguments)}function mt(){return(mt=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(t.firebaseDependencies);case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=9;break}return e.next=7,ut(t.firebaseDependencies,n.token);case 7:return e.next=9,et(t.firebaseDependencies);case 9:return e.next=11,t.swRegistration.pushManager.getSubscription();case 11:return r=e.sent,e.abrupt("return",!r||r.unsubscribe());case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _t(e,t){return kt.apply(this,arguments)}function kt(){return(kt=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ot(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,$e(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,yt(t);case 14:throw e.t0;case 15:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function bt(e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(t,n);case 2:return e.t0=e.sent,e.t1=Date.now(),e.t2=n,r={token:e.t0,createTime:e.t1,subscriptionOptions:e.t2},e.next=8,$e(t,r);case 8:return e.abrupt("return",r.token);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function wt(e,t){return xt.apply(this,arguments)}function xt(){return(xt=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Be(n)});case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Et(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function St(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){!t.data||(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}function Tt(e){return"object"==typeof e&&!!e&&Ne in e}function It(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function At(e){return rt.create("missing-app-config-values",{valueName:e})}It("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),It("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Ot=function(){function e(t,n,r){_classCallCheck(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw At("App Configuration Object");if(!e.name)throw At("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw At(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return _createClass(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function Dt(e){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,a.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(Re,{scope:Pe});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch(function(){}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),rt.create("failed-service-worker-registration",{browserErrorMessage:e.t0.message});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function Pt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!n&&!t.swRegistration,!e.t0){e.next=4;break}return e.next=4,Dt(t);case 4:if(!n&&t.swRegistration){e.next=8;break}if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw rt.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=Fe);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw rt.create("only-available-in-window");case 2:if(e.t0="default"===Notification.permission,!e.t0){e.next=6;break}return e.next=6,Notification.requestPermission();case 6:if("granted"===Notification.permission){e.next=8;break}throw rt.create("permission-blocked");case 8:return e.next=10,Nt(t,null==n?void 0:n.vapidKey);case 10:return e.next=12,Pt(t,null==n?void 0:n.serviceWorkerRegistration);case 12:return e.abrupt("return",vt(t));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ut(e,t,n){return jt.apply(this,arguments)}function jt(){return(jt=(0,a.Z)(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vt(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(i,{message_id:r[Ne],message_name:r[Me],message_time:r[Le],message_device_time:Math.floor(Date.now()/1e3)});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Vt(e){switch(e){case je.NOTIFICATION_CLICKED:return"notification_open";case je.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Bt(){return(Bt=(0,a.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===je.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(St(r)):t.onMessageHandler.next(St(r))),i=r.data,e.t0=Tt(i)&&"1"===i[Ue],!e.t0){e.next=9;break}return e.next=9,Ut(t,r.messageType,i);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}var qt="@firebase/messaging";function zt(){return(zt=(0,a.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t7="undefined"!=typeof window&&(0,s.hl)(),!e.t7){e.next=5;break}return e.next=4,(0,s.eu)();case 4:e.t7=e.sent;case 5:if(e.t6=e.t7,!e.t6){e.next=8;break}e.t6=(0,s.zI)();case 8:if(e.t5=e.t6,!e.t5){e.next=11;break}e.t5="serviceWorker"in navigator;case 11:if(e.t4=e.t5,!e.t4){e.next=14;break}e.t4="PushManager"in window;case 14:if(e.t3=e.t4,!e.t3){e.next=17;break}e.t3="Notification"in window;case 17:if(e.t2=e.t3,!e.t2){e.next=20;break}e.t2="fetch"in window;case 20:if(e.t1=e.t2,!e.t1){e.next=23;break}e.t1=ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification");case 23:if(e.t0=e.t1,!e.t0){e.next=26;break}e.t0=PushSubscription.prototype.hasOwnProperty("getKey");case 26:return e.abrupt("return",e.t0);case 27:case"end":return e.stop()}},e)}))).apply(this,arguments)}(0,o._registerComponent)(new u.wA("messaging",function(e){var t=new Ot(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",function(e){return function(e,t){return Bt.apply(this,arguments)}(t,e)}),t},"PUBLIC")),(0,o._registerComponent)(new u.wA("messaging-internal",function(e){var t=e.getProvider("messaging").getImmediate();return{getToken:function(e){return function(e,t){return Lt.apply(this,arguments)}(t,e)}}},"PRIVATE")),(0,o.registerVersion)(qt,"0.9.2"),(0,o.registerVersion)(qt,"0.9.2","esm2017");var Ht="analytics",Zt="firebase_id",Kt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gt="https://www.googletagmanager.com/gtag/js",Wt=new c.Yd("@firebase/analytics");function Qt(e){return Promise.all(e.map(function(e){return e.catch(function(e){return e})}))}function Yt(e,t){var n=document.createElement("script");n.src="".concat(Gt,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function Jt(e,t,n,r,i,a){return $t.apply(this,arguments)}function $t(){return($t=(0,a.Z)(regeneratorRuntime.mark(function e(t,n,r,i,a,o){var s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,Qt(r);case 9:if(u=e.sent.find(function(e){return e.measurementId===a}),e.t0=u,!e.t0){e.next=14;break}return e.next=14,n[u.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),Wt.error(e.t1);case 19:t("config",a,o);case 20:case"end":return e.stop()}},e,null,[[1,16]])}))).apply(this,arguments)}function Xt(e,t,n,r,i){return en.apply(this,arguments)}function en(){return(en=(0,a.Z)(regeneratorRuntime.mark(function e(t,n,r,i,a){var o,s,u,c,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,Qt(r);case 7:u=e.sent,c=_createForOfIteratorHelper(s),e.prev=9,h=function(){var e=l.value,t=u.find(function(t){return t.measurementId===e}),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==h()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Wt.error(e.t1);case 35:case"end":return e.stop()}},e,null,[[0,32],[9,20,23,26]])}))).apply(this,arguments)}function tn(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Gt))return r}return null}var nn=new s.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),rn=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;_classCallCheck(this,e),this.throttleMetadata=t,this.intervalMillis=n}return _createClass(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}());function an(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function on(e){return sn.apply(this,arguments)}function sn(){return(sn=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:an(i)},o=Kt.replace("{app-id}",r),e.next=6,fetch(o,a);case 6:if(200===(s=e.sent).status||304===s.status){e.next=19;break}return u="",e.prev=9,e.next=12,s.json();case 12:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(9);case 18:throw nn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 19:return e.abrupt("return",s.json());case 20:case"end":return e.stop()}},e,null,[[9,16]])}))).apply(this,arguments)}function un(e){return cn.apply(this,arguments)}function cn(){return(cn=(0,a.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,o,s,u,c,l,h=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:rn,r=h.length>2?h[2]:void 0,i=t.options,o=i.appId,s=i.apiKey,u=i.measurementId,o){e.next=5;break}throw nn.create("no-app-id");case 5:if(s){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:o});case 8:throw nn.create("no-api-key");case 9:return c=n.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new pn,e.abrupt("return",(setTimeout((0,a.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l.abort();case 1:case"end":return e.stop()}},e)})),void 0!==r?r:6e4),ln({appId:o,apiKey:s,measurementId:u},c,l,n)));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ln(e,t,n){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,u,c,l,h,f,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=d.length>3&&void 0!==d[3]?d[3]:rn,u=t.appId,c=t.measurementId,e.prev=3,e.next=6,fn(r,i);case 6:e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=12;break}return e.abrupt("return",(Wt.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ".concat(c,' provided in the "measurementId" field in the local Firebase config. [').concat(e.t0.message,"]")),{appId:u,measurementId:c}));case 12:throw e.t0;case 13:return e.prev=13,e.next=16,on(t);case 16:return l=e.sent,e.abrupt("return",(o.deleteThrottleMetadata(u),l));case 20:if(e.prev=20,e.t1=e.catch(13),dn(e.t1)){e.next=26;break}if(o.deleteThrottleMetadata(u),!c){e.next=25;break}return e.abrupt("return",(Wt.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ".concat(c,' provided in the "measurementId" field in the local Firebase config. [').concat(e.t1.message,"]")),{appId:u,measurementId:c}));case 25:throw e.t1;case 26:return h=503===Number(e.t1.customData.httpStatus)?(0,s.$s)(a,o.intervalMillis,30):(0,s.$s)(a,o.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},e.abrupt("return",(o.setThrottleMetadata(u,f),Wt.debug("Calling attemptFetch again in ".concat(h," millis")),ln(t,f,r,o)));case 28:case"end":return e.stop()}},e,null,[[3,8],[13,20]])}))).apply(this,arguments)}function fn(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(function(){clearTimeout(a),r(nn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function dn(e){if(!(e instanceof s.ZR&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var pn=function(){function e(){_classCallCheck(this,e),this.listeners=[]}return _createClass(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach(function(e){return e()})}}]),e}();function vn(){return gn.apply(this,arguments)}function gn(){return(gn=(0,a.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((0,s.hl)()){e.next=2;break}return e.abrupt("return",(Wt.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1));case 2:return e.prev=2,e.next=5,(0,s.eu)();case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",(Wt.warn(nn.create("indexeddb-unavailable",{errorInfo:e.t0}).message),!1));case 10:return e.abrupt("return",!0);case 11:case"end":return e.stop()}},e,null,[[2,7]])}))).apply(this,arguments)}function yn(){return(yn=(0,a.Z)(regeneratorRuntime.mark(function e(t,n,r,i,a,o,s){var u,c,l,h,f,d,p,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(c=un(t)).then(function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Wt.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,") does not match the measurement ID fetched from the server (").concat(e.measurementId,"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config."))}).catch(function(e){return Wt.error(e)}),n.push(c),l=vn().then(function(e){if(e)return i.getId()}),e.next=5,Promise.all([c,l]);case 5:return h=e.sent,f=_slicedToArray(h,2),d=f[0],p=f[1],tn()||Yt(o,d.measurementId),a("js",new Date),v=null!==(u=null==s?void 0:s.config)&&void 0!==u?u:{},e.abrupt("return",(v.origin="firebase",v.update=!0,null!=p&&(v[Zt]=p),a("config",d.measurementId,v),d.measurementId));case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var mn,_n,kn=function(){function e(t){_classCallCheck(this,e),this.app=t}return _createClass(e,[{key:"_delete",value:function(){return delete bn[this.app.options.appId],Promise.resolve()}}]),e}(),bn={},Cn=[],wn={},xn="dataLayer",En=!1;function Sn(){return(Sn=(0,a.Z)(regeneratorRuntime.mark(function e(t,n,r,i,a){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=4;break}t("event",r,i),e.next=8;break;case 4:return e.next=6,n;case 6:o=e.sent,t("event",r,Object.assign(Object.assign({},i),{send_to:o}));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,s.ru)()&&(0,s.zI)()&&(0,s.hl)()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,(0,s.eu)();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[2,8]])}))).apply(this,arguments)}var In="@firebase/analytics";(0,o._registerComponent)(new u.wA(Ht,function(e,t){var n=t.options;return function(e,t,n){!function(){var e=[];if((0,s.ru)()&&e.push("This is a browser extension environment."),(0,s.zI)()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(e,t){return"(".concat(t+1,") ").concat(e)}).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:t});Wt.warn(n.message)}}();var r=e.options.appId;if(!r)throw nn.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw nn.create("no-api-key");Wt.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '.concat(e.options.measurementId,' provided in the "measurementId" field in the local Firebase config.'))}if(null!=bn[r])throw nn.create("already-exists",{id:r});if(!En){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(xn);var i=function(e,t,n,r,i){var o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){function i(){return(i=(0,a.Z)(regeneratorRuntime.mark(function i(a,o,s){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,Xt(e,t,n,o,s);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,Jt(e,t,n,r,o,s);case 9:i.next=12;break;case 11:e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),Wt.error(i.t0);case 17:case"end":return i.stop()}},i,null,[[0,14]])}))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(bn,Cn,wn,xn,"gtag"),o=i.wrappedGtag,u=i.gtagCore;_n=o,mn=u,En=!0}return bn[r]=function(e,t,n,r,i,a,o){return yn.apply(this,arguments)}(e,Cn,wn,t,mn,xn,n),new kn(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),(0,o._registerComponent)(new u.wA("analytics-internal",function(e){try{var t=e.getProvider(Ht).getImmediate();return{logEvent:function(e,n,r){return function(e,t,n,r){e=(0,s.m9)(e),function(e,t,n,r,i){return Sn.apply(this,arguments)}(_n,bn[e.app.options.appId],t,n,r).catch(function(e){return Wt.error(e)})}(t,e,n,r)}}}catch(t){throw nn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,o.registerVersion)(In,"0.7.2"),(0,o.registerVersion)(In,"0.7.2","esm2017");var An=n(7771),On=n(3637),Dn=n(8891),Rn=n(3342),Pn=n(3101),Fn=n(9746),Nn=new r.GfV("7.1.1"),Mn="__angularfire_symbol__analyticsIsSupported",Ln="__angularfire_symbol__remoteConfigIsSupported",Un="__angularfire_symbol__messagingIsSupported";function jn(e,t,n){if(t){if(1===t.length)return t[0];var r=t.filter(function(e){return e.app===n});if(1===r.length)return r[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Mn]||(globalThis[Mn]=function(){return Tn.apply(this,arguments)}().then(function(e){return globalThis.__angularfire_symbol__analyticsIsSupportedValue=e})),globalThis[Un]||(globalThis[Un]=function(){return zt.apply(this,arguments)}().then(function(e){return globalThis.__angularfire_symbol__messagingIsSupportedValue=e})),globalThis[Ln]||(globalThis[Ln]=function(){return Oe.apply(this,arguments)}().then(function(e){return globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=e}));var Vn=function(e,t){var n=t?[t]:(0,i.C6)(),r=[];return n.forEach(function(t){t.container.getProvider(e).instances.forEach(function(e){r.includes(e)||r.push(e)})}),r};function Bn(){}var qn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:An.N;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule(function(t){var n=this;r.runGuarded(function(){e.apply(n,[t])})},t,n)}}]),e}(),zn=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",Bn,{},Bn,Bn)}),t.pipe((0,Rn.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){var e=this;setTimeout(function(){null!=e.task&&"scheduled"===e.task.state&&(e.task.invoke(),e.task=null)},10)}}]),e}(),Hn=function(){var e=function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular(function(){return new qn(Zone.current)}),this.insideAngular=t.run(function(){return new qn(Zone.current,On.z)}),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)};return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function Zn(){var e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Kn(e){return Zn().ngZone.runOutsideAngular(function(){return e()})}function Gn(e){return Zn().ngZone.run(function(){return e()})}function Wn(e){return Zn(),function(e){return function(t){return(t=t.lift(new zn(e.ngZone))).pipe((0,Pn.R)(e.outsideAngular),(0,Fn.QV)(e.insideAngular))}}(Zn())(e)}var Qn=function(e,t){return function(){var n=arguments;return t&&setTimeout(function(){"scheduled"===t.state&&t.invoke()},10),Gn(function(){return e.apply(void 0,n)})}},Yn=function(e,t){return function(){for(var n,r=arguments,i=this,a=0;a<arguments.length;a++)"function"==typeof arguments[a]&&(t&&(n||(n=Gn(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",Bn,{},Bn,Bn)}))),arguments[a]=Qn(arguments[a],n));var o=Kn(function(){return e.apply(i,r)});if(!t){if(o instanceof Dn.y){var s=Zn();return o.pipe((0,Pn.R)(s.outsideAngular),(0,Fn.QV)(s.insideAngular))}return Gn(function(){return o})}return o instanceof Dn.y?o.pipe(Wn):o instanceof Promise?Gn(function(){return new Promise(function(e,t){return o.then(function(t){return Gn(function(){return e(t)})},function(e){return Gn(function(){return t(e)})})})}):"function"==typeof o&&n?function(){return setTimeout(function(){n&&"scheduled"===n.state&&n.invoke()},10),o.apply(this,arguments)}:Gn(function(){return o})}}},665:function(e,t,n){"use strict";n.d(t,{qu:function(){return we},u:function(){return _e},sg:function(){return ye},u5:function(){return be},JU:function(){return p},JJ:function(){return Z},JL:function(){return K},UX:function(){return Ce},kI:function(){return w},_Y:function(){return de}});var r=n(7716),i=n(8583),a=n(8891),o=n(9796),s=n(8002),u=n(1555),c=n(4402);function l(e,t){return new a.y(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),a=0,o=0,s=function(s){var u=(0,c.D)(e[s]),l=!1;n.add(u.subscribe({next:function(e){l||(l=!0,o++),i[s]=e},error:function(e){return n.error(e)},complete:function(){(++a===r||!l)&&(o===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=i[n],e},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}var h,f=((h=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"setProperty",value:function(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"setDisabledState",value:function(e){this.setProperty("disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||h)(r.Y36(r.Qsj),r.Y36(r.SBq))},h.\u0275dir=r.lG2({type:h}),h),d=function(){var e,t=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(f);return t.\u0275fac=function(n){return(e||(e=r.n5z(t)))(n||t)},t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t}(),p=new r.OlP("NgValueAccessor"),v={provide:p,useExisting:(0,r.Gpc)(function(){return y}),multi:!0},g=new r.OlP("CompositionEventMode"),y=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,r))._compositionMode=a,o._composing=!1,null==o._compositionMode&&(o._compositionMode=!function(){var e=(0,i.q)()?(0,i.q)().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}()),o}return _createClass(n,[{key:"writeValue",value:function(e){this.setProperty("value",null==e?"":e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),n}(f);return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(g,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([v]),r.qOj]}),e}();function m(e){return null==e||0===e.length}function _(e){return null!=e&&"number"==typeof e.length}var k=new r.OlP("NgValidators"),b=new r.OlP("NgAsyncValidators"),C=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,w=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return t=e,function(e){if(m(e.value)||m(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null};var t}},{key:"max",value:function(e){return t=e,function(e){if(m(e.value)||m(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null};var t}},{key:"required",value:function(e){return m(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return m((t=e).value)||C.test(t.value)?null:{email:!0};var t}},{key:"minLength",value:function(e){return t=e,function(e){return m(e.value)||!_(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null};var t}},{key:"maxLength",value:function(e){return t=e,function(e){return _(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null};var t}},{key:"pattern",value:function(e){return function(e){return e?("string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),function(e){if(m(e.value))return null;var r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}):x;var t,n}(e)}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){return O(e)}},{key:"composeAsync",value:function(e){return R(e)}}]),e}();function x(e){return null}function E(e){return null!=e}function S(e){var t=(0,r.QGY)(e)?(0,c.D)(e):e;return(0,r.CqO)(t),t}function T(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function I(e,t){return t.map(function(t){return t(e)})}function A(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function O(e){if(!e)return null;var t=e.filter(E);return 0==t.length?null:function(e){return T(I(e,t))}}function D(e){return null!=e?O(A(e)):null}function R(e){if(!e)return null;var t=e.filter(E);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if((0,o.k)(r))return l(r,null);if((0,u.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return l(i.map(function(e){return r[e]}),i)}}if("function"==typeof t[t.length-1]){var a=t.pop();return l(t=1===t.length&&(0,o.k)(t[0])?t[0]:t,null).pipe((0,s.U)(function(e){return a.apply(void 0,_toConsumableArray(e))}))}return l(t,null)}(I(e,t).map(S)).pipe((0,s.U)(T))}}function P(e){return null!=e?R(A(e)):null}function F(e,t){return null===e?[t]:Array.isArray(e)?[].concat(_toConsumableArray(e),[t]):[e,t]}function N(e){return e._rawValidators}function M(e){return e._rawAsyncValidators}function L(e){return e?Array.isArray(e)?e:[e]:[]}function U(e,t){return Array.isArray(e)?e.includes(t):e===t}function j(e,t){var n=L(t);return L(e).forEach(function(e){U(n,e)||n.push(e)}),n}function V(e,t){return L(t).filter(function(t){return!U(e,t)})}var B=function(){var e=function(){function e(){_classCallCheck(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return _createClass(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=D(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=P(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e}(),q=function(){var e,t=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(B);return t.\u0275fac=function(n){return(e||(e=r.n5z(t)))(n||t)},t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t}(),z=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return n}(B),H=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"is",value:function(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}]),e}(),Z=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(H);return e.\u0275fac=function(t){return new(t||e)(r.Y36(z,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e}(),K=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(H);return e.\u0275fac=function(t){return new(t||e)(r.Y36(q,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[r.qOj]}),e}();function G(e,t){Y(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&$(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&$(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t)}function W(e,t){var n=function(){};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),J(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(function(){}))}function Q(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Y(e,t){var n=N(e);null!==t.validator?e.setValidators(F(n,t.validator)):"function"==typeof n&&e.setValidators([n]);var r=M(e);null!==t.asyncValidator?e.setAsyncValidators(F(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);var i=function(){return e.updateValueAndValidity()};Q(t._rawValidators,i),Q(t._rawAsyncValidators,i)}function J(e,t){var n=!1;if(null!==e){if(null!==t.validator){var r=N(e);if(Array.isArray(r)&&r.length>0){var i=r.filter(function(e){return e!==t.validator});i.length!==r.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){var a=M(e);if(Array.isArray(a)&&a.length>0){var o=a.filter(function(e){return e!==t.asyncValidator});o.length!==a.length&&(n=!0,e.setAsyncValidators(o))}}}var s=function(){};return Q(t._rawValidators,s),Q(t._rawAsyncValidators,s),n}function $(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function X(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var ee="VALID",te="INVALID",ne="PENDING",re="DISABLED";function ie(e){return(ue(e)?e.validators:e)||null}function ae(e){return Array.isArray(e)?D(e):e||null}function oe(e,t){return(ue(t)?t.asyncValidators:e)||null}function se(e){return Array.isArray(e)?P(e):e||null}function ue(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var ce=function(){function e(t,n){_classCallCheck(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=ae(this._rawValidators),this._composedAsyncValidatorFn=se(this._rawAsyncValidators)}return _createClass(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===ee}},{key:"invalid",get:function(){return this.status===te}},{key:"pending",get:function(){return this.status==ne}},{key:"disabled",get:function(){return this.status===re}},{key:"enabled",get:function(){return this.status!==re}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=ae(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=se(e)}},{key:"addValidators",value:function(e){this.setValidators(j(e,this._rawValidators))}},{key:"addAsyncValidators",value:function(e){this.setAsyncValidators(j(e,this._rawAsyncValidators))}},{key:"removeValidators",value:function(e){this.setValidators(V(e,this._rawValidators))}},{key:"removeAsyncValidators",value:function(e){this.setAsyncValidators(V(e,this._rawAsyncValidators))}},{key:"hasValidator",value:function(e){return U(this._rawValidators,e)}},{key:"hasAsyncValidator",value:function(e){return U(this._rawAsyncValidators,e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=ne,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=re,this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=ee,this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ee||this.status===ne)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?re:ee}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status=ne,this._hasOwnPendingAsyncValidator=!0;var n=S(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;var r=e;return t.forEach(function(e){r=r instanceof he?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof fe&&r.at(e)||null}),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?re:this.errors?te:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ne)?ne:this._anyControlsHaveStatus(te)?te:ee}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){ue(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),le=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,ie(i),oe(a,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!e.asyncValidator}),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){X(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){X(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(ce),he=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,ie(r),oe(i,r))).controls=e,a._initObservables(),a._setUpdateStrategy(r),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!!a.asyncValidator}),a}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof le?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var r=t.controls[n];r&&e(r,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var r=n[t],i=this.controls[r];if(this.contains(r)&&e(i))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(ce),fe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,ie(r),oe(i,r))).controls=e,a._initObservables(),a._setUpdateStrategy(r),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!!a.asyncValidator}),a}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof le?e.value:e.getRawValue()})}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(ce),de=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e}(),pe=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e}(),ve=new r.OlP("NgModelWithFormControlWarning"),ge={provide:q,useExisting:(0,r.Gpc)(function(){return ye})},ye=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var a;return _classCallCheck(this,n),(a=t.call(this)).validators=e,a.asyncValidators=i,a.submitted=!1,a._onCollectionChange=function(){return a._updateDomValue()},a.directives=[],a.form=null,a.ngSubmit=new r.vpe,a._setValidators(e),a._setAsyncValidators(i),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(J(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return G(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){W(e.control||null,e,!1),X(this.directives,e)}},{key:"addFormGroup",value:function(e){this._setUpFormContainer(e)}},{key:"removeFormGroup",value:function(e){this._cleanUpFormContainer(e)}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){this._setUpFormContainer(e)}},{key:"removeFormArray",value:function(e){this._cleanUpFormContainer(e)}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,function(e,t){e._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach(function(t){var n=t.control,r=e.form.get(t.path);n!==r&&(W(n||null,t),r instanceof le&&(G(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(e){var t=this.form.get(e.path);(function(e,t){Y(e,t)})(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(e){if(this.form){var t=this.form.get(e.path);t&&function(e,t){return J(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){Y(this.form,this),this._oldForm&&J(this._oldForm,this)}},{key:"_checkFormPresent",value:function(){}}]),n}(q);return e.\u0275fac=function(t){return new(t||e)(r.Y36(k,10),r.Y36(b,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([ge]),r.qOj,r.TTD]}),e}(),me={provide:z,useExisting:(0,r.Gpc)(function(){return _e})},_e=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,o,s){var u;return _classCallCheck(this,n),(u=t.call(this))._ngModelWarningConfig=s,u._added=!1,u.update=new r.vpe,u._ngModelWarningSent=!1,u._parent=e,u._setValidators(i),u._setAsyncValidators(a),u.valueAccessor=function(e,t){return t?(Array.isArray(t),t.forEach(function(e){e.constructor===y?n=e:function(e){return Object.getPrototypeOf(e.constructor)===d}(e)?r=e:i=e}),i||r||n||null):null;var n,r,i}(0,o),u}return _createClass(n,[{key:"isDisabled",set:function(e){}},{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"path",get:function(){return function(e,t){return[].concat(_toConsumableArray(t.path),[e])}(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(z);return e.\u0275fac=function(t){return new(t||e)(r.Y36(q,13),r.Y36(k,10),r.Y36(b,10),r.Y36(p,10),r.Y36(ve,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([me]),r.qOj,r.TTD]}),e._ngModelWarningSentOnce=!1,e}(),ke=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[pe]]}),e}(),be=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[ke]}),e}(),Ce=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:ve,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[ke]}),e}(),we=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this._reduceControls(e),i=null,a=null;return null!=n&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(n)?(i=null!=n.validators?n.validators:null,a=null!=n.asyncValidators?n.asyncValidators:null,t=null!=n.updateOn?n.updateOn:void 0):(i=null!=n.validator?n.validator:null,a=null!=n.asyncValidator?n.asyncValidator:null)),new he(r,{asyncValidators:a,updateOn:t,validators:i})}},{key:"control",value:function(e,t,n){return new le(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map(function(e){return r._createControl(e)});return new fe(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach(function(r){n[r]=t._createControl(e[r])}),n}},{key:"_createControl",value:function(e){return e instanceof le||e instanceof he||e instanceof fe?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e},token:e,providedIn:Ce}),e}()},9075:function(e,t,n){"use strict";n.d(t,{b2:function(){return L},H7:function(){return P},q6:function(){return N},se:function(){return w}});var r,i,a=n(8583),o=n(7716),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getBaseHref",value:function(e){var t=(u=u||document.querySelector("base"))?u.getAttribute("href"):null;return null==t?null:function(e){(r=r||document.createElement("a")).setAttribute("href",e);var t=r.pathname;return"/"===t.charAt(0)?t:"/".concat(t)}(t)}},{key:"resetBaseElement",value:function(){u=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(e){return(0,a.Mx)(document.cookie,e)}}],[{key:"makeCurrent",value:function(){(0,a.HT)(new n)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).supportsDOMEvents=!0,e}return n}(a.w_)),u=null,c=new o.OlP("TRANSITION_ID"),l=[{provide:o.ip1,useFactory:function(e,t,n){return function(){n.get(o.CZH).donePromise.then(function(){for(var n=(0,a.q)(),r=t.querySelectorAll('style[ng-transition="'.concat(e,'"]')),i=0;i<r.length;i++)n.remove(r[i])})}},deps:[c,a.K0,o.zs3],multi:!0}],h=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){o.dqk.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},o.dqk.getAllAngularTestabilities=function(){return e.getAllTestabilities()},o.dqk.getAllAngularRootElements=function(){return e.getAllRootElements()},o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(function(e){var t=o.dqk.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?(0,a.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){(0,o.VLi)(new e)}}]),e}(),f=((i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i),d=new o.OlP("EventManagerPlugins"),p=function(){var e=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.LFG(d),o.LFG(o.R0b))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e}(),v=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=(0,a.q)().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),g=function(){var e=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e}(),y=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Map,r._hostNodes.set(e.head,[]),r}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t,n){var r=this;e.forEach(function(e){var i=r._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach(m),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,r){t._addStylesToHost(e,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach(m)})}}]),n}(g);return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.K0))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e}();function m(e){(0,a.q)().remove(e)}var _={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},k=/%COMP%/g;function b(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?b(e,i,n):(i=i.replace(k,e),n.push(i))}return n}function C(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var w=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new x(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case o.ifc.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new E(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case o.ifc.ShadowDom:return new S(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=b(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.LFG(p),o.LFG(y),o.LFG(o.AFp))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e}(),x=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(_[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=_[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=_[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(o.JOm.DashCase|o.JOm.Important)?e.style.setProperty(t,n,r&o.JOm.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&o.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,C(n)):this.eventManager.addEventListener(e,t,C(n))}}]),e}(),E=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;_classCallCheck(this,n),(o=t.call(this,e)).component=i;var s=b(a+"-"+i.id,i.styles,[]);return r.addStyles(s),o.contentAttr="_ngcontent-%COMP%".replace(k,a+"-"+i.id),o.hostAttr="_nghost-%COMP%".replace(k,a+"-"+i.id),o}return _createClass(n,[{key:"applyToHost",value:function(e){_get2(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get2(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get2(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(x),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;_classCallCheck(this,n),(o=t.call(this,e)).sharedStylesHost=r,o.hostEl=i,o.shadowRoot=i.attachShadow({mode:"open"}),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=b(a.id,a.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],o.shadowRoot.appendChild(c)}return o}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get2(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get2(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get2(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get2(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(x),T=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(v);return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.K0))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e}(),I=["alt","control","meta","shift"],A={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},D={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},R=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return(0,a.q)().onAndCancel(e,i.domEventName,o)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),a="";if(I.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),a+=e+".")}),a+=i,0!=t.length||0===i.length)return null;var o={};return o.domEventName=r,o.fullKey=a,o}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&O.hasOwnProperty(t)&&(t=O[t]))}return A[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),I.forEach(function(r){r!=n&&D[r](e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(v);return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.K0))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac}),e}(),P=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,o.Yz7)({factory:function(){return(0,o.LFG)(F)},token:e,providedIn:"root"}),e}(),F=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._doc=e,r}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case o.q3G.NONE:return t;case o.q3G.HTML:return(0,o.qzn)(t,"HTML")?(0,o.z3N)(t):(0,o.EiD)(this._doc,String(t)).toString();case o.q3G.STYLE:return(0,o.qzn)(t,"Style")?(0,o.z3N)(t):t;case o.q3G.SCRIPT:if((0,o.qzn)(t,"Script"))return(0,o.z3N)(t);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(t),(0,o.qzn)(t,"URL")?(0,o.z3N)(t):(0,o.mCW)(String(t));case o.q3G.RESOURCE_URL:if((0,o.qzn)(t,"ResourceURL"))return(0,o.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return(0,o.JVY)(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return(0,o.L6k)(e)}},{key:"bypassSecurityTrustScript",value:function(e){return(0,o.eBb)(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return(0,o.LAX)(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return(0,o.pB0)(e)}}]),n}(P);return e.\u0275fac=function(t){return new(t||e)(o.LFG(a.K0))},e.\u0275prov=(0,o.Yz7)({factory:function(){return function(e){return new F(e.get(a.K0))}((0,o.LFG)(o.gxx))},token:e,providedIn:"root"}),e}(),N=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:a.bD},{provide:o.g9A,useValue:function(){s.makeCurrent(),h.init()},multi:!0},{provide:a.K0,useFactory:function(){return(0,o.RDi)(document),document},deps:[]}]),M=[[],{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function(){return new o.qLn},deps:[]},{provide:d,useClass:T,multi:!0,deps:[a.K0,o.R0b,o.Lbi]},{provide:d,useClass:R,multi:!0,deps:[a.K0]},[],{provide:w,useClass:w,deps:[p,y,o.AFp]},{provide:o.FYo,useExisting:w},{provide:g,useExisting:y},{provide:y,useClass:y,deps:[a.K0]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:p,useClass:p,deps:[d,o.R0b]},{provide:a.JF,useClass:f,deps:[]},[]],L=function(){var e=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:o.AFp,useValue:t.appId},{provide:c,useExisting:o.AFp},l]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.LFG(e,12))},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({providers:M,imports:[a.ez,o.hGG]}),e}();"undefined"!=typeof window&&window},2694:function(e,t,n){"use strict";n.d(t,{F0:function(){return pn},Bz:function(){return Sn},lC:function(){return gn}});var r=n(8583),i=n(7716),a=n(8891),o=n(4402),s=n(9193);function u(e){return new a.y(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,o.D)(n):(0,s.c)()).subscribe(t)})}var c=n(5917),l=n(6215),h=n(9112),f=n(3410),d=n(8071),p=n(2441),v=n(9765),g=n(5435),y=n(548),m=n(4635),_=n(5242),k=n(4487),b=n(7393),C=n(5319),w=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new x(e,this.callback))}}]),e}(),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).add(new C.w(r)),i}return n}(b.L),E=n(8002),S=n(3190),T=n(5257),I=n(9761),A=n(2145),O=n(5304),D=n(4612),R=n(8049),P=n(9773),F=n(3342),N=n(1307),M=n(3282),L=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},U=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=t.call(this,e,r)).navigationTrigger=a,i.restoredState=o,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(L),j=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(L),V=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).reason=i,a}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(L),B=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,r)).error=i,a}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(L),q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(L),z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(L),H=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=a,s.shouldActivate=o,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(L),Z=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(L),K=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(L),G=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),W=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Q=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Y=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),J=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),$=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),X=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),ee="primary",te=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function ne(e){return new te(e)}var re="ngNavigationCancelingError";function ie(e){var t=Error("NavigationCancelingError: "+e);return t[re]=!0,t}function ae(e,t,n){var r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},a=0;a<r.length;a++){var o=r[a],s=e[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function oe(e,t){var n,r=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!r||!i||r.length!=i.length)return!1;for(var a=0;a<r.length;a++)if(!se(e[n=r[a]],t[n]))return!1;return!0}function se(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=_toConsumableArray(e).sort(),r=_toConsumableArray(t).sort();return n.every(function(e,t){return r[t]===e})}return e===t}function ue(e){return Array.prototype.concat.apply([],e)}function ce(e){return e.length>0?e[e.length-1]:null}function le(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function he(e){return(0,i.CqO)(e)?e:(0,i.QGY)(e)?(0,o.D)(Promise.resolve(e)):(0,c.of)(e)}var fe={exact:function e(t,n,r){if(!be(t.segments,n.segments)||!ye(t.segments,n.segments,r)||t.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children)if(!t.children[i]||!e(t.children[i],n.children[i],r))return!1;return!0},subset:ve},de={exact:function(e,t){return oe(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return se(e[n],t[n])})},ignored:function(){return!0}};function pe(e,t,n){return fe[n.paths](e.root,t.root,n.matrixParams)&&de[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function ve(e,t,n){return ge(e,t,t.segments,n)}function ge(e,t,n,r){if(e.segments.length>n.length){var i=e.segments.slice(0,n.length);return!(!be(i,n)||t.hasChildren()||!ye(i,n,r))}if(e.segments.length===n.length){if(!be(e.segments,n)||!ye(e.segments,n,r))return!1;for(var a in t.children)if(!e.children[a]||!ve(e.children[a],t.children[a],r))return!1;return!0}var o=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(be(e.segments,o)&&ye(e.segments,o,r)&&e.children[ee])&&ge(e.children[ee],t,s,r)}function ye(e,t,n){return t.every(function(t,r){return de[n](e[r].parameters,t.parameters)})}var me=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ne(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return xe.serialize(this)}}]),e}(),_e=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,le(n,function(e,t){return e.parent=r})}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Ee(this)}}]),e}(),ke=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=ne(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Re(this)}}]),e}();function be(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var Ce=function e(){_classCallCheck(this,e)},we=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Le(e);return new me(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t;return"".concat("/".concat(Se(e.root,!0)),function(e){var t=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return"".concat(Ie(t),"=").concat(Ie(e))}).join("&"):"".concat(Ie(t),"=").concat(Ie(n))}).filter(function(e){return!!e});return t.length?"?".concat(t.join("&")):""}(e.queryParams)).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),xe=new we;function Ee(e){return e.segments.map(function(e){return Re(e)}).join("/")}function Se(e,t){if(!e.hasChildren())return Ee(e);if(t){var n=e.children[ee]?Se(e.children[ee],!1):"",r=[];return le(e.children,function(e,t){t!==ee&&r.push("".concat(t,":").concat(Se(e,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(e,t){var n=[];return le(e.children,function(e,r){r===ee&&(n=n.concat(t(e,r)))}),le(e.children,function(e,r){r!==ee&&(n=n.concat(t(e,r)))}),n}(e,function(t,n){return n===ee?[Se(e.children[ee],!1)]:["".concat(n,":").concat(Se(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children[ee]?"".concat(Ee(e),"/").concat(i[0]):"".concat(Ee(e),"/(").concat(i.join("//"),")")}function Te(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ie(e){return Te(e).replace(/%3B/gi,";")}function Ae(e){return Te(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oe(e){return decodeURIComponent(e)}function De(e){return Oe(e.replace(/\+/g,"%20"))}function Re(e){return"".concat(Ae(e.path)).concat(function(e){return Object.keys(e).map(function(t){return";".concat(Ae(t),"=").concat(Ae(e[t]))}).join("")}(e.parameters))}var Pe=/^[^\/()?;=#]+/;function Fe(e){var t=e.match(Pe);return t?t[0]:""}var Ne=/^[^=?&#]+/,Me=/^[^?&#]+/,Le=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[ee]=new _e(e,t)),n}},{key:"parseSegment",value:function(){var e=Fe(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new ke(Oe(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Fe(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Fe(this.remaining);r&&(n=r,this.capture(n))}e[Oe(t)]=Oe(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Ne);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Me);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=De(t),a=De(n);if(e.hasOwnProperty(i)){var o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(a)}else e[i]=a}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Fe(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=ee);var a=this.parseChildren();t[i]=1===Object.keys(a).length?a[ee]:new _e([],a),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),Ue=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=je(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=je(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Ve(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return Ve(e,this._root).map(function(e){return e.value})}}]),e}();function je(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=je(e,n.value);if(i)return i}}catch(a){r.e(a)}finally{r.f()}return null}function Ve(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=Ve(e,n.value);if(i.length)return i.unshift(t),i}}catch(a){r.e(a)}finally{r.f()}return[]}var Be=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function qe(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var ze=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).snapshot=r,Qe(_assertThisInitialized(i),e),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Ue);function He(e,t){var n=function(e,t){var n=new Ge([],{},{},"",{},ee,t,null,e.root,-1,{});return new We("",new Be(n,[]))}(e,t),r=new l.X([new ke("",{})]),i=new l.X({}),a=new l.X({}),o=new l.X({}),s=new l.X(""),u=new Ze(r,i,o,s,a,ee,t,n.root);return u.snapshot=n.root,new ze(new Be(u,[]),n)}var Ze=function(){function e(t,n,r,i,a,o,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe((0,E.U)(function(e){return ne(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,E.U)(function(e){return ne(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function Ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var Ge=function(){function e(t,n,r,i,a,o,s,u,c,l,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=ne(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=ne(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(e){return e.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),We=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).url=e,Qe(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return Ye(this._root)}}]),n}(Ue);function Qe(e,t){t.value._routerState=e,t.children.forEach(function(t){return Qe(e,t)})}function Ye(e){var t=e.children.length>0?" { ".concat(e.children.map(Ye).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Je(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,oe(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),oe(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!oe(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),oe(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function $e(e,t){return oe(e.params,t.params)&&function(e,t){return be(e,t)&&e.every(function(e,n){return oe(e.parameters,t[n].parameters)})}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||$e(e.parent,t.parent))}function Xe(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=t.value;var i=function(e,t,n){return t.children.map(function(t){var r,i=_createForOfIteratorHelper(n.children);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(e.shouldReuseRoute(t.value,a.value.snapshot))return Xe(e,t,a)}}catch(o){i.e(o)}finally{i.f()}return Xe(e,t)})}(e,t,n);return new Be(r,i)}if(e.shouldAttach(t.value)){var a=e.retrieve(t.value);if(null!==a){var o=a.route;return et(t,o),o}}var s=function(e){return new Ze(new l.X(e.url),new l.X(e.params),new l.X(e.queryParams),new l.X(e.fragment),new l.X(e.data),e.outlet,e.component,e)}(t.value),u=t.children.map(function(t){return Xe(e,t)});return new Be(s,u)}function et(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)et(e.children[n],t.children[n])}function tt(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function nt(e){return"object"==typeof e&&null!=e&&e.outlets}function rt(e,t,n,r,i){var a={};return r&&le(r,function(e,t){a[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new me(n.root===e?t:it(n.root,e,t),a,i)}function it(e,t,n){var r={};return le(e.children,function(e,i){r[i]=e===t?n:it(e,t,n)}),new _e(e.segments,r)}var at=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&tt(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(nt);if(i&&i!==ce(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),ot=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function st(e,t,n){if(e||(e=new _e([],{})),0===e.segments.length&&e.hasChildren())return ut(e,t,n);var r=function(e,t,n){for(var r=0,i=t,a={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return a;var o=e.segments[i],s=n[r];if(nt(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!ft(u,c,o))return a;r+=2}else{if(!ft(u,{},o))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var a=new _e(e.segments.slice(0,r.pathIndex),{});return a.children[ee]=new _e(e.segments.slice(r.pathIndex),e.children),ut(a,0,i)}return r.match&&0===i.length?new _e(e.segments,{}):r.match&&!e.hasChildren()?ct(e,t,n):r.match?ut(e,0,i):ct(e,t,n)}function ut(e,t,n){if(0===n.length)return new _e(e.segments,{});var r=function(e){return nt(e[0])?e[0].outlets:_defineProperty({},ee,e)}(n),i={};return le(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=st(e.children[r],t,n))}),le(e.children,function(e,t){void 0===r[t]&&(i[t]=e)}),new _e(e.segments,i)}function ct(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){var a=n[i];if(nt(a)){var o=lt(a.outlets);return new _e(r,o)}if(0===i&&tt(n[0]))r.push(new ke(e.segments[t].path,ht(n[0]))),i++;else{var s=nt(a)?a.outlets[ee]:"".concat(a),u=i<n.length-1?n[i+1]:null;s&&u&&tt(u)?(r.push(new ke(s,ht(u))),i+=2):(r.push(new ke(s,{})),i++)}}return new _e(r,{})}function lt(e){var t={};return le(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=ct(new _e([],{}),0,e))}),t}function ht(e){var t={};return le(e,function(e,n){return t[n]="".concat(e)}),t}function ft(e,t,n){return e==n.path&&oe(t,n.parameters)}var dt=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Je(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=qe(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),le(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var a=n.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=qe(e),a=0,o=Object.keys(i);a<o.length;a++){var s=o[a];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=qe(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new $(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Y(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(Je(r),r===i)if(r.component){var a=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),pt(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=c,o.outlet&&o.outlet.activateWith(r,c),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function pt(e){Je(e.value),e.children.forEach(pt)}var vt=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function gt(e){return"function"==typeof e}function yt(e){return e instanceof me}var mt=Symbol("INITIAL_VALUE");function _t(){return(0,S.w)(function(e){return(0,h.aj)(e.map(function(e){return e.pipe((0,T.q)(1),(0,I.O)(mt))})).pipe((0,A.R)(function(e,t){var n=!1;return t.reduce(function(e,r,i){return e!==mt?e:(r===mt&&(n=!0),n||!1!==r&&i!==t.length-1&&!yt(r)?e:r)},e)},mt),(0,g.h)(function(e){return e!==mt}),(0,E.U)(function(e){return yt(e)?e:!0===e}),(0,T.q)(1))})}var kt,bt=((kt=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||kt)},kt.\u0275cmp=i.Xpm({type:kt,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"router-outlet")},directives:function(){return[gn]},encapsulation:2}),kt);function Ct(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];wt(r,xt(t,r))}}function wt(e,t){e.children&&Ct(e.children,t)}function xt(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Et(e){var t=e.children&&e.children.map(Et),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=bt),n}function St(e){return e.outlet||ee}function Tt(e,t){var n=e.filter(function(e){return St(e)===t});return n.push.apply(n,_toConsumableArray(e.filter(function(e){return St(e)!==t}))),n}var It={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function At(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},It):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(t.matcher||ae)(n,e,t);if(!i)return Object.assign({},It);var a={};le(i.posParams,function(e,t){a[t]=e.path});var o=i.consumed.length>0?Object.assign(Object.assign({},a),i.consumed[i.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Ot(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(e,t,n){return n.some(function(n){return Dt(e,t,n)&&St(n)!==ee})}(e,n,r)){var a=new _e(t,function(e,t,n,r){var i={};i[ee]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var a,o=_createForOfIteratorHelper(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(""===s.path&&St(s)!==ee){var u=new _e([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[St(s)]=u}}}catch(c){o.e(c)}finally{o.f()}return i}(e,t,r,new _e(n,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(function(n){return Dt(e,t,n)})}(e,n,r)){var o=new _e(e.segments,function(e,t,n,r,i,a){var o,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(Dt(e,n,c)&&!i[St(c)]){var l=new _e([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===a?e.segments.length:t.length,s[St(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}var s=new _e(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Dt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Rt(e,t,n,r){return!!(St(e)===r||r!==ee&&Dt(t,n,e))&&("**"===e.path||At(t,e,n).matched)}function Pt(e,t,n){return 0===t.length&&!e.children[n]}var Ft=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},Nt=function e(t){_classCallCheck(this,e),this.urlTree=t};function Mt(e){return new a.y(function(t){return t.error(new Ft(e))})}function Lt(e){return new a.y(function(t){return t.error(new Nt(e))})}function Ut(e){return new a.y(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var jt=function(){function e(t,n,r,a,o){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=a,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.h0i)}return _createClass(e,[{key:"apply",value:function(){var e=this,t=Ot(this.urlTree.root,[],[],this.config).segmentGroup,n=new _e(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ee).pipe((0,E.U)(function(t){return e.createUrlTree(Vt(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe((0,O.K)(function(t){if(t instanceof Nt)return e.allowRedirects=!1,e.match(t.urlTree);throw t instanceof Ft?e.noMatchError(t):t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,ee).pipe((0,E.U)(function(n){return t.createUrlTree(Vt(n),e.queryParams,e.fragment)})).pipe((0,O.K)(function(e){throw e instanceof Ft?t.noMatchError(e):e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new _e([],_defineProperty({},ee,e)):e;return new me(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,E.U)(function(e){return new _e([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){for(var r=this,i=[],a=0,s=Object.keys(n.children);a<s.length;a++){var u=s[a];"primary"===u?i.unshift(u):i.push(u)}return(0,o.D)(i).pipe((0,D.b)(function(i){var a=n.children[i],o=Tt(t,i);return r.expandSegmentGroup(e,o,a,i).pipe((0,E.U)(function(e){return{segment:e,outlet:i}}))}),(0,A.R)(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?(0,g.h)(function(t,n){return e(t,n,r)}):k.y,(0,y.h)(1),n?(0,_.d)(t):(0,m.T)(function(){return new f.K}))}}())}},{key:"expandSegment",value:function(e,t,n,r,i,a){var s=this;return(0,o.D)(n).pipe((0,D.b)(function(o){return s.expandSegmentAgainstRoute(e,t,n,o,r,i,a).pipe((0,O.K)(function(e){if(e instanceof Ft)return(0,c.of)(null);throw e}))}),(0,R.P)(function(e){return!!e}),(0,O.K)(function(e,n){if(e instanceof f.K||"EmptyError"===e.name){if(Pt(t,r,i))return(0,c.of)(new _e([],{}));throw new Ft(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,a,o){return Rt(r,t,i,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,a):Mt(t):Mt(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,a)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Lt(a):this.lineralizeSegments(n,a).pipe((0,P.zg)(function(n){var a=new _e(n,{});return i.expandSegment(e,a,t,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,a){var o=this,s=At(t,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return Mt(t);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Lt(f):this.lineralizeSegments(r,f).pipe((0,P.zg)(function(r){return o.expandSegment(e,t,n,r.concat(i.slice(l)),a,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r,i){var a=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,c.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,E.U)(function(e){return n._loadedConfig=e,new _e(r,{})})):(0,c.of)(new _e(r,{}));var o=At(t,n,r),s=o.matched,u=o.consumedSegments,l=o.lastChild;if(!s)return Mt(t);var h=r.slice(l);return this.getChildConfig(e,n,r).pipe((0,P.zg)(function(e){var r=e.module,o=e.routes,s=Ot(t,u,h,o),l=s.segmentGroup,f=s.slicedSegments,d=new _e(l.segments,l.children);if(0===f.length&&d.hasChildren())return a.expandChildren(r,o,d).pipe((0,E.U)(function(e){return new _e(u,e)}));if(0===o.length&&0===f.length)return(0,c.of)(new _e(u,{}));var p=St(n)===i;return a.expandSegment(r,d,o,f,p?ee:i,!0).pipe((0,E.U)(function(e){return new _e(u.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?(0,c.of)(new vt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,c.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,P.zg)(function(n){return n?r.configLoader.load(e.injector,t).pipe((0,E.U)(function(e){return t._loadedConfig=e,e})):(i=t,new a.y(function(e){return e.error(ie("Cannot load children because the guard of the route \"path: '".concat(i.path,"'\" returned false")))}));var i})):(0,c.of)(new vt([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r=this,i=t.canLoad;if(!i||0===i.length)return(0,c.of)(!0);var a=i.map(function(r){var i,a,o=e.get(r);if((a=o)&&gt(a.canLoad))i=o.canLoad(t,n);else{if(!gt(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return he(i)});return(0,c.of)(a).pipe(_t(),(0,F.b)(function(e){if(yt(e)){var t=ie('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),(0,E.U)(function(e){return!0===e}))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,c.of)(n);if(r.numberOfChildren>1||!r.children[ee])return Ut(e.redirectTo);r=r.children[ee]}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new me(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return le(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,a=this.createSegments(e,t.segments,n,r),o={};return le(t.children,function(t,a){o[a]=i.createSegmentGroup(e,t,n,r)}),new _e(a,o)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map(function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.path===e.path)return t.splice(r),a;r++}}catch(o){i.e(o)}finally{i.f()}return e}}]),e}();function Vt(e){for(var t={},n=0,r=Object.keys(e.children);n<r.length;n++){var i=r[n],a=Vt(e.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function(e){if(1===e.numberOfChildren&&e.children[ee]){var t=e.children[ee];return new _e(e.segments.concat(t.segments),t.children)}return e}(new _e(e.segments,t))}var Bt=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},qt=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function zt(e,t,n){var r=e._root;return Zt(r,t?t._root:null,n,[r.value])}function Ht(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Zt(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=qe(t);return e.children.forEach(function(e){(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,o=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!be(e.url,t.url);case"pathParamsOrQueryParamsChange":return!be(e.url,t.url)||!oe(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$e(e,t)||!oe(e.queryParams,t.queryParams);case"paramsChange":default:return!$e(e,t)}}(o,a,a.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Bt(r)):(a.data=o.data,a._resolvedData=o._resolvedData),Zt(e,t,a.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new qt(s.outlet.component,o))}else o&&Kt(t,s,i),i.canActivateChecks.push(new Bt(r)),Zt(e,null,a.component?s?s.children:null:n,r,i)})(e,a[e.value.outlet],n,r.concat([e.value]),i),delete a[e.value.outlet]}),le(a,function(e,t){return Kt(e,n.getContext(t),i)}),i}function Kt(e,t,n){var r=qe(e),i=e.value;le(r,function(e,r){Kt(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new qt(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Gt=function e(){_classCallCheck(this,e)};function Wt(e){return new a.y(function(t){return t.error(e)})}var Qt=function(){function e(t,n,r,i,a,o){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return _createClass(e,[{key:"recognize",value:function(){var e=Ot(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ee);if(null===t)return null;var n=new Ge([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ee,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Be(n,t),i=new We(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Ke(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],r=0,i=Object.keys(t.children);r<i.length;r++){var a=i[r],o=t.children[a],s=Tt(e,a),u=this.processSegmentGroup(s,o,a);if(null===u)return null;n.push.apply(n,_toConsumableArray(u))}var c=Yt(n);return c.sort(function(e,t){return e.value.outlet===ee?-1:t.value.outlet===ee?1:e.value.outlet.localeCompare(t.value.outlet)}),c}},{key:"processSegment",value:function(e,t,n,r){var i,a=_createForOfIteratorHelper(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=this.processSegmentAgainstRoute(o,t,n,r);if(null!==s)return s}}catch(u){a.e(u)}finally{a.f()}return Pt(t,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo||!Rt(e,t,n,r))return null;var i,a=[],o=[];if("**"===e.path){var s=n.length>0?ce(n).parameters:{};i=new Ge(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xt(e),St(e),e.component,e,Jt(t),$t(t)+n.length,en(e))}else{var u=At(t,e,n);if(!u.matched)return null;a=u.consumedSegments,o=n.slice(u.lastChild),i=new Ge(a,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xt(e),St(e),e.component,e,Jt(t),$t(t)+a.length,en(e))}var c,l=(c=e).children?c.children:c.loadChildren?c._loadedConfig.routes:[],h=Ot(t,a,o,l.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),f=h.segmentGroup,d=h.slicedSegments;if(0===d.length&&f.hasChildren()){var p=this.processChildren(l,f);return null===p?null:[new Be(i,p)]}if(0===l.length&&0===d.length)return[new Be(i,[])];var v=St(e)===r,g=this.processSegment(l,f,d,v?ee:r);return null===g?null:[new Be(i,g)]}}]),e}();function Yt(e){var t,n=[],r=new Set,i=_createForOfIteratorHelper(e);try{var a=function(){var e,i=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(i))return n.push(i),"continue";var a=n.find(function(e){return i.value.routeConfig===e.value.routeConfig});void 0!==a?((e=a.children).push.apply(e,_toConsumableArray(i.children)),r.add(a)):n.push(i)};for(i.s();!(t=i.n()).done;)a()}catch(l){i.e(l)}finally{i.f()}var o,s=_createForOfIteratorHelper(r);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=Yt(u.children);n.push(new Be(u.value,c))}}catch(l){s.e(l)}finally{s.f()}return n.filter(function(e){return!r.has(e)})}function Jt(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function $t(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Xt(e){return e.data||{}}function en(e){return e.resolve||{}}function tn(e){return(0,S.w)(function(t){var n=e(t);return n?(0,o.D)(n).pipe((0,E.U)(function(){return t})):(0,c.of)(t)})}var nn=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),rn=new i.OlP("ROUTES"),an=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var r=this.loadModuleFactory(t.loadChildren).pipe((0,E.U)(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var a=r.create(e);return new vt(ue(a.injector.get(rn,void 0,i.XFs.Self|i.XFs.Optional)).map(Et),a)}),(0,O.K)(function(e){throw t._loader$=void 0,e}));return t._loader$=new p.c(r,function(){return new v.xQ}).pipe((0,N.x)()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?(0,o.D)(this.loader.load(e)):he(e()).pipe((0,P.zg)(function(e){return e instanceof i.YKP?(0,c.of)(e):(0,o.D)(t.compiler.compileModuleAsync(e))}))}}]),e}(),on=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new sn,this.attachRef=null},sn=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new on,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),un=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function cn(e){throw e}function ln(e,t,n){return t.parse("/")}function hn(e,t){return(0,c.of)(null)}var fn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pn=function(){var e=function(){function e(t,n,r,a,o,s,u,c){var h=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=a,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new v.xQ,this.errorHandler=cn,this.malformedUriErrorHandler=ln,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hn,afterPreactivation:hn},this.urlHandlingStrategy=new un,this.routeReuseStrategy=new nn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(i.h0i),this.console=o.get(i.c2e);var f=o.get(i.R0b);this.isNgZoneEnabled=f instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new me(new _e([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new an(s,u,function(e){return h.triggerEvent(new G(e))},function(e){return h.triggerEvent(new W(e))}),this.routerState=He(this.currentUrlTree,this.rootComponentType),this.transitions=new l.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"browserPageId",get:function(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}},{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe((0,g.h)(function(e){return 0!==e.id}),(0,E.U)(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),(0,S.w)(function(e){var r=!1,i=!1;return(0,c.of)(e).pipe((0,F.b)(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,S.w)(function(e){var r=t.browserUrlTree.toString(),a=!t.navigated||e.extractedUrl.toString()!==r||r!==t.currentUrlTree.toString();if(("reload"===t.onSameUrlNavigation||a)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return vn(e.source)&&(t.browserUrlTree=e.extractedUrl),(0,c.of)(e).pipe((0,S.w)(function(e){var r=t.transitions.getValue();return n.next(new U(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?s.E:Promise.resolve(e)}),function(e,t,n,r){return(0,S.w)(function(i){return function(e,t,n,r,i){return new jt(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe((0,E.U)(function(e){return Object.assign(Object.assign({},i),{urlAfterRedirects:e})}))})}(t.ngModule.injector,t.configLoader,t.urlSerializer,t.config),(0,F.b)(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,r,a,o){return(0,P.zg)(function(r){return function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var s=new Qt(e,t,n,r,a,o).recognize();return null===s?Wt(new Gt):(0,c.of)(s)}catch(i){return Wt(i)}}(e,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,t.serializeUrl(s)),a,o).pipe((0,E.U)(function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})}));var s})}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),(0,F.b)(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,e),t.browserUrlTree=e.urlAfterRedirects);var r=new q(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(a&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var o=e.id,u=e.extractedUrl,l=e.source,h=e.restoredState,f=e.extras,d=new U(o,t.serializeUrl(u),l,h);n.next(d);var p=He(u,t.rootComponentType).snapshot;return(0,c.of)(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:u,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),s.E}),tn(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,a=e.rawUrl,o=e.extras,s=o.skipLocationChange,u=o.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!u})}),(0,F.b)(function(e){var n=new z(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),(0,E.U)(function(e){return Object.assign(Object.assign({},e),{guards:zt(e.targetSnapshot,e.currentSnapshot,t.rootContexts)})}),function(e,t){return(0,P.zg)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,a=n.guards,s=a.canActivateChecks,l=a.canDeactivateChecks;return 0===l.length&&0===s.length?(0,c.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,o.D)(e).pipe((0,P.zg)(function(e){return function(e,t,n,r,i){var a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,c.of)(!0);var o=a.map(function(a){var o,s=Ht(a,t,i);if(function(e){return e&&gt(e.canDeactivate)}(s))o=he(s.canDeactivate(e,t,n,r));else{if(!gt(s))throw new Error("Invalid CanDeactivate guard");o=he(s(e,t,n,r))}return o.pipe((0,R.P)())});return(0,c.of)(o).pipe(_t())}(e.component,e.route,n,t,r)}),(0,R.P)(function(e){return!0!==e},!0))}(l,r,i,e).pipe((0,P.zg)(function(n){return n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,o.D)(t).pipe((0,D.b)(function(t){return(0,d.z)(function(e,t){return null!==e&&t&&t(new Q(e)),(0,c.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new J(e)),(0,c.of)(!0)}(t.route,r),function(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return u(function(){var i=t.guards.map(function(i){var a,o=Ht(i,t.node,n);if(function(e){return e&&gt(e.canActivateChild)}(o))a=he(o.canActivateChild(r,e));else{if(!gt(o))throw new Error("Invalid CanActivateChild guard");a=he(o(r,e))}return a.pipe((0,R.P)())});return(0,c.of)(i).pipe(_t())})});return(0,c.of)(i).pipe(_t())}(e,t.path,n),function(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,c.of)(!0);var i=r.map(function(r){return u(function(){var i,a=Ht(r,t,n);if(function(e){return e&&gt(e.canActivate)}(a))i=he(a.canActivate(t,e));else{if(!gt(a))throw new Error("Invalid CanActivate guard");i=he(a(t,e))}return i.pipe((0,R.P)())})});return(0,c.of)(i).pipe(_t())}(e,t.route,n))}),(0,R.P)(function(e){return!0!==e},!0))}(r,s,e,t):(0,c.of)(n)}),(0,E.U)(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),(0,F.b)(function(e){if(yt(e.guardsResult)){var n=ie('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var r=new H(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(r)}),(0,g.h)(function(e){return!!e.guardsResult||(t.restoreHistory(e),t.cancelNavigationTransition(e,""),!1)}),tn(function(e){if(e.guards.canActivateChecks.length)return(0,c.of)(e).pipe((0,F.b)(function(e){var n=new Z(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),(0,S.w)(function(e){var n=!1;return(0,c.of)(e).pipe(function(e,t){return(0,P.zg)(function(n){var r=n.targetSnapshot,i=n.guards.canActivateChecks;if(!i.length)return(0,c.of)(n);var a=0;return(0,o.D)(i).pipe((0,D.b)(function(n){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return(0,c.of)({});var a={};return(0,o.D)(i).pipe((0,P.zg)(function(i){return function(e,t,n,r){var i=Ht(e,t,r);return he(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,F.b)(function(e){a[i]=e}))}),(0,y.h)(1),(0,P.zg)(function(){return Object.keys(a).length===i.length?(0,c.of)(a):s.E}))}(e._resolve,e,t,r).pipe((0,E.U)(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Ke(e,n).resolve),null}))}(n.route,r,e,t)}),(0,F.b)(function(){return a++}),(0,y.h)(1),(0,P.zg)(function(e){return a===i.length?(0,c.of)(n):s.E}))})}(t.paramsInheritanceStrategy,t.ngModule.injector),(0,F.b)({next:function(){return n=!0},complete:function(){n||(t.restoreHistory(e),t.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}))}),(0,F.b)(function(e){var n=new K(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),tn(function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,a=e.rawUrl,o=e.extras,s=o.skipLocationChange,u=o.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!u})}),(0,E.U)(function(e){var n=function(e,t,n){var r=Xe(e,t._root,n?n._root:void 0);return new ze(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})}),(0,F.b)(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(e.urlAfterRedirects,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,e),t.browserUrlTree=e.urlAfterRedirects)}),function(e,t,n){return(0,E.U)(function(r){return new dt(t,r.targetRouterState,r.currentRouterState,n).activate(e),r})}(t.rootContexts,t.routeReuseStrategy,function(e){return t.triggerEvent(e)}),(0,F.b)({next:function(){r=!0},complete:function(){r=!0}}),function(e){return function(t){return t.lift(new w(e))}}(function(){if(!r&&!i){var n="Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId);"replace"===t.canceledNavigationResolution?(t.restoreHistory(e),t.cancelNavigationTransition(e,n)):t.cancelNavigationTransition(e,n)}t.currentNavigation=null}),(0,O.K)(function(r){if(i=!0,function(e){return e&&e[re]}(r)){var a=yt(r.url);a||(t.navigated=!0,t.restoreHistory(e,!0));var o=new V(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),a?setTimeout(function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree),i={skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||vn(e.source)};t.scheduleNavigation(n,"imperative",null,i,{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.restoreHistory(e,!0);var u=new B(e.id,t.serializeUrl(e.extractedUrl),r);n.next(u);try{e.resolve(t.errorHandler(r))}catch(o){e.reject(o)}}return s.E}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,r=n.state,i=n.urlTree,a={replaceUrl:!0};if(r){var o=Object.assign({},r);delete o.navigationId,delete o.\u0275routerPageId,0!==Object.keys(o).length&&(a.state=o)}e.scheduleNavigation(i,t,r,a)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return t.transitionId!==e.transitionId||!n||!("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source)}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){Ct(e),this.config=e.map(Et),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,a=t.queryParamsHandling,o=t.preserveFragment,s=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i,c=null;switch(a){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return rt(t.root,t.root,t,r,i);var a=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new at(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return le(r.outlets,function(e,t){a[t]="string"==typeof e?e.split("/"):e}),[].concat(_toConsumableArray(e),[{outlets:a}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[].concat(_toConsumableArray(e),[r])},[]);return new at(n,t,r)}(n);if(a.toRoot())return rt(t.root,new _e([],{}),t,r,i);var o=function(e,t,n){if(e.isAbsolute)return new ot(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new ot(r,r===t.root,0)}var i=tt(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,a=n;a>i;){if(a-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new ot(r,!1,i-a)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(a,t,e),s=o.processChildren?ut(o.segmentGroup,o.index,a.commands):st(o.segmentGroup,o.index,a.commands);return rt(o.segmentGroup,s,t,r,i)}(s,this.currentUrlTree,e,c,null!=u?u:null)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=yt(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){var n;if(n=!0===t?Object.assign({},fn):!1===t?Object.assign({},dn):t,yt(e))return pe(this.currentUrlTree,e,n);var r=this.parseUrl(e);return pe(this.currentUrlTree,r,n)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.currentPageId=t.targetPageId,e.events.next(new j(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ".concat(t))})}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var a,o;if(this.disposed)return Promise.resolve(!1);var s,u,c,l=this.getTransition(),h=vn(t)&&l&&!vn(l.source),f=(this.lastSuccessfulId===l.id||this.currentNavigation?l.rawUrl:l.urlAfterRedirects).toString()===e.toString();if(h&&f)return Promise.resolve(!0);i?(s=i.resolve,u=i.reject,c=i.promise):c=new Promise(function(e,t){s=e,u=t});var d,p=++this.navigationId;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),d=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):d=0,this.setTransition({id:p,targetPageId:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:s,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t){var n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}},{key:"restoreHistory",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var i=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(t=this.currentNavigation)||void 0===t?void 0:t.finalUrl)||0===i?this.currentUrlTree===(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)&&0===i&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(e,t){var n=new V(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}},{key:"generateNgRouterState",value:function(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.DyG),i.LFG(Ce),i.LFG(sn),i.LFG(r.Ye),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}();function vn(e){return"imperative"!==e}var gn=function(){var e=function(){function e(t,n,r,a,o){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=a||ee,t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new yn(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(sn),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},e.\u0275dir=i.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),yn=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===Ze?this.route:e===sn?this.childContexts:this.parent.get(e,t)}}]),e}(),mn=function e(){_classCallCheck(this,e)},_n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return(0,c.of)(null)}}]),e}(),kn=function(){var e=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new an(n,r,function(e){return t.triggerEvent(new G(e))},function(e){return t.triggerEvent(new W(e))})}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe((0,g.h)(function(e){return e instanceof j}),(0,D.b)(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(i.h0i);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var s=a._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(e,a)):a.children&&r.push(this.processRoutes(e,a.children))}}catch(u){i.e(u)}finally{i.f()}return(0,o.D)(r).pipe((0,M.J)(),(0,E.U)(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return(t._loadedConfig?(0,c.of)(t._loadedConfig):n.loader.load(e.injector,t)).pipe((0,P.zg)(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.LFG(pn),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(mn))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}(),bn=function(){var e=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof U?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof j&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof X&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new X(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.LFG(pn),i.LFG(r.EM),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}(),Cn=new i.OlP("ROUTER_CONFIGURATION"),wn=new i.OlP("ROUTER_FORROOT_GUARD"),xn=[r.Ye,{provide:Ce,useClass:we},{provide:pn,useFactory:function(e,t,n,r,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new pn(null,e,t,n,r,i,a,ue(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(s,l),s.enableTracing&&l.events.subscribe(function(e){var t,n;null===(t=console.group)||void 0===t||t.call(console,"Router Event: ".concat(e.constructor.name)),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Ce,sn,r.Ye,i.zs3,i.v3s,i.Sil,rn,Cn,[function(){return function e(){_classCallCheck(this,e)}}(),new i.FiY],[function(){return function e(){_classCallCheck(this,e)}}(),new i.FiY]]},sn,{provide:Ze,useFactory:function(e){return e.routerState.root},deps:[pn]},{provide:i.v3s,useClass:i.EAV},kn,_n,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe((0,O.K)(function(){return(0,c.of)(null)}))}}]),e}(),{provide:Cn,useValue:{enableTracing:!1}}];function En(){return new i.PXZ("Router",pn)}var Sn=function(){var e=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[xn,On(t),{provide:wn,useFactory:An,deps:[[pn,new i.FiY,new i.tp0]]},{provide:Cn,useValue:n||{}},{provide:r.S$,useFactory:In,deps:[r.lw,[new i.tBr(r.mr),new i.FiY],Cn]},{provide:bn,useFactory:Tn,deps:[pn,r.EM,Cn]},{provide:mn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:_n},{provide:i.PXZ,multi:!0,useFactory:En},[Dn,{provide:i.ip1,multi:!0,useFactory:Rn,deps:[Dn]},{provide:Fn,useFactory:Pn,deps:[Dn]},{provide:i.tb,multi:!0,useExisting:Fn}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[On(t)]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.LFG(wn,8),i.LFG(pn,8))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e}();function Tn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new bn(e,t,n)}function In(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new r.Do(e,t):new r.b0(e,t)}function An(e){return"guarded"}function On(e){return[{provide:i.deG,multi:!0,useValue:e},{provide:rn,multi:!0,useValue:e}]}var Dn=function(){var e=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new v.xQ}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(r.V_,Promise.resolve(null)).then(function(){if(e.destroyed)return Promise.resolve(!0);var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(pn),i=e.injector.get(Cn);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return e.initNavigation?(0,c.of)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Cn),n=this.injector.get(kn),r=this.injector.get(bn),a=this.injector.get(pn),o=this.injector.get(i.z2F);e===o.components[0]&&(("enabledNonBlocking"===t.initialNavigation||void 0===t.initialNavigation)&&a.initialNavigation(),n.setUpPreloading(),r.init(),a.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.zs3))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}();function Rn(e){return e.appInitializer.bind(e)}function Pn(e){return e.bootstrapListener.bind(e)}var Fn=new i.OlP("Router Initializer")},4486:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(3854),i=n(6034),a=n(5452),o=n(5601),s=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._delegate=t,this.firebase=n,(0,a._addComponent)(t,new i.wA("app-compat",function(){return r},"PUBLIC")),this.container=t.container}return _createClass(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise(function(t){e._delegate.checkDestroyed(),t()}).then(function(){return e.firebase.INTERNAL.removeApp(e.name),(0,a.deleteApp)(e._delegate)})}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)&&r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){(0,a._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){(0,a._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),u=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=a.initializeApp(i,o);if((0,r.r3)(t,s.name))return t[s.name];var u=new e(s,n);return t[s.name]=u,u},app:i,registerVersion:a.registerVersion,setLogLevel:a.setLogLevel,onLog:a.onLog,apps:null,SDK_VERSION:a.SDK_VERSION,INTERNAL:{registerComponent:function(t){var o=t.name,s=o.replace("-compat","");if(a._registerComponent(t)&&"PUBLIC"===t.type){var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!=typeof e[s])throw u.create("invalid-app-argument",{appName:o});return e[s]()};void 0!==t.serviceProps&&(0,r.ZB)(c,t.serviceProps),n[s]=c,e.prototype[s]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this._getService.bind(this,o).apply(this,t.multipleInstances?n:[])}}return"PUBLIC"===t.type?n[s]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:a}};function i(e){if(!(0,r.r3)(t,e=e||a._DEFAULT_ENTRY_NAME))throw u.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),i.App=e,n}(s);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),l=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var h=self.firebase.SDK_VERSION;h&&h.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var f=c;(0,a.registerVersion)("@firebase/app-compat","0.1.6",void 0)},5452:function(e,t,n){"use strict";var r;n.r(t),n.d(t,{FirebaseError:function(){return s.ZR},SDK_VERSION:function(){return x},_DEFAULT_ENTRY_NAME:function(){return f},_addComponent:function(){return g},_addOrOverwriteComponent:function(){return y},_apps:function(){return p},_clearComponents:function(){return b},_components:function(){return v},_getProvider:function(){return _},_registerComponent:function(){return m},_removeServiceInstance:function(){return k},deleteApp:function(){return I},getApp:function(){return S},getApps:function(){return T},initializeApp:function(){return E},onLog:function(){return D},registerVersion:function(){return O},setLogLevel:function(){return R}});var i=n(8239),a=n(6034),o=n(5601),s=n(3854),u=function(){function e(t){_classCallCheck(this,e),this.container=t}return _createClass(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if("VERSION"===(null==(n=e.getComponent())?void 0:n.type)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}var n;return null}).filter(function(e){return e}).join(" ")}}]),e}(),c="@firebase/app",l="0.7.5",h=new o.Yd("@firebase/app"),f="[DEFAULT]",d=(_defineProperty(r={},c,"fire-core"),_defineProperty(r,"@firebase/app-compat","fire-core-compat"),_defineProperty(r,"@firebase/analytics","fire-analytics"),_defineProperty(r,"@firebase/analytics-compat","fire-analytics-compat"),_defineProperty(r,"@firebase/app-check","fire-app-check"),_defineProperty(r,"@firebase/app-check-compat","fire-app-check-compat"),_defineProperty(r,"@firebase/auth","fire-auth"),_defineProperty(r,"@firebase/auth-compat","fire-auth-compat"),_defineProperty(r,"@firebase/database","fire-rtdb"),_defineProperty(r,"@firebase/database-compat","fire-rtdb-compat"),_defineProperty(r,"@firebase/functions","fire-fn"),_defineProperty(r,"@firebase/functions-compat","fire-fn-compat"),_defineProperty(r,"@firebase/installations","fire-iid"),_defineProperty(r,"@firebase/installations-compat","fire-iid-compat"),_defineProperty(r,"@firebase/messaging","fire-fcm"),_defineProperty(r,"@firebase/messaging-compat","fire-fcm-compat"),_defineProperty(r,"@firebase/performance","fire-perf"),_defineProperty(r,"@firebase/performance-compat","fire-perf-compat"),_defineProperty(r,"@firebase/remote-config","fire-rc"),_defineProperty(r,"@firebase/remote-config-compat","fire-rc-compat"),_defineProperty(r,"@firebase/storage","fire-gcs"),_defineProperty(r,"@firebase/storage-compat","fire-gcs-compat"),_defineProperty(r,"@firebase/firestore","fire-fst"),_defineProperty(r,"@firebase/firestore-compat","fire-fst-compat"),_defineProperty(r,"fire-js","fire-js"),_defineProperty(r,"firebase","fire-js-all"),r),p=new Map,v=new Map;function g(e,t){try{e.container.addComponent(t)}catch(n){h.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function y(e,t){e.container.addOrOverwriteComponent(t)}function m(e){var t=e.name;if(v.has(t))return h.debug("There were multiple attempts to register component ".concat(t,".")),!1;v.set(t,e);var n,r=_createForOfIteratorHelper(p.values());try{for(r.s();!(n=r.n()).done;){g(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function _(e,t){return e.container.getProvider(t)}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;_(e,t).clearInstance(n)}function b(){v.clear()}var C=new s.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."}),w=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new a.wA("app",function(){return i},"PUBLIC"))}return _createClass(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw C.create("app-deleted",{appName:this._name})}}]),e}(),x="9.2.0";function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!=typeof t&&(t={name:t});var n=Object.assign({name:f,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw C.create("bad-app-name",{appName:String(r)});var i=p.get(r);if(i){if((0,s.vZ)(e,i.options)&&(0,s.vZ)(n,i.config))return i;throw C.create("duplicate-app",{appName:r})}var o,u=new a.H0(r),c=_createForOfIteratorHelper(v.values());try{for(c.s();!(o=c.n()).done;){var l=o.value;u.addComponent(l)}}catch(d){c.e(d)}finally{c.f()}var h=new w(e,n,u);return p.set(r,h),h}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=p.get(e);if(!t)throw C.create("no-app",{appName:e});return t}function T(){return Array.from(p.values())}function I(e){return A.apply(this,arguments)}function A(){return(A=(0,i.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,e.t0=p.has(n),!e.t0){e.next=7;break}return p.delete(n),e.next=6,Promise.all(t.container.getProviders().map(function(e){return e.delete()}));case 6:t.isDeleted=!0;case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&u.push("and"),s&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void h.warn(u.join(" "))}m(new a.wA("".concat(i,"-version"),function(){return{library:i,version:t}},"VERSION"))}function D(e,t){if(null!==e&&"function"!=typeof e)throw C.create("invalid-log-argument");(0,o.Am)(e,t)}function R(e){(0,o.Ub)(e)}m(new a.wA("platform-logger",function(e){return new u(e)},"PRIVATE")),O(c,l,""),O(c,l,"esm2017"),O("fire-js","")},209:function(e,t,n){"use strict";n.d(t,{$:function(){return $t},A:function(){return l},E:function(){return Oe},G:function(){return Pe},I:function(){return nt},K:function(){return fe},L:function(){return ht},M:function(){return vt},N:function(){return gt},P:function(){return jr},Q:function(){return yt},R:function(){return Tr},T:function(){return pt},V:function(){return _t},W:function(){return xt},X:function(){return jt},Y:function(){return Bt},Z:function(){return zt},_:function(){return Gt},a:function(){return Yn},a0:function(){return en},a1:function(){return nn},a2:function(){return an},a3:function(){return sn},a4:function(){return cn},a5:function(){return hn},a6:function(){return fn},a7:function(){return pn},a8:function(){return vn},a9:function(){return _n},aA:function(){return yi},aB:function(){return oi},aC:function(){return Ie},aG:function(){return $n},aJ:function(){return mt},aa:function(){return bn},ab:function(){return wn},ae:function(){return Tn},af:function(){return An},ag:function(){return On},aj:function(){return At},ak:function(){return jn},am:function(){return qn},an:function(){return Kn},ao:function(){return xe},ap:function(){return C},aq:function(){return we},ar:function(){return ke},as:function(){return v},at:function(){return Bi},au:function(){return xi},av:function(){return g},aw:function(){return k},ax:function(){return x},ay:function(){return de},az:function(){return bi},b:function(){return Qn},c:function(){return Wr},d:function(){return $r},e:function(){return Yr},f:function(){return ci},g:function(){return di},h:function(){return hi},i:function(){return dr},j:function(){return vi},k:function(){return Hi},l:function(){return Dr},m:function(){return Ki},n:function(){return Qi},o:function(){return c},r:function(){return Pr},s:function(){return Ar},u:function(){return Lr},z:function(){return h}});var r=n(8239),i=n(3854),a=n(5452),o=n(4762),s=n(5601),u=n(6034),c={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},l={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"},h=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},f=new i.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new s.Yd("@firebase/auth");function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];d.logLevel<=s.in.ERROR&&d.error.apply(d,["Auth (".concat(a.SDK_VERSION,"): ").concat(e)].concat(n))}function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _.apply(void 0,[e].concat(n))}function g(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _.apply(void 0,[e].concat(n))}function y(e,t,n){var r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_defineProperty({},t,n));return new i.LL("auth","Firebase",r).create(t,{appName:e.name})}function m(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&v(e,"argument-error"),y(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.Did you pass a reference from a different Auth SDK?"))}function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!=typeof e){var i,a=n[0],o=_toConsumableArray(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(_toConsumableArray(o)))}return f.create.apply(f,[e].concat(n))}function k(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e)throw _.apply(void 0,[t].concat(r))}function b(e){var t="INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function C(e,t){e||b(t)}var w=new Map;function x(e){C(e instanceof Function,"Expected a class definition");var t=w.get(e);return t?(C(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,w.set(e,t),t)}function E(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function S(){return"http:"===T()||"https:"===T()}function T(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var I=function(){function e(t,n){_classCallCheck(this,e),this.shortDelay=t,this.longDelay=n,C(n>t,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}return _createClass(e,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(S()||(0,i.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function A(e,t){C(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var O=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),D={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},R=new I(3e4,6e4);function P(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function F(e,t,n,r){return N.apply(this,arguments)}function N(){return(N=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r,a){var o,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.length>4&&void 0!==s[4]?s[4]:{},e.abrupt("return",M(t,o,function(){var e={},o={};a&&("GET"===n?o=a:e={body:JSON.stringify(a)});var s=(0,i.xO)(Object.assign({key:t.config.apiKey},o)).slice(1),u=new(O.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),O.fetch()(V(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},e))}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e,t,n){return L.apply(this,arguments)}function L(){return(L=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o,s,u,c,l,h,f,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},D),n),e.prev=2,o=new B(t),e.next=6,Promise.race([r(),o.promise]);case 6:return s=e.sent,o.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw q(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=15;break}return e.abrupt("return",u);case 15:if(c=s.ok?u.errorMessage:u.error.message,l=c.split(" : "),h=_slicedToArray(l,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=18;break}throw q(t,"credential-already-in-use",u);case 18:if("EMAIL_EXISTS"!==f){e.next=20;break}throw q(t,"email-already-in-use",u);case 20:if(p=a[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=23;break}throw y(t,p,d);case 23:v(t,p),e.next=31;break;case 26:if(e.prev=26,e.t0=e.catch(2),!(e.t0 instanceof i.ZR)){e.next=30;break}throw e.t0;case 30:v(t,"network-request-failed");case 31:case"end":return e.stop()}},e,null,[[2,26]])}))).apply(this,arguments)}function U(e,t,n,r){return j.apply(this,arguments)}function j(){return(j=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var a,o,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,F(t,n,r,i,a);case 3:return o=e.sent,e.abrupt("return",("mfaPendingCredential"in o&&v(t,"multi-factor-auth-required",{_serverResponse:o}),o));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?A(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var B=function(){function e(t){var n=this;_classCallCheck(this,e),this.auth=t,this.timer=null,this.promise=new Promise(function(e,t){n.timer=setTimeout(function(){return t(g(n.auth,"timeout"))},R.get())})}return _createClass(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function q(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=g(e,t,r);return i.customData._tokenResponse=n,i}function z(){return(z=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function H(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function K(e,t){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function W(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Q(){return(Q=(0,r.Z)(regeneratorRuntime.mark(function e(t){var n,r,a,o,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=(0,i.m9)(t),e.next=4,r.getIdToken(n);case 4:return a=e.sent,k((o=J(a))&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error"),s="object"==typeof o.firebase?o.firebase:void 0,u=null==s?void 0:s.sign_in_provider,e.abrupt("return",{claims:o,token:a,authTime:W(Y(o.auth_time)),issuedAtTime:W(Y(o.iat)),expirationTime:W(Y(o.exp)),signInProvider:u||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null});case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(e){return 1e3*Number(e)}function J(e){var t=_slicedToArray(e.split("."),3),n=t[0],r=t[1],a=t[2];if(void 0===n||void 0===r||void 0===a)return p("JWT malformed, contained fewer than 3 sections"),null;try{var o=(0,i.tV)(r);return o?JSON.parse(o):(p("Failed to decode base64 JWT payload"),null)}catch(o){return p("Caught error parsing JWT payload as JSON",o),null}}function $(e,t){return X.apply(this,arguments)}function X(){return(X=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),e.t1=e.t0 instanceof i.ZR&&ee(e.t0)&&t.auth.currentUser===t,!e.t1){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function ee(e){var t=e.code;return"auth/user-disabled"===t||"auth/user-token-expired"===t}var te=function(){function e(t){_classCallCheck(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return _createClass(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;if(this.isRunning){var n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.iteration();case 2:case"end":return e.stop()}},e)})),n)}}},{key:"iteration",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.user.getIdToken(!0);case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return",void("auth/network-request-failed"===t.t0.code&&e.schedule(!0)));case 8:e.schedule();case 9:case"end":return t.stop()}},t,null,[[0,5]])}))()}}]),e}(),ne=function(){function e(t,n){_classCallCheck(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return _createClass(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=W(this.lastLoginAt),this.creationTime=W(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function re(e){return ie.apply(this,arguments)}function ie(){return(ie=(0,r.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s,u,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,$(t,K(r,{idToken:i}));case 6:k(null==(a=e.sent)?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?se(o.providerUserInfo):[],u=oe(t.providerData,s),c=!!t.isAnonymous&&!(t.email&&o.passwordHash||(null==u?void 0:u.length)),l={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ne(o.createdAt,o.lastLoginAt),isAnonymous:c},Object.assign(t,l);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(){return(ae=(0,r.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,i.m9)(t),e.next=3,re(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oe(e,t){return[].concat(_toConsumableArray(e.filter(function(e){return!t.some(function(t){return t.providerId===e.providerId})})),_toConsumableArray(t))}function se(e){return e.map(function(e){var t=e.providerId,n=(0,o._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ue(){return(ue=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t,{},function(){var e=(0,i.xO)({grant_type:"refresh_token",refresh_token:n}).slice(1),r=t.config,a=r.tokenApiHost,o=r.apiKey,s=V(t,a,"/v1/token","key=".concat(o));return O.fetch()(s,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:e})});case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ce=function(){function e(){_classCallCheck(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return _createClass(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){k(e.idToken,"internal-error"),k(void 0!==e.idToken,"internal-error"),k(void 0!==e.refreshToken,"internal-error");var t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){var t=J(e);return k(t,"internal-error"),k(void 0!==t.exp,"internal-error"),k(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(k(!n.accessToken||n.refreshToken,e,"user-token-expired"),!t&&n.accessToken&&!n.isExpired){r.next=12;break}if(!n.refreshToken){r.next=8;break}return r.next=5,n.refresh(e,n.refreshToken);case 5:r.t1=n.accessToken,r.next=9;break;case 8:r.t1=null;case 9:r.t0=r.t1,r.next=13;break;case 12:r.t0=n.accessToken;case 13:return r.abrupt("return",r.t0);case 14:case"end":return r.stop()}},r)}))()}},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(e,t){var n=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){var i,a,o,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e,t){return ue.apply(this,arguments)}(e,t);case 2:i=r.sent,a=i.accessToken,o=i.refreshToken,s=i.expiresIn,n.updateTokensAndExpiration(a,o,Number(s));case 7:case"end":return r.stop()}},r)}))()}},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return b("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(k("string"==typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(k("number"==typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function le(e,t){k("string"==typeof e||void 0===e,"internal-error",{appName:t})}var he=function(){function e(t){_classCallCheck(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=(0,o._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new te(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new ne(a.createdAt||void 0,a.lastLoginAt||void 0)}return _createClass(e,[{key:"getIdToken",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$(t,t.stsTokenManager.getToken(t.auth,e));case 2:if(k(r=n.sent,t.auth,"internal-error"),n.t0=t.accessToken!==r,!n.t0){n.next=10;break}return t.accessToken=r,n.next=9,t.auth._persistUserIfCurrent(t);case 9:t.auth._notifyListenersIfCurrent(t);case 10:return n.abrupt("return",r);case 11:case"end":return n.stop()}},n)}))()}},{key:"getIdTokenResult",value:function(e){return function(e){return Q.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ae.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(function(e){return Object.assign({},e)}),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=!1,e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),i=!0),r.t0=t,!r.t0){r.next=6;break}return r.next=6,re(n);case 6:return r.next=8,n.auth._persistUserIfCurrent(n);case 8:i&&n.auth._notifyListenersIfCurrent(n);case 9:case"end":return r.stop()}},r)}))()}},{key:"delete",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getIdToken();case 2:return n=t.sent,t.next=5,$(e,function(e,t){return z.apply(this,arguments)}(e.auth,{idToken:n}));case 5:return e.stsTokenManager.clearRefreshToken(),t.abrupt("return",e.auth.signOut());case 7:case"end":return t.stop()}},t)}))()}},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(e){return Object.assign({},e)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,m=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,_=n.uid,b=n.emailVerified,C=n.isAnonymous,w=n.providerData,x=n.stsTokenManager;k(_&&x,t,"internal-error");var E=ce.fromJSON(this.name,x);k("string"==typeof _,t,"internal-error"),le(h,t.name),le(f,t.name),k("boolean"==typeof b,t,"internal-error"),k("boolean"==typeof C,t,"internal-error"),le(d,t.name),le(p,t.name),le(v,t.name),le(g,t.name),le(y,t.name),le(m,t.name);var S=new e({uid:_,auth:t,email:f,emailVerified:b,displayName:h,isAnonymous:C,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:m});return w&&Array.isArray(w)&&(S.providerData=w.map(function(e){return Object.assign({},e)})),g&&(S._redirectEventId=g),S}},{key:"_fromIdTokenResponse",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.Z)(regeneratorRuntime.mark(function r(){var a,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return(a=new ce).updateFromServerResponse(n),o=new e({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:i}),r.next=5,re(o);case 5:return r.abrupt("return",o);case 6:case"end":return r.stop()}},r)}))()}}]),e}(),fe=function(){var e=function(){function e(){_classCallCheck(this,e),this.type="NONE",this.storage={}}return _createClass(e,[{key:"_isAvailable",value:function(){return(0,r.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}))()}},{key:"_set",value:function(e,t){var n=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:n.storage[e]=t;case 1:case"end":return r.stop()}},r)}))()}},{key:"_get",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.storage[e],n.abrupt("return",void 0===r?null:r);case 2:case"end":return n.stop()}},n)}))()}},{key:"_remove",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:delete t.storage[e];case 1:case"end":return n.stop()}},n)}))()}},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();return e.type="NONE",e}();function de(e,t,n){return"firebase:".concat(e,":").concat(t,":").concat(n)}var pe=function(){function e(t,n,r){_classCallCheck(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=de(this.userKey,a.apiKey,o),this.fullPersistenceKey=de("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return _createClass(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.persistence._get(e.fullUserKey);case 2:return n=t.sent,t.abrupt("return",n?he._fromJSON(e.auth,n):null);case 4:case"end":return t.stop()}},t)}))()}},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.persistence!==e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t.getCurrentUser();case 4:return r=n.sent,n.next=7,t.removeCurrentUser();case 7:return t.persistence=e,n.abrupt("return",r?t.setCurrentUser(r):void 0);case 9:case"end":return n.stop()}},n)}))()}},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";return(0,r.Z)(regeneratorRuntime.mark(function a(){var o,s,u,c,l,h,f,d,p,v;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n.length){a.next=2;break}return a.abrupt("return",new e(x(fe),t,i));case 2:return a.next=4,Promise.all(n.map(function(){var e=(0,r.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 4:o=a.sent.filter(function(e){return e}),s=o[0]||x(fe),u=de(i,t.config.apiKey,t.name),c=null,l=_createForOfIteratorHelper(n),a.prev=9,l.s();case 11:if((h=l.n()).done){a.next=27;break}return f=h.value,a.prev=13,a.next=16,f._get(u);case 16:if(!(d=a.sent)){a.next=21;break}return p=he._fromJSON(t,d),f!==s&&(c=p),s=f,a.abrupt("break",27);case 21:a.next=25;break;case 23:a.prev=23,a.t0=a.catch(13);case 25:a.next=11;break;case 27:a.next=32;break;case 29:a.prev=29,a.t1=a.catch(9),l.e(a.t1);case 32:return a.prev=32,l.f(),a.finish(32);case 35:if(v=o.filter(function(e){return e._shouldAllowMigration}),!s._shouldAllowMigration||!v.length){a.next=47;break}if(s=v[0],a.t3=c,!a.t3){a.next=42;break}return a.next=42,s._set(u,c.toJSON());case 42:return a.next=44,Promise.all(n.map(function(){var e=(0,r.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===s){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()));case 44:a.t2=new e(s,t,i),a.next=48;break;case 47:a.t2=new e(s,t,i);case 48:return a.abrupt("return",a.t2);case 49:case"end":return a.stop()}},a,null,[[9,29,32,35],[13,23]])}))()}}]),e}();function ve(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_e(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ge(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(be(t))return"Blackberry";if(Ce(t))return"Webos";if(ye(t))return"Safari";if((t.includes("chrome/")||me(t))&&!t.includes("edge/"))return"Chrome";if(ke(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null==n?void 0:n.length)?n[1]:"Other"}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/firefox\//i.test(e)}function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/crios\//i.test(e)}function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/iemobile/i.test(e)}function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/android/i.test(e)}function be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/blackberry/i.test(e)}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/webos/i.test(e)}function we(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/iphone|ipad|ipod/i.test(e)}function xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return we(e)||ke(e)||Ce(e)||be(e)||/windows phone/i.test(e)||_e(e)}function Se(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ve((0,i.z$)());break;case"Worker":t="".concat(ve((0,i.z$)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/JsCore/").concat(a.SDK_VERSION,"/").concat(r)}var Te=function(){function e(t,n){_classCallCheck(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ae(this),this.idTokenSubscription=new Ae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return _createClass(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=x(t)),this._initializationPromise=this.queue((0,r.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=n._deleted,r.t0){r.next=14;break}return r.next=4,pe.create(n,e);case 4:if(n.persistenceManager=r.sent,r.t1=!n._deleted,!r.t1){r.next=14;break}if(r.t2=null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively,!r.t2){r.next=11;break}return r.next=11,n._popupRedirectResolver._initialize(n);case 11:return r.next=13,n.initializeCurrentUser(t);case 13:!n._deleted&&(n._isInitialized=!0);case 14:case"end":return r.stop()}},r)}))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._deleted){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.assertedPersistence.getCurrentUser();case 4:if(n=t.sent,!e.currentUser&&!n){t.next=13;break}if(!e.currentUser||!n||e.currentUser.uid!==n.uid){t.next=11;break}return e._currentUser._assign(n),t.next=10,e.currentUser.getIdToken();case 10:return t.abrupt("return",void t.sent);case 11:return t.next=13,e._updateCurrentUser(n);case 13:case"end":return t.stop()}},t)}))()}},{key:"initializeCurrentUser",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r,i,a,o,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.getCurrentUser();case 2:if(i=n.sent,!e||!t.config.authDomain){n.next=12;break}return n.next=6,t.getOrInitRedirectPersistenceManager();case 6:return a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,o=null==i?void 0:i._redirectEventId,n.next=10,t.tryRedirectSignIn(e);case 10:s=n.sent,(!a||a===o)&&(null==s?void 0:s.user)&&(i=s.user);case 12:if(!i){n.next=24;break}if(!i._redirectEventId){n.next=20;break}return k(t._popupRedirectResolver,t,"argument-error"),n.next=17,t.getOrInitRedirectPersistenceManager();case 17:n.t1=t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i),n.next=21;break;case 20:n.t1=t.reloadAndSetCurrentUserOrClear(i);case 21:n.t0=n.t1,n.next=25;break;case 24:n.t0=t.directlySetCurrentUser(null);case 25:return n.abrupt("return",n.t0);case 26:case"end":return n.stop()}},n)}))()}},{key:"tryRedirectSignIn",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=null,n.prev=1,n.next=4,t._popupRedirectResolver._completeRedirectFn(t,e,!0);case 4:r=n.sent,n.next=11;break;case 7:return n.prev=7,n.t0=n.catch(1),n.next=11,t._setRedirectUser(null);case 11:return n.abrupt("return",r);case 12:case"end":return n.stop()}},n,null,[[1,7]])}))()}},{key:"reloadAndSetCurrentUserOrClear",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,re(e);case 3:n.next=9;break;case 5:if(n.prev=5,n.t0=n.catch(0),"auth/network-request-failed"===n.t0.code){n.next=9;break}return n.abrupt("return",t.directlySetCurrentUser(null));case 9:return n.abrupt("return",t.directlySetCurrentUser(e));case 10:case"end":return n.stop()}},n,null,[[0,5]])}))()}},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e._deleted=!0;case 1:case"end":return t.stop()}},t)}))()}},{key:"updateCurrentUser",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e?(0,i.m9)(e):null,n.abrupt("return",(r&&k(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))));case 2:case"end":return n.stop()}},n)}))()}},{key:"_updateCurrentUser",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t._deleted){n.next=2;break}return n.abrupt("return",(e&&k(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.directlySetCurrentUser(e);case 2:t.notifyAuthListeners();case 3:case"end":return n.stop()}},n)})))));case 2:case"end":return n.stop()}},n)}))()}},{key:"signOut",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.redirectPersistenceManager||e._popupRedirectResolver,!t.t0){t.next=4;break}return t.next=4,e._setRedirectUser(null);case 4:return t.abrupt("return",e._updateCurrentUser(null));case 5:case"end":return t.stop()}},t)}))()}},{key:"setPersistence",value:function(e){var t=this;return this.queue((0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(x(e));case 2:case"end":return n.stop()}},n)})))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new i.LL("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(e,t){var n=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.getOrInitRedirectPersistenceManager(t);case 2:return i=r.sent,r.abrupt("return",null===e?i.removeCurrentUser():i.setCurrentUser(e));case 4:case"end":return r.stop()}},r)}))()}},{key:"getOrInitRedirectPersistenceManager",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.redirectPersistenceManager){n.next=9;break}return k(r=e&&x(e)||t._popupRedirectResolver,t,"argument-error"),n.next=5,pe.create(t,[x(r._redirectPersistence)],"redirectUser");case 5:return t.redirectPersistenceManager=n.sent,n.next=8,t.redirectPersistenceManager.getCurrentUser();case 8:t.redirectUser=n.sent;case 9:return n.abrupt("return",t.redirectPersistenceManager);case 10:case"end":return n.stop()}},n)}))()}},{key:"_redirectUserForId",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=t._isInitialized,!n.t0){n.next=4;break}return n.next=4,t.queue((0,r.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})));case 4:return n.abrupt("return",(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(a=t.redirectUser)||void 0===a?void 0:a._redirectEventId)===e?t.redirectUser:null);case 5:case"end":return n.stop()}},n)}))()}},{key:"_persistUserIfCurrent",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e!==t.currentUser){n.next=2;break}return n.abrupt("return",t.queue((0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.directlySetCurrentUser(e));case 1:case"end":return n.stop()}},n)}))));case 2:case"end":return n.stop()}},n)}))()}},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k(o,this,"internal-error"),o.then(function(){return a(i.currentUser)}),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,!e){n.next=7;break}return n.next=5,t.assertedPersistence.setCurrentUser(e);case 5:n.next=9;break;case 7:return n.next=9,t.assertedPersistence.removeCurrentUser();case 9:case"end":return n.stop()}},n)}))()}},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Se(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getSdkClientVersion",value:function(){return this.clientVersion}}]),e}();function Ie(e){return(0,i.m9)(e)}var Ae=function(){function e(t){var n=this;_classCallCheck(this,e),this.auth=t,this.observer=null,this.addObserver=(0,i.ne)(function(e){return n.observer=e})}return _createClass(e,[{key:"next",get:function(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Oe(e,t,n){var r=Ie(e);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null==n?void 0:n.disableWarnings),a=De(t),o=function(e){var t=De(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Re(r.substr(a.length+1))}}var o=_slicedToArray(r.split(":"),2);return{host:o[0],port:Re(o[1])}}(t),s=o.host,u=o.port;r.config.emulator={url:"".concat(a,"//").concat(s).concat(null===u?"":":".concat(u),"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function De(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Re(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Pe=function(){function e(t,n){_classCallCheck(this,e),this.providerId=t,this.signInMethod=n}return _createClass(e,[{key:"toJSON",value:function(){return b("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return b("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return b("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return b("not implemented")}}]),e}();function Fe(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t,"POST","/v1/accounts:resetPassword",P(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Me(e,t){return Le.apply(this,arguments)}function Le(){return(Le=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ue(e,t){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t,"POST","/v1/accounts:update",P(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t,"POST","/v1/accounts:signInWithPassword",P(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Be(e,t){return qe.apply(this,arguments)}function qe(){return(qe=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t,"POST","/v1/accounts:sendOobCode",P(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ze(e,t){return He.apply(this,arguments)}function He(){return(He=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Be(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ze(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Be(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ge(e,t){return We.apply(this,arguments)}function We(){return(We=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Be(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qe(e,t){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Be(t,n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Je(){return(Je=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t,"POST","/v1/accounts:signInWithEmailLink",P(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $e(){return($e=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t,"POST","/v1/accounts:signInWithEmailLink",P(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Xe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return _createClass(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=t.signInMethod,n.next="password"===n.t0?3:"emailLink"===n.t0?4:5;break;case 3:return n.abrupt("return",function(e,t){return Ve.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password}));case 4:return n.abrupt("return",function(e,t){return Je.apply(this,arguments)}(e,{email:t._email,oobCode:t._password}));case 5:v(e,"internal-error");case 6:case"end":return n.stop()}},n)}))()}},{key:"_linkToIdToken",value:function(e,t){var n=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=n.signInMethod,r.next="password"===r.t0?3:"emailLink"===r.t0?4:5;break;case 3:return r.abrupt("return",Me(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password}));case 4:return r.abrupt("return",function(e,t){return $e.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password}));case 5:v(e,"internal-error");case 6:case"end":return r.stop()}},r)}))()}},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Pe);function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t,"POST","/v1/accounts:signInWithIdp",P(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var nt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return _createClass(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return et(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,et(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,et(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.xO)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):v("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=(0,o._T)(t,["providerId","signInMethod"]);if(!r||!i)return null;var s=new n(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}}]),n}(Pe);function rt(e,t){return it.apply(this,arguments)}function it(){return(it=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t,"POST","/v1/accounts:sendVerificationCode",P(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function at(){return(at=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t,"POST","/v1/accounts:signInWithPhoneNumber",P(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ot(){return(ot=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t,"POST","/v1/accounts:signInWithPhoneNumber",P(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw q(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var st={USER_NOT_FOUND:"user-not-found"};function ut(){return(ut=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t,"POST","/v1/accounts:signInWithPhoneNumber",P(t,Object.assign(Object.assign({},n),{operation:"REAUTH"})),st));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ct=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,"phone","phone")).params=e,r}return _createClass(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return at.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ot.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ut.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Pe),lt=function(){function e(t){var n,r,a,o,s,u;_classCallCheck(this,e);var c=(0,i.zd)((0,i.pd)(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,h=null!==(r=c.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(a=c.mode)&&void 0!==a?a:null);k(l&&h&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=h,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(u=c.tenantId)&&void 0!==u?u:null}return _createClass(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=(0,i.zd)((0,i.pd)(e)).link,n=t?(0,i.zd)((0,i.pd)(t)).deep_link_id:null,r=(0,i.zd)((0,i.pd)(e)).deep_link_id;return(r?(0,i.zd)((0,i.pd)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}(),ht=function(){var e=function(){function e(){_classCallCheck(this,e),this.providerId=e.PROVIDER_ID}return _createClass(e,null,[{key:"credential",value:function(e,t){return Xe._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=lt.parseLink(t);return k(n,"argument-error"),Xe._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e}(),ft=function(){function e(t){_classCallCheck(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return _createClass(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),dt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).scopes=[],e}return _createClass(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return _toConsumableArray(this.scopes)}}]),n}(ft),pt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return k(e.idToken||e.accessToken,"argument-error"),nt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;return k("providerId"in t&&"signInMethod"in t,"argument-error"),nt._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o||!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(dt),vt=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,"facebook.com")}return _createClass(n,null,[{key:"credential",value:function(e){return nt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(dt);return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e}(),gt=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return _createClass(n,null,[{key:"credential",value:function(e,t){return nt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(dt);return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e}(),yt=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,"github.com")}return _createClass(n,null,[{key:"credential",value:function(e){return nt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(dt);return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e}(),mt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return _createClass(n,[{key:"_getIdTokenResponse",value:function(e){return et(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,et(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,et(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Pe),_t=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,"twitter.com")}return _createClass(n,null,[{key:"credential",value:function(e,t){return nt._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(dt);return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e}();function kt(e,t){return bt.apply(this,arguments)}function bt(){return(bt=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t,"POST","/v1/accounts:signUp",P(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ct=function(){function e(t){_classCallCheck(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return _createClass(e,null,[{key:"_fromIdTokenResponse",value:function(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,r.Z)(regeneratorRuntime.mark(function r(){var o,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,he._fromIdTokenResponse(t,i,a);case 2:return o=r.sent,s=wt(i),r.abrupt("return",new e({user:o,providerId:s,_tokenResponse:i,operationType:n}));case 5:case"end":return r.stop()}},r)}))()}},{key:"_forOperation",value:function(t,n,i){return(0,r.Z)(regeneratorRuntime.mark(function r(){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t._updateTokensIfNecessary(i,!0);case 2:return a=wt(i),r.abrupt("return",new e({user:t,providerId:a,_tokenResponse:i,operationType:n}));case 4:case"end":return r.stop()}},r)}))()}}]),e}();function wt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function xt(e){return Et.apply(this,arguments)}function Et(){return(Et=(0,r.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ie(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ct({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,kt(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ct._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}var St=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o,s;return _classCallCheck(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(_assertThisInitialized(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return _createClass(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(i.ZR);function Tt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(function(n){throw"auth/multi-factor-auth-required"===n.code?St._fromErrorAndOperation(e,n,t,r):n})}function It(e){return new Set(e.map(function(e){return e.providerId}).filter(function(e){return!!e}))}function At(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,i.m9)(t),e.next=3,Pt(!0,r,n);case 3:return e.t0=H,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return a=e.sent,o=a.providerUserInfo,s=It(o||[]),r.providerData=r.providerData.filter(function(e){return s.has(e.providerId)}),s.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Dt(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=$,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ct._forOperation(t,"link",i));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pt(e,t,n){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(n);case 2:i=!1===t?"provider-already-linked":"no-such-provider",k(It(n.providerData).has(r)===t,n.auth,i);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,u,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=2,e.next=5,$(t,Tt(i,a,n,t),r);case 5:return k((o=e.sent).idToken,i,"internal-error"),k(s=J(o.idToken),i,"internal-error"),u=s.sub,e.abrupt("return",(k(t.uid===u,i,"user-mismatch"),Ct._forOperation(t,a,o)));case 13:throw e.prev=13,e.t0=e.catch(2),"auth/user-not-found"===(null==e.t0?void 0:e.t0.code)&&v(i,"user-mismatch"),e.t0;case 16:case"end":return e.stop()}},e,null,[[2,13]])}))).apply(this,arguments)}function Lt(e,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Tt(t,i,n);case 4:return a=e.sent,e.next=7,Ct._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,e.t0=r,e.t0){e.next=12;break}return e.next=12,t._updateCurrentUser(o.user);case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function jt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lt(Ie(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bt(e,t){return qt.apply(this,arguments)}function qt(){return(qt=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,i.m9)(t),e.next=3,Pt(!1,r,n.providerId);case 3:return e.abrupt("return",Dt(r,n));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zt(e,t){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nt((0,i.m9)(t),n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Zt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t,"POST","/v1/accounts:signInWithCustomToken",P(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gt(e,t){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ie(t),e.next=3,Zt(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ct._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Qt=function(){function e(t,n){_classCallCheck(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return _createClass(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Yt._fromServerResponse(e,t):v(e,"internal-error")}}]),e}(),Yt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return _createClass(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Qt);function Jt(e,t,n){var r;k((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),k(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(k(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(k(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function $t(e,t,n){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,i.m9)(t),o={requestType:"PASSWORD_RESET",email:n},r&&Jt(a,o,r),e.next=4,Ze(a,o);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function en(e,t,n){return tn.apply(this,arguments)}function tn(){return(tn=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe((0,i.m9)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return(rn=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue((0,i.m9)(t),{oobCode:n});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function an(e,t){return on.apply(this,arguments)}function on(){return(on=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,i.m9)(t),e.next=3,Fe(r,{oobCode:n});case 3:a=e.sent,o=a.requestType,e.t0=(k(o,r,"internal-error"),o),e.next="EMAIL_SIGNIN"===e.t0?8:"VERIFY_AND_CHANGE_EMAIL"===e.t0?9:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?11:12;break;case 8:return e.abrupt("break",13);case 9:return k(a.newEmail,r,"internal-error"),e.abrupt("break",13);case 11:k(a.mfaInfo,r,"internal-error");case 12:k(a.email,r,"internal-error");case 13:return s=null,e.abrupt("return",(a.mfaInfo&&(s=Qt._fromServerResponse(Ie(r),a.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===a.requestType?a.newEmail:a.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===a.requestType?a.email:a.newEmail)||null,multiFactorInfo:s},operation:o}));case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function sn(e,t){return un.apply(this,arguments)}function un(){return(un=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an((0,i.m9)(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",a.email);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cn(e,t,n){return ln.apply(this,arguments)}function ln(){return(ln=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ie(t),e.next=3,kt(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ct._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hn(e,t,n){return jt((0,i.m9)(e),ht.credential(t,n))}function fn(e,t,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,i.m9)(t),o={requestType:"EMAIL_SIGNIN",email:n},k(r.handleCodeInApp,a,"argument-error"),r&&Jt(a,o,r),e.next=5,Ge(a,o);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pn(e,t){var n=lt.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}function vn(e,t,n){return gn.apply(this,arguments)}function gn(){return(gn=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,i.m9)(t),o=ht.credentialWithLink(n,r||E()),e.abrupt("return",(k(o._tenantId===(a.tenantId||null),a,"tenant-id-mismatch"),jt(a,o)));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yn(e,t){return mn.apply(this,arguments)}function mn(){return(mn=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t,"POST","/v1/accounts:createAuthUri",P(t,n)));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _n(e,t){return kn.apply(this,arguments)}function kn(){return(kn=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={identifier:n,continueUri:S()?E():"http://localhost"},e.next=3,yn((0,i.m9)(t),r);case 3:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function bn(e,t){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,i.m9)(t),e.next=3,t.getIdToken();case 3:return e.t0=e.sent,a={requestType:"VERIFY_EMAIL",idToken:e.t0},n&&Jt(r.auth,a,n),e.next=8,ze(r.auth,a);case 8:if(o=e.sent,s=o.email,e.t1=s!==t.email,!e.t1){e.next=14;break}return e.next=14,t.reload();case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function wn(e,t,n){return xn.apply(this,arguments)}function xn(){return(xn=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,i.m9)(t),e.next=3,t.getIdToken();case 3:return e.t0=e.sent,e.t1=n,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e.t0,newEmail:e.t1},r&&Jt(a.auth,o,r),e.next=9,Qe(a.auth,o);case 9:if(s=e.sent,u=s.email,e.t2=u!==t.email,!e.t2){e.next=15;break}return e.next=15,t.reload();case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function En(e,t){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",F(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Tn(e,t){return In.apply(this,arguments)}function In(){return(In=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r,a,o,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,a=n.photoURL,void 0!==r||void 0!==a){e.next=3;break}return e.abrupt("return");case 3:return o=(0,i.m9)(t),e.next=6,o.getIdToken();case 6:return e.t0=e.sent,e.t1=r,e.t2=a,e.t3=!0,s={idToken:e.t0,displayName:e.t1,photoUrl:e.t2,returnSecureToken:e.t3},e.next=13,$(o,En(o.auth,s));case 13:return u=e.sent,o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null,(c=o.providerData.find(function(e){return"password"===e.providerId}))&&(c.displayName=o.displayName,c.photoURL=o.photoURL),e.next=19,o._updateTokensIfNecessary(u);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function An(e,t){return Dn((0,i.m9)(e),t,null)}function On(e,t){return Dn((0,i.m9)(e),null,t)}function Dn(e,t,n){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return e.t0=e.sent,e.t1=!0,a={idToken:e.t0,returnSecureToken:e.t1},n&&(a.email=n),r&&(a.password=r),e.next=9,$(t,Me(i,a));case 9:return o=e.sent,e.next=12,t._updateTokensIfNecessary(o,!0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Pn=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.isNewUser=t,this.providerId=n,this.profile=r},Fn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,r,i)).username=a,o}return n}(Pn),Nn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this,e,"facebook.com",r)}return n}(Pn),Mn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this,e,"github.com",r,"string"==typeof(null==r?void 0:r.login)?null==r?void 0:r.login:null)}return n}(Fn),Ln=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this,e,"google.com",r)}return n}(Pn),Un=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e,"twitter.com",r,i)}return n}(Fn);function jn(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){var o=null===(n=null===(t=J(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Pn(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Nn(a,i);case"github.com":return new Mn(a,i);case"google.com":return new Ln(a,i);case"twitter.com":return new Un(a,i,e.screenName||null);case"custom":case"anonymous":return new Pn(a,null);default:return new Pn(a,r,i)}}(n)}var Vn=function(){function e(t,n){_classCallCheck(this,e),this.type=t,this.credential=n}return _createClass(e,[{key:"toJSON",value:function(){return{multiFactorSession:_defineProperty({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null==t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Bn=function(){function e(t,n,r){_classCallCheck(this,e),this.session=t,this.hints=n,this.signInResolver=r}return _createClass(e,[{key:"resolveSignIn",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.signInResolver(e));case 1:case"end":return n.stop()}},n)}))()}}],[{key:"_fromError",value:function(t,n){var i=Ie(t),a=n.customData._serverResponse,o=(a.mfaInfo||[]).map(function(e){return Qt._fromServerResponse(i,e)});k(a.mfaPendingCredential,i,"internal-error");var s,u=Vn._fromMfaPendingCredential(a.mfaPendingCredential);return new e(u,o,(s=(0,r.Z)(regeneratorRuntime.mark(function e(t){var r,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(i,u);case 2:r=e.sent,delete a.mfaInfo,delete a.mfaPendingCredential,o=Object.assign(Object.assign({},a),{idToken:r.idToken,refreshToken:r.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?8:"reauthenticate"===e.t0?14:15;break;case 8:return e.next=10,Ct._fromIdTokenResponse(i,n.operationType,o);case 10:return s=e.sent,e.next=13,i._updateCurrentUser(s.user);case 13:return e.abrupt("return",s);case 14:return e.abrupt("return",(k(n.user,i,"internal-error"),Ct._forOperation(n.user,n.operationType,o)));case 15:v(i,"internal-error");case 16:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}))}}]),e}();function qn(e,t){var n,r=(0,i.m9)(e),a=t;return k(t.customData.operationType,r,"argument-error"),k(null===(n=a.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Bn._fromError(r,a)}function zn(e,t){return F(e,"POST","/v2/accounts/mfaEnrollment:start",P(e,t))}var Hn=function(){function e(t){var n=this;_classCallCheck(this,e),this.user=t,this.enrolledFactors=[],t._onReload(function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map(function(e){return Qt._fromServerResponse(t.auth,e)}))})}return _createClass(e,[{key:"getSession",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Vn,t.next=3,e.user.getIdToken();case 3:return t.t1=t.sent,t.abrupt("return",t.t0._fromIdtoken.call(t.t0,t.t1));case 5:case"end":return t.stop()}},t)}))()}},{key:"enroll",value:function(e,t){var n=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){var i,a,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=e,r.next=3,n.getSession();case 3:return a=r.sent,r.next=6,$(n.user,i._process(n.user.auth,a,t));case 6:return o=r.sent,r.next=9,n.user._updateTokensIfNecessary(o);case 9:return r.abrupt("return",n.user.reload());case 10:case"end":return r.stop()}},r)}))()}},{key:"unenroll",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r,i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r="string"==typeof e?e:e.uid,n.next=3,t.user.getIdToken();case 3:return i=n.sent,n.next=6,$(t.user,function(e,t){return F(e,"POST","/v2/accounts/mfaEnrollment:withdraw",P(e,t))}(t.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=n.sent,t.enrolledFactors=t.enrolledFactors.filter(function(e){return e.uid!==r}),n.next=10,t.user._updateTokensIfNecessary(a);case 10:return n.prev=10,n.next=13,t.user.reload();case 13:n.next=19;break;case 15:if(n.prev=15,n.t0=n.catch(10),"auth/user-token-expired"===n.t0.code){n.next=19;break}throw n.t0;case 19:case"end":return n.stop()}},n,null,[[10,15]])}))()}}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Zn=new WeakMap;function Kn(e){var t=(0,i.m9)(e);return Zn.has(t)||Zn.set(t,Hn._fromUser(t)),Zn.get(t)}var Gn="__sak",Wn=function(){function e(t,n){_classCallCheck(this,e),this.storageRetriever=t,this.type=n}return _createClass(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Gn,"1"),this.storage.removeItem(Gn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}(),Qn=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,function(){return window.localStorage},"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=(0,i.z$)();return ye(e)||we(e)}()&&function(){try{return!(!window||window===window.top)}catch(n){return!1}}(),e.fallbackToPolling=Ee(),e._shouldAllowMigration=!0,e}return _createClass(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var a=this.storage.getItem(r);if(e.newValue!==a)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var o=function(){var e=t.storage.getItem(r);!n&&t.localCache[r]===e||t.notifyListeners(r,e)},s=this.storage.getItem(r);(0,i.w1)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,10):o()}else this.forAllChangedKeys(function(e,n,r){t.notifyListeners(e,r)})}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t&&JSON.parse(t))}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(function(){e.forAllChangedKeys(function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(e,t){var i=this,a=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_get2(_getPrototypeOf(n.prototype),"_set",i).call(a,e,t);case 2:a.localCache[e]=JSON.stringify(t);case 3:case"end":return r.stop()}},r)}))()}},{key:"_get",value:function(e){var t=this,i=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_get2(_getPrototypeOf(n.prototype),"_get",t).call(i,e);case 2:return a=r.sent,r.abrupt("return",(i.localCache[e]=JSON.stringify(a),a));case 4:case"end":return r.stop()}},r)}))()}},{key:"_remove",value:function(e){var t=this,i=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,_get2(_getPrototypeOf(n.prototype),"_remove",t).call(i,e);case 2:delete i.localCache[e];case 3:case"end":return r.stop()}},r)}))()}}]),n}(Wn);return e.type="LOCAL",e}(),Yn=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,function(){return window.sessionStorage},"SESSION")}return _createClass(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Wn);return e.type="SESSION",e}(),Jn=function(){var e=function(){function e(t){_classCallCheck(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return _createClass(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var i,a,o,s,u,c,l,h;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=(i=e).data,o=a.eventId,s=a.eventType,u=a.data,null==(c=t.handlersMap[s])?void 0:c.size){n.next=3;break}return n.abrupt("return");case 3:return i.ports[0].postMessage({status:"ack",eventId:o,eventType:s}),l=Array.from(c).map(function(){var e=(0,r.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(i.origin,u));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.next=7,function(e){return Promise.all(e.map((t=(0,r.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=!0,e.next=4,t;case 4:return e.t1=e.sent,e.abrupt("return",{fulfilled:e.t0,value:e.t1});case 8:return e.prev=8,e.t2=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t2});case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return t.apply(this,arguments)})));var t}(l);case 7:h=n.sent,i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:h});case 9:case"end":return n.stop()}},n)}))()}},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find(function(e){return e.isListeningto(t)});if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();return e.receivers=[],e}();function $n(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}var Xn=function(){function e(t){_classCallCheck(this,e),this.target=t,this.handlers=new Set}return _createClass(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,i=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){var a,o,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a="undefined"!=typeof MessageChannel?new MessageChannel:null){r.next=3;break}throw new Error("connection_unavailable");case 3:return r.abrupt("return",new Promise(function(r,u){var c=$n("",20);a.port1.start();var l=setTimeout(function(){u(new Error("unsupported_event"))},n);s={messageChannel:a,onMessage:function(e){var t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),o=setTimeout(function(){u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),r(t.data.response);break;default:clearTimeout(l),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(s),a.port1.addEventListener("message",s.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[a.port2])}).finally(function(){s&&i.removeMessageHandler(s)}));case 4:case"end":return r.stop()}},r)}))()}}]),e}();function er(){return window}function tr(){return void 0!==er().WorkerGlobalScope&&"function"==typeof er().importScripts}function nr(){return(nr=(0,r.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return e.abrupt("return",e.sent.active);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",null);case 11:case"end":return e.stop()}},e,null,[[2,8]])}))).apply(this,arguments)}var rr="firebaseLocalStorageDb",ir="firebaseLocalStorage",ar="fbase_key",or=function(){function e(t){_classCallCheck(this,e),this.request=t}return _createClass(e,[{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.request.addEventListener("success",function(){t(e.request.result)}),e.request.addEventListener("error",function(){n(e.request.error)})})}}]),e}();function sr(e,t){return e.transaction([ir],t?"readwrite":"readonly").objectStore(ir)}function ur(){var e=indexedDB.open(rr,1);return new Promise(function(t,n){e.addEventListener("error",function(){n(e.error)}),e.addEventListener("upgradeneeded",function(){var t=e.result;try{t.createObjectStore(ir,{keyPath:ar})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=e.result).objectStoreNames.contains(ir)){n.next=5;break}t(r),n.next=13;break;case 5:return r.close(),n.next=8,function(){var e=indexedDB.deleteDatabase(rr);return new or(e).toPromise()}();case 8:return n.t0=t,n.next=11,ur();case 11:n.t1=n.sent,(0,n.t0)(n.t1);case 13:case"end":return n.stop()}},n)})))})}function cr(e,t,n){return lr.apply(this,arguments)}function lr(){return(lr=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=sr(t,!0).put((_defineProperty(i={},ar,n),_defineProperty(i,"value",r),i)),e.abrupt("return",new or(a).toPromise());case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hr(){return(hr=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=sr(t,!1).get(n),e.next=3,new or(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fr(e,t){var n=sr(e,!0).delete(t);return new or(n).toPromise()}var dr=function(){var e=function(){function e(){_classCallCheck(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}return _createClass(e,[{key:"_openDb",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.db,t.t0){t.next=5;break}return t.next=4,ur();case 4:e.db=t.sent;case 5:return t.abrupt("return",e.db);case 6:case"end":return t.stop()}},t)}))()}},{key:"_withRetries",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r=0;case 1:return n.prev=1,n.next=4,t._openDb();case 4:return i=n.sent,n.next=7,e(i);case 7:return n.abrupt("return",n.sent);case 10:if(n.prev=10,n.t0=n.catch(1),!(r++>3)){n.next=14;break}throw n.t0;case 14:t.db&&(t.db.close(),t.db=void 0);case 15:n.next=1;break;case 17:case"end":return n.stop()}},n,null,[[1,10]])}))()}},{key:"initializeServiceWorkerMessaging",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",tr()?e.initializeReceiver():e.initializeSender());case 1:case"end":return t.stop()}},t)}))()}},{key:"initializeReceiver",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.receiver=Jn._getInstance(tr()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(regeneratorRuntime.mark(function t(n,r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._poll();case 2:return t.t0=t.sent.includes(r.key),t.abrupt("return",{keyProcessed:t.t0});case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t)}))()}},{key:"initializeSender",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){var n,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(){return nr.apply(this,arguments)}();case 2:if(e.activeServiceWorker=t.sent,e.activeServiceWorker){t.next=5;break}return t.abrupt("return");case 5:return e.sender=new Xn(e.activeServiceWorker),t.next=8,e.sender._send("ping",{},800);case 8:!(i=t.sent)||(null===(n=i[0])||void 0===n?void 0:n.fulfilled)&&(null===(r=i[0])||void 0===r?void 0:r.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0);case 10:case"end":return t.stop()}},t)}))()}},{key:"notifyServiceWorker",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.sender||!t.activeServiceWorker||function(){var e;return(null===(e=null==navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()!==t.activeServiceWorker){n.next=8;break}return n.prev=1,n.next=4,t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50);case 4:n.next=8;break;case 6:n.prev=6,n.t0=n.catch(1);case 8:case"end":return n.stop()}},n,null,[[1,6]])}))()}},{key:"_isAvailable",value:function(){return(0,r.Z)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ur();case 5:return t=e.sent,e.next=8,cr(t,Gn,"1");case 8:return e.next=10,fr(t,Gn);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,null,[[0,13]])}))()}},{key:"_withPendingWrite",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.pendingWrites++,n.prev=1,n.next=4,e();case 4:return n.prev=4,t.pendingWrites--,n.finish(4);case 7:case"end":return n.stop()}},n,null,[[1,,4,7]])}))()}},{key:"_set",value:function(e,t){var n=this;return(0,r.Z)(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",n._withPendingWrite((0,r.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n._withRetries(function(n){return cr(n,e,t)});case 2:return n.localCache[e]=t,r.abrupt("return",n.notifyServiceWorker(e));case 4:case"end":return r.stop()}},r)}))));case 1:case"end":return i.stop()}},i)}))()}},{key:"_get",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._withRetries(function(t){return function(e,t){return hr.apply(this,arguments)}(t,e)});case 2:return r=n.sent,n.abrupt("return",(t.localCache[e]=r,r));case 4:case"end":return n.stop()}},n)}))()}},{key:"_remove",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._withPendingWrite((0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._withRetries(function(t){return fr(t,e)});case 2:return delete t.localCache[e],n.abrupt("return",t.notifyServiceWorker(e));case 4:case"end":return n.stop()}},n)}))));case 1:case"end":return n.stop()}},n)}))()}},{key:"_poll",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){var n,r,i,a,o,s,u,c,l,h,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._withRetries(function(e){var t=sr(e,!1).getAll();return new or(t).toPromise()});case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return",[]);case 5:if(0===e.pendingWrites){t.next=7;break}return t.abrupt("return",[]);case 7:r=[],i=new Set,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;)s=o.value,u=s.fbase_key,c=s.value,i.add(u),JSON.stringify(e.localCache[u])!==JSON.stringify(c)&&(e.notifyListeners(u,c),r.push(u))}catch(d){a.e(d)}finally{a.f()}for(l=0,h=Object.keys(e.localCache);l<h.length;l++)f=h[l],e.localCache[f]&&!i.has(f)&&(e.notifyListeners(f,null),r.push(f));return t.abrupt("return",r);case 12:case"end":return t.stop()}},t)}))()}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}},t)})),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();return e.type="LOCAL",e}();function pr(e,t){return F(e,"POST","/v2/accounts/mfaSignIn:start",P(e,t))}function vr(){return(vr=(0,r.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gr(e){return new Promise(function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function yr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var mr=1e12,_r=function(){function e(t){_classCallCheck(this,e),this.auth=t,this.counter=mr,this._widgets=new Map}return _createClass(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new kr(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||mr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t;return(null===(t=this._widgets.get(e||mr))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(null===(r=t._widgets.get(e||mr))||void 0===r||r.execute(),""));case 1:case"end":return n.stop()}},n)}))()}}]),e}(),kr=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"==typeof t?document.getElementById(t):t;k(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return _createClass(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout(function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()},6e4)},500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}(),br=yr("rcb"),Cr=new I(3e4,6e4),wr=function(){function e(){_classCallCheck(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!er().grecaptcha}return _createClass(e,[{key:"load",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return k((t=r).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t),e,"argument-error"),this.shouldResolveImmediately(r)?Promise.resolve(er().grecaptcha):new Promise(function(t,a){var o=er().setTimeout(function(){a(g(e,"network-request-failed"))},Cr.get());er()[br]=function(){er().clearTimeout(o),delete er()[br];var i=er().grecaptcha;if(i){var s=i.render;i.render=function(e,t){var r=s(e,t);return n.counter++,r},n.hostLanguage=r,t(i)}else a(g(e,"internal-error"))},gr("https://www.google.com/recaptcha/api.js??".concat((0,i.xO)({onload:br,render:"explicit",hl:r}))).catch(function(){clearTimeout(o),a(g(e,"internal-error"))})})}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!er().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}(),xr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"load",value:function(e){return(0,r.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new _r(e));case 1:case"end":return t.stop()}},t)}))()}},{key:"clearedOneInstance",value:function(){}}]),e}(),Er="recaptcha",Sr={theme:"light",type:"image"},Tr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Sr),r=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.parameters=n,this.type=Er,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ie(r),this.isInvisible="invisible"===this.parameters.size,k("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"==typeof t?document.getElementById(t):t;k(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xr:new wr,this.validateStartingState()}return _createClass(e,[{key:"verify",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.assertNotDestroyed(),t.next=3,e.render();case 3:return n=t.sent,r=e.getAssertedRecaptcha(),t.abrupt("return",r.getResponse(n)||new Promise(function(t){e.tokenChangeListeners.add(function n(r){!r||(e.tokenChangeListeners.delete(n),t(r))}),e.isInvisible&&r.execute(n)}));case 6:case"end":return t.stop()}},t)}))()}},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(function(t){throw e.renderPromise=null,t})),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(function(t){e.container.removeChild(t)})}},{key:"validateStartingState",value:function(){k(!this.parameters.sitekey,this.auth,"argument-error"),k(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach(function(e){return e(n)}),"function"==typeof e)e(n);else if("string"==typeof e){var r=er()[e];"function"==typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){k(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:if(e.widgetId){t.next=6;break}n=e.container,e.isInvisible||(r=document.createElement("div"),n.appendChild(r),n=r),e.widgetId=e.getAssertedRecaptcha().render(n,e.parameters);case 6:return t.abrupt("return",e.widgetId);case 7:case"end":return t.stop()}},t)}))()}},{key:"init",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return k(S()&&!tr(),e.auth,"internal-error"),t.next=3,function(){var e=null;return new Promise(function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()}).catch(function(t){throw e&&window.removeEventListener("load",e),t})}();case 3:return t.next=5,e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);case 5:return e.recaptcha=t.sent,t.next=8,function(e){return vr.apply(this,arguments)}(e.auth);case 8:k(n=t.sent,e.auth,"internal-error"),e.parameters.sitekey=n;case 10:case"end":return t.stop()}},t)}))()}},{key:"getAssertedRecaptcha",value:function(){return k(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}(),Ir=function(){function e(t,n){_classCallCheck(this,e),this.verificationId=t,this.onConfirmation=n}return _createClass(e,[{key:"confirm",value:function(e){var t=ct._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ar(e,t,n){return Or.apply(this,arguments)}function Or(){return(Or=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ie(t),e.next=3,Nr(a,n,(0,i.m9)(r));case 3:return o=e.sent,e.abrupt("return",new Ir(o,function(e){return jt(a,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Dr(e,t,n){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,i.m9)(t),e.next=3,Pt(!1,a,"phone");case 3:return e.next=5,Nr(a.auth,n,(0,i.m9)(r));case 5:return o=e.sent,e.abrupt("return",new Ir(o,function(e){return Bt(a,e)}));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Pr(e,t,n){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,i.m9)(t),e.next=3,Nr(a.auth,n,(0,i.m9)(r));case 3:return o=e.sent,e.abrupt("return",new Ir(o,function(e){return zt(a,e)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nr(e,t,n){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,u,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,k("string"==typeof a,t,"argument-error"),k(r.type===Er,t,"argument-error"),!("session"in(o="string"==typeof n?{phoneNumber:n}:n))){e.next=17;break}if(s=o.session,!("phoneNumber"in o)){e.next=11;break}return k("enroll"===s.type,t,"internal-error"),e.next=10,zn(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 10:return e.abrupt("return",e.sent.phoneSessionInfo.sessionInfo);case 11:return k("signin"===s.type,t,"internal-error"),k(u=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=16,pr(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:u,phoneSignInInfo:{recaptchaToken:a}});case 16:return e.abrupt("return",e.sent.phoneResponseInfo.sessionInfo);case 17:return e.next=19,rt(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 19:return c=e.sent,l=c.sessionInfo,e.abrupt("return",l);case 22:return e.prev=22,r._reset(),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[3,,22,25]])}))).apply(this,arguments)}function Lr(e,t){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt((0,i.m9)(t),n);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var jr=function(){var e=function(){function e(t){_classCallCheck(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ie(t)}return _createClass(e,[{key:"verifyPhoneNumber",value:function(e,t){return Nr(this.auth,e,(0,i.m9)(t))}}],[{key:"credential",value:function(e,t){return ct._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){return e.credentialFromTaggedObject(t)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ct._fromTokenResponse(n,r):null}}]),e}();return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e}();function Vr(e,t){return t?x(t):(k(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Br=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,"custom","custom")).params=e,r}return _createClass(n,[{key:"_getIdTokenResponse",value:function(e){return et(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return et(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return et(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Pe);function qr(e){return Lt(e.auth,new Br(e),e.bypassAuthState)}function zr(e){var t=e.auth,n=e.user;return k(n,t,"internal-error"),Nt(n,new Br(e),e.bypassAuthState)}function Hr(e){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,r.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,r=t.user,e.abrupt("return",(k(r,n,"internal-error"),Dt(r,new Br(t),t.bypassAuthState)));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Kr=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return _createClass(e,[{key:"execute",value:function(){var e,t=this;return new Promise((e=(0,r.Z)(regeneratorRuntime.mark(function e(n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.pendingPromise={resolve:n,reject:r},e.prev=1,e.next=4,t.resolver._initialize(t.auth);case 4:return t.eventManager=e.sent,e.next=7,t.onExecution();case 7:t.eventManager.registerConsumer(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.reject(e.t0);case 13:case"end":return e.stop()}},e,null,[[1,10]])})),function(t,n){return e.apply(this,arguments)}))}},{key:"onAuthEvent",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r,i,a,o,s,u,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.urlResponse,i=e.sessionId,a=e.postBody,o=e.tenantId,s=e.error,u=e.type,!s){n.next=3;break}return n.abrupt("return",void t.reject(s));case 3:return c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:t.user,bypassAuthState:t.bypassAuthState},n.prev=4,n.t0=t,n.next=8,t.getIdpTask(u)(c);case 8:n.t1=n.sent,n.t0.resolve.call(n.t0,n.t1),n.next=15;break;case 12:n.prev=12,n.t2=n.catch(4),t.reject(n.t2);case 15:case"end":return n.stop()}},n,null,[[4,12]])}))()}},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qr;case"linkViaPopup":case"linkViaRedirect":return Hr;case"reauthViaPopup":case"reauthViaRedirect":return zr;default:v(this.auth,"internal-error")}}},{key:"resolve",value:function(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){C(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Gr=new I(2e3,1e4);function Wr(e,t,n){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ie(t),m(t,n,ft),a=Vr(i,r),e.abrupt("return",new ei(i,"signInViaPopup",n,a).executeNotNull());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Yr(e,t,n){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m((a=(0,i.m9)(t)).auth,n,ft),o=Vr(a.auth,r),e.abrupt("return",new ei(a.auth,"reauthViaPopup",n,o,a).executeNotNull());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function $r(e,t,n){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m((a=(0,i.m9)(t)).auth,n,ft),o=Vr(a.auth,r),e.abrupt("return",new ei(a.auth,"linkViaPopup",n,o,a).executeNotNull());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ei=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=_assertThisInitialized(s),s}return _createClass(n,[{key:"executeNotNull",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.execute();case 2:return n=t.sent,t.abrupt("return",(k(n,e.auth,"internal-error"),n));case 4:case"end":return t.stop()}},t)}))()}},{key:"onExecution",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return C(1===e.filter.length,"Popup operations only handle one event"),n=$n(),t.next=4,e.resolver._openPopup(e.auth,e.provider,e.filter[0],n);case 4:e.authWindow=t.sent,e.authWindow.associatedEvent=n,e.resolver._originValidation(e.auth).catch(function(t){e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,function(t){t||e.reject(g(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation();case 9:case"end":return t.stop()}},t)}))()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(g(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;e.pollId=(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?window.setTimeout(function(){e.pollId=null,e.reject(g(e.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,Gr.get())}()}}]),n}(Kr);return e.currentPopupAction=null,e}(),ti=new Map,ni=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _classCallCheck(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return _createClass(n,[{key:"execute",value:function(){var e=this,t=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){var i,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(i=ti.get(t.auth._key())){r.next=20;break}return r.prev=2,r.next=5,function(e,t){return ri.apply(this,arguments)}(t.resolver,t.auth);case 5:if(!r.sent){r.next=11;break}return r.next=8,_get2(_getPrototypeOf(n.prototype),"execute",e).call(t);case 8:r.t0=r.sent,r.next=12;break;case 11:r.t0=null;case 12:a=r.t0,i=function(){return Promise.resolve(a)},r.next=19;break;case 16:r.prev=16,r.t1=r.catch(2),i=function(){return Promise.reject(r.t1)};case 19:ti.set(t.auth._key(),i);case 20:return r.abrupt("return",(t.bypassAuthState||ti.set(t.auth._key(),function(){return Promise.resolve(null)}),i()));case 21:case"end":return r.stop()}},r,null,[[2,16]])}))()}},{key:"onAuthEvent",value:function(e){var t=this,i=function(){return _get2(_getPrototypeOf(n.prototype),"onAuthEvent",t)},a=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("signInViaRedirect"!==e.type){t.next=2;break}return t.abrupt("return",i().call(a,e));case 2:if("unknown"===e.type){t.next=12;break}if(!e.eventId){t.next=10;break}return t.next=6,a.auth._redirectUserForId(e.eventId);case 6:if(!(n=t.sent)){t.next=9;break}return t.abrupt("return",(a.user=n,i().call(a,e)));case 9:a.resolve(null);case 10:t.next=13;break;case 12:a.resolve(null);case 13:case"end":return t.stop()}},t)}))()}},{key:"onExecution",value:function(){return(0,r.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()}},{key:"cleanUp",value:function(){}}]),n}(Kr);function ri(){return(ri=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=ui(n),i=si(t),e.next=3,i._isAvailable();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,i._get(r);case 7:return e.t0=e.sent,a="true"===e.t0,e.next=11,i._remove(r);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return(ai=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",si(t)._set(ui(n),"true"));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oi(){ti.clear()}function si(e){return x(e._redirectPersistence)}function ui(e){return de("pendingRedirect",e.config.apiKey,e.name)}function ci(e,t,n){return function(e,t,n){return li.apply(this,arguments)}(e,t,n)}function li(){return(li=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ie(t),m(t,n,ft),a=Vr(i,r),e.next=5,ii(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hi(e,t,n){return function(e,t,n){return fi.apply(this,arguments)}(e,t,n)}function fi(){return(fi=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m((a=(0,i.m9)(t)).auth,n,ft),o=Vr(a.auth,r),e.next=5,ii(o,a.auth);case 5:return e.next=7,_i(a);case 7:return s=e.sent,e.abrupt("return",o._openRedirect(a.auth,n,"reauthViaRedirect",s));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function di(e,t,n){return function(e,t,n){return pi.apply(this,arguments)}(e,t,n)}function pi(){return(pi=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m((a=(0,i.m9)(t)).auth,n,ft),o=Vr(a.auth,r),e.next=5,Pt(!1,a,n.providerId);case 5:return e.next=7,ii(o,a.auth);case 7:return e.next=9,_i(a);case 9:return s=e.sent,e.abrupt("return",o._openRedirect(a.auth,n,"linkViaRedirect",s));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vi(e,t){return gi.apply(this,arguments)}function gi(){return(gi=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(t)._initializationPromise;case 2:return e.abrupt("return",yi(t,n,!1));case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function yi(e,t){return mi.apply(this,arguments)}function mi(){return(mi=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ie(t),a=Vr(i,n),e.next=5,new ni(i,a,r).execute();case 5:if(o=e.sent,e.t0=o&&!r,!e.t0){e.next=13;break}return delete o.user._redirectEventId,e.next=11,i._persistUserIfCurrent(o.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _i(e){return ki.apply(this,arguments)}function ki(){return(ki=(0,r.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=$n("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var bi=function(){function e(t){_classCallCheck(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return _createClass(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach(function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!wi(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ci(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ci(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ci(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(function(e){return e}).join("-")}function wi(e){var t=e.type,n=e.error;return"unknown"===t&&"auth/no-auth-event"===(null==n?void 0:n.code)}function xi(e){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,r.Z)(regeneratorRuntime.mark(function e(t){var n,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",F(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Si=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ti=/^https?/;function Ii(){return(Ii=(0,r.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,xi(t);case 4:n=e.sent,r=n.authorizedDomains,i=_createForOfIteratorHelper(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ai(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:v(t,"unauthorized-domain");case 29:case"end":return e.stop()}},e,null,[[7,22,25,28],[11,16]])}))).apply(this,arguments)}function Ai(e){var t=E(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ti.test(r))return!1;if(Si.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Oi=new I(3e4,6e4);function Di(){var e=er().___jsl;if(null==e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=_toConsumableArray(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ri=null;function Pi(e){return Ri=Ri||function(e){return new Promise(function(t,n){var r,i,a;function o(){Di(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Di(),n(g(e,"network-request-failed"))},timeout:Oi.get()})}if(null===(i=null===(r=er().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=er().gapi)||void 0===a?void 0:a.load)){var s=yr("iframefcb");return er()[s]=function(){gapi.load?o():n(g(e,"network-request-failed"))},gr("https://apis.google.com/js/api.js?onload=".concat(s))}o()}}).catch(function(e){throw Ri=null,e})}(e)}var Fi=new I(5e3,15e3),Ni={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true"},Mi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Li(e){var t=e.config;k(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?A(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:a.SDK_VERSION},o=Mi.get(e.config.apiHost);o&&(r.eid=o);var s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat((0,i.xO)(r).slice(1))}function Ui(){return(Ui=(0,r.Z)(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(t);case 2:return n=e.sent,i=er().gapi,e.abrupt("return",(k(i,t,"internal-error"),n.open({where:document.body,url:Li(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ni,dontclear:!0},function(e){return new Promise((n=(0,r.Z)(regeneratorRuntime.mark(function n(r,i){var a,o,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){er().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=g(t,"network-request-failed"),o=er().setTimeout(function(){i(a)},Fi.get()),e.ping(s).then(s,function(){i(a)});case 5:case"end":return n.stop()}},n)})),function(e,t){return n.apply(this,arguments)}));var n})));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ji={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vi=function(){function e(t){_classCallCheck(this,e),this.window=t,this.associatedEvent=null}return _createClass(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Bi(e,t,n,r,o,s){k(e.config.authDomain,e,"auth-domain-config-required"),k(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:a.SDK_VERSION,eventId:o};if(t instanceof ft){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",(0,i.xb)(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var c=0,l=Object.entries(s||{});c<l.length;c++){var h=_slicedToArray(l[c],2),f=h[0],d=h[1];u[f]=d}}if(t instanceof dt){var p=t.getScopes().filter(function(e){return""!==e});p.length>0&&(u.scopes=p.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var v=u,g=0,y=Object.keys(v);g<y.length;g++){var m=y[g];void 0===v[m]&&delete v[m]}return"".concat(function(e){var t=e.config;return t.emulator?A(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/__/auth/handler")}(e),"?").concat((0,i.xO)(v).slice(1))}var qi,zi="webStorageSupport",Hi=function(){function e(){_classCallCheck(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yn,this._completeRedirectFn=yi}return _createClass(e,[{key:"_openPopup",value:function(e,t,n,a){var o=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){var s,u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return C(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()"),u=Bi(e,t,n,E(),a),r.abrupt("return",function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},ji),{width:r.toString(),height:a.toString(),top:o,left:s}),l=(0,i.z$)().toLowerCase();n&&(u=me(l)?"_blank":n),ge(l)&&(t=t||"http://localhost",c.scrollbars="yes");var h=Object.entries(c).reduce(function(e,t){var n=_slicedToArray(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")},"");if(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.z$)();return we(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new Vi(null);var f=window.open(t||"",u,h);k(f,e,"popup-blocked");try{f.focus()}catch(d){}return new Vi(f)}(e,u,$n()));case 3:case"end":return r.stop()}},r)}))()}},{key:"_openRedirect",value:function(e,t,n,i){var a=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a._originValidation(e);case 2:return o=Bi(e,t,n,E(),i),er().location.href=o,r.abrupt("return",new Promise(function(){}));case 5:case"end":return r.stop()}},r)}))()}},{key:"_initialize",value:function(e){var t=e._key();if(this.eventManagers[t]){var n=this.eventManagers[t],r=n.manager,i=n.promise;return r?Promise.resolve(r):(C(i,"If manager is not set, promise should be"),i)}var a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a}},{key:"initAndGetManager",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,function(e){return Ui.apply(this,arguments)}(e);case 2:return r=n.sent,i=new bi(e),n.abrupt("return",(r.register("authEvent",function(t){return k(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:i.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i));case 5:case"end":return n.stop()}},n)}))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(zi,{type:zi},function(n){var r,i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[zi];void 0!==i&&t(!!i),v(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ii.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ee()||ye()||we()}}]),e}(),Zi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,"phone")).credential=e,r}return _createClass(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return F(e,"POST","/v2/accounts/mfaEnrollment:finalize",P(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return F(e,"POST","/v2/accounts/mfaSignIn:finalize",P(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){_classCallCheck(this,e),this.factorId=t}return _createClass(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return b("unexpected MultiFactorSessionType")}}}]),e}()),Ki=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"assertion",value:function(e){return Zi._fromCredential(e)}}]),e}();return e.FACTOR_ID="phone",e}(),Gi="@firebase/auth",Wi=function(){function e(t){_classCallCheck(this,e),this.auth=t,this.internalListeners=new Map}return _createClass(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.assertAuthConfigured(),n.next=3,t.auth._initializationPromise;case 3:if(!t.auth.currentUser){n.next=10;break}return n.next=6,t.auth.currentUser.getIdToken(e);case 6:n.t1=n.sent,n.t0={accessToken:n.t1},n.next=11;break;case 10:n.t0=null;case 11:return n.abrupt("return",n.t0);case 12:case"end":return n.stop()}},n)}))()}},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged(function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Qi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.getApp)(),t=(0,a._getProvider)(e,"auth");return t.isInitialized()?t.getImmediate():function(e,t){var n=(0,a._getProvider)(e,"auth");if(n.isInitialized()){var r=n.getImmediate(),o=n.getOptions();if((0,i.vZ)(o,null!=t?t:{}))return r;v(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Hi,persistence:[dr,Qn,Yn]})}qi="Browser",(0,a._registerComponent)(new u.wA("auth",function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){k(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),k(!(null==o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:qi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Se(qi)},r=new Te(e,t);return function(e,t){var n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(x);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(r,n),r}(r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(e,t,n){e.getProvider("auth-internal").initialize()})),(0,a._registerComponent)(new u.wA("auth-internal",function(e){var t=Ie(e.getProvider("auth").getImmediate());return new Wi(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,a.registerVersion)(Gi,"0.19.0",void 0),(0,a.registerVersion)(Gi,"0.19.0","esm2017")},6034:function(e,t,n){"use strict";n.d(t,{wA:function(){return a},H0:function(){return c}});var r=n(4762),i=n(3854),a=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(a){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),a=i.next();!a.done;a=i.next()){var s=(0,r.CR)(a.value,2),u=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,a=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:o,options:a});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(s)}}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,a=this.onInitCallbacks.get(t);if(a)try{for(var o=(0,r.XA)(a),s=o.next();!s.done;s=o.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:u(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();function u(e){return e===o?void 0:e}var c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},1304:function(e,t,n){"use strict";n.d(t,{u7:function(){return up},Jj:function(){return id},IX:function(){return qf},my:function(){return Df},xU:function(){return Ld},Lz:function(){return rd},WA:function(){return Dr},F8:function(){return od},$q:function(){return Ud},W:function(){return jd},EK:function(){return Zr},PU:function(){return hp},l7:function(){return _f},Ky:function(){return di},Xb:function(){return Xr},Cf:function(){return Sf},K9:function(){return Ir},Me:function(){return ti},yq:function(){return xr},Wi:function(){return Cf},ET:function(){return wp},Ab:function(){return Pp},vr:function(){return Rp},Fc:function(){return Yf},hJ:function(){return Ff},B$:function(){return Nf},at:function(){return Of},oe:function(){return Cp},AK:function(){return Op},TF:function(){return Xf},JU:function(){return Mf},ST:function(){return Gf},fH:function(){return Wf},Ix:function(){return $f},Wu:function(){return rp},Lx:function(){return np},qY:function(){return Zf},GL:function(){return Sp},QT:function(){return dp},kl:function(){return vp},Xk:function(){return gp},PL:function(){return yp},UQ:function(){return mp},zN:function(){return _p},ad:function(){return Hf},nP:function(){return Fp},b9:function(){return Yd},vh:function(){return Jd},Pb:function(){return ed},L$:function(){return td},cf:function(){return xp},sc:function(){return Ep},Xo:function(){return Wd},IO:function(){return Hd},iE:function(){return Uf},Eo:function(){return Lf},i3:function(){return Ap},Bt:function(){return Dp},pl:function(){return kp},Ub:function(){return br},qK:function(){return Bd},TQ:function(){return ep},e0:function(){return Xd},r7:function(){return bp},Mx:function(){return Jf},ar:function(){return Kd}});var r,i=n(8239),a=n(5452),o=n(6034),s=n(5601),u=n(3854),c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l={},h=h||{},f=c||self;function d(){}function p(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function m(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function k(e,t,n){return(k=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:_).apply(null,arguments)}function b(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function C(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function w(){this.s=this.s,this.o=this.o}var x={};w.prototype.s=!1,w.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++y)}(this);delete x[e]}},w.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var E=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},S=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function T(e){return Array.prototype.concat.apply([],arguments)}function I(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e){return/^[\s\xa0]*$/.test(e)}var O,D=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function R(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var F=f.navigator;if(F){var N=F.userAgent;if(N){O=N;break e}}O=""}function M(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function L(e){var t={};for(var n in e)t[n]=e[n];return t}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<U.length;a++)n=U[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function V(e){return V[" "](e),e}V[" "]=d;var B,q,z=R(O,"Opera"),H=R(O,"Trident")||R(O,"MSIE"),Z=R(O,"Edge"),K=Z||H,G=R(O,"Gecko")&&!(R(O.toLowerCase(),"webkit")&&!R(O,"Edge"))&&!(R(O,"Trident")||R(O,"MSIE"))&&!R(O,"Edge"),W=R(O.toLowerCase(),"webkit")&&!R(O,"Edge");function Q(){var e=f.document;return e?e.documentMode:void 0}e:{var Y="",J=(q=O,G?/rv:([^\);]+)(\)|;)/.exec(q):Z?/Edge\/([\d\.]+)/.exec(q):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):W?/WebKit\/(\S+)/.exec(q):z?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(J&&(Y=J?J[1]:""),H){var $=Q();if(null!=$&&$>parseFloat(Y)){B=String($);break e}}B=Y}var X={};var ee=f.document&&H&&(Q()||parseInt(B,10))||void 0,te=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{f.addEventListener("test",d,t),f.removeEventListener("test",d,t)}catch(n){}return e}();function ne(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function re(e,t){if(ne.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(G){e:{try{V(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ie[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&re.Z.h.call(this)}}ne.prototype.h=function(){this.defaultPrevented=!0},C(re,ne);var ie={2:"touch",3:"pen",4:"mouse"};re.prototype.h=function(){re.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ae="closure_listenable_"+(1e6*Math.random()|0),oe=0;function se(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++oe,this.ca=this.fa=!1}function ue(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ce(e){this.src=e,this.g={},this.h=0}function le(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=E(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(ue(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function he(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}ce.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=he(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new se(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var fe="closure_lm_"+(1e6*Math.random()|0),de={};function pe(e,t,n,r,i){if(r&&r.once)return ge(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)pe(e,t[a],n,r,i);return null}return n=we(n),e&&e[ae]?e.N(t,n,v(r)?!!r.capture:!!r,i):ve(e,t,n,!1,r,i)}function ve(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=v(i)?!!i.capture:!!i,s=be(e);if(s||(e[fe]=s=new ce(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){var e=ke;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)te||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_e(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ge(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ge(e,t[a],n,r,i);return null}return n=we(n),e&&e[ae]?e.O(t,n,v(r)?!!r.capture:!!r,i):ve(e,t,n,!0,r,i)}function ye(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)ye(e,t[a],n,r,i);else r=v(r)?!!r.capture:!!r,n=we(n),e&&e[ae]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=he(a=e.g[t],n,r,i))&&(ue(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--))):e&&(e=be(e))&&(t=e.g[t.toString()],e=-1,t&&(e=he(t,n,r,i)),(n=-1<e?t[e]:null)&&me(n))}function me(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ae])le(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_e(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=be(t))?(le(n,e),0==n.h&&(n.src=null,t[fe]=null)):ue(e)}}}function _e(e){return e in de?de[e]:de[e]="on"+e}function ke(e,t){if(e.ca)e=!0;else{t=new re(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&me(e),e=n.call(r,t)}return e}function be(e){return(e=e[fe])instanceof ce?e:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(e){return"function"==typeof e?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function xe(){w.call(this),this.i=new ce(this),this.P=this,this.I=null}function Ee(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new ne(t,e);else if(t instanceof ne)t.target=t.target||e;else{var i=t;j(t=new ne(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Se(o,r,!0,t)&&i}if(i=Se(o=t.g=e,r,!0,t)&&i,i=Se(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Se(o=t.g=n[a],r,!1,t)&&i}function Se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&le(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}C(xe,w),xe.prototype[ae]=!0,xe.prototype.removeEventListener=function(e,t,n,r){ye(this,e,t,n,r)},xe.prototype.M=function(){if(xe.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ue(n[r]);delete t.g[e],t.h--}}this.I=null},xe.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},xe.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Te=f.JSON.stringify;function Ie(){var e=Ne,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ae,Oe=new(function(){function e(t,n){_classCallCheck(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return _createClass(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())(function(){return new De},function(e){return e.reset()}),De=function(){function e(){_classCallCheck(this,e),this.next=this.g=this.h=null}return _createClass(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Re(e){f.setTimeout(function(){throw e},0)}function Pe(e,t){Ae||function(){var e=f.Promise.resolve(void 0);Ae=function(){e.then(Me)}}(),Fe||(Ae(),Fe=!0),Ne.add(e,t)}var Fe=!1,Ne=new(function(){function e(){_classCallCheck(this,e),this.h=this.g=null}return _createClass(e,[{key:"add",value:function(e,t){var n=Oe.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}());function Me(){for(var e;e=Ie();){try{e.h.call(e.g)}catch(n){Re(n)}var t=Oe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fe=!1}function Le(e,t){xe.call(this),this.h=e||1,this.g=t||f,this.j=k(this.kb,this),this.l=Date.now()}function Ue(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function je(e,t,n){if("function"==typeof e)n&&(e=k(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=k(e.handleEvent,e)}return 2147483647<Number(t)?-1:f.setTimeout(e,t||0)}function Ve(e){e.g=je(function(){e.g=null,e.i&&(e.i=!1,Ve(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}C(Le,xe),(r=Le.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ee(this,"tick"),this.da&&(Ue(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Le.Z.M.call(this),Ue(this),delete this.g};var Be=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return _createClass(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ve(this)}},{key:"M",value:function(){_get2(_getPrototypeOf(n.prototype),"M",this).call(this),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(w);function qe(e){w.call(this),this.h=e,this.g={}}C(qe,w);var ze=[];function He(e,t,n,r){Array.isArray(n)||(n&&(ze[0]=n.toString()),n=ze);for(var i=0;i<n.length;i++){var a=pe(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ze(e){M(e.g,function(e,t){this.g.hasOwnProperty(t)&&me(e)},e),e.g={}}function Ke(){this.g=!0}function Ge(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Te(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}qe.prototype.M=function(){qe.Z.M.call(this),Ze(this)},qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ke.prototype.Aa=function(){this.g=!1},Ke.prototype.info=function(){};var We={},Qe=null;function Ye(){return Qe=Qe||new xe}function Je(e){ne.call(this,We.Ma,e)}function $e(e){var t=Ye();Ee(t,new Je(t,e))}function Xe(e,t){ne.call(this,We.STAT_EVENT,e),this.stat=t}function et(e){var t=Ye();Ee(t,new Xe(t,e))}function tt(e,t){ne.call(this,We.Na,e),this.size=t}function nt(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){e()},t)}We.Ma="serverreachability",C(Je,ne),We.STAT_EVENT="statevent",C(Xe,ne),We.Na="timingevent",C(tt,ne);var rt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},it={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function at(){}function ot(){}at.prototype.h=null;var st,ut={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ct(){ne.call(this,"d")}function lt(){ne.call(this,"c")}function ht(){}function ft(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new qe(this),this.P=pt,this.W=new Le(e=K?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}C(ct,ne),C(lt,ne),C(ht,at),ht.prototype.g=function(){return new XMLHttpRequest},ht.prototype.i=function(){return{}},st=new ht;var pt=45e3,vt={},gt={};function yt(e,t,n){e.K=1,e.v=Vt(Ft(t)),e.s=n,e.U=!0,mt(e,null)}function mt(e,t){e.F=Date.now(),Ct(e),e.A=Ft(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Xt(n.h,"t",r),e.C=0,n=e.l.H,e.h=new dt,e.g=er(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Be(k(e.Ia,e,e.g),e.O)),He(e.V,e.g,"readystatechange",e.gb),t=e.H?L(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),$e(1),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function _t(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function kt(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=bt(e,n))==gt){4==t&&(e.o=4,et(14),i=!1),Ge(e.j,e.m,null,"[Incomplete Response]");break}if(r==vt){e.o=4,et(15),Ge(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ge(e.j,e.m,r,null),Tt(e,r)}_t(e)&&r!=gt&&r!=vt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,et(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kn(t),t.L=!0,et(11))):(Ge(e.j,e.m,n,"[Invalid Chunked Response]"),St(e),Et(e))}function bt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?gt:(n=Number(t.substring(n,r)),isNaN(n)?vt:(r+=1)+n>t.length?gt:(t=t.substr(r,n),e.C=r+n,t))}function Ct(e){e.Y=Date.now()+e.P,wt(e,e.P)}function wt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=nt(k(e.eb,e),t)}function xt(e){e.B&&(f.clearTimeout(e.B),e.B=null)}function Et(e){0==e.l.G||e.I||Qn(e.l,e)}function St(e){xt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ue(e.W),Ze(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Tt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||on(n.i,e)))if(n.I=e.N,!e.J&&on(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=nt(k(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<e.F))break e;Wn(n),Ln(n)}Zn(n),et(18)}if(1>=an(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Jn(n,11)}else if((e.J||n.g==e)&&Wn(n),!A(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(R(l,"spdy")||R(l,"quic")||R(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(sn(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,jt(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Xn(r,r.H?r.la:null,r.W),d.J){un(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(xt(p),Ct(p)),r.g=d}else Hn(r);0<n.l.length&&Vn(n)}else"stop"!=a[0]&&"close"!=a[0]||Jn(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Jn(n,7):Mn(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}$e(4)}catch(a){}}function It(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"==typeof e)S(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(p(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function At(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof At)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ot(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Dt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Dt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Dt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=ft.prototype).setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;var t=this.L;t&&3==Dn(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{var t=Dn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||K||this.g&&(this.h.h||this.g.ga()||Rn(this.g)))){this.I||4!=t||7==n||$e(8==n||0>=r?3:2),xt(this);var i=this.g.ba();this.N=i;t:if(_t(this)){var a=Rn(this.g);e="";var o=a.length,s=4==Dn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){St(this),Et(this);var u="";break t}this.h.i=new f.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,et(12),St(this),Et(this);break e}Ge(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tt(this,i)}this.U?(kt(this,t,u),K&&this.i&&3==t&&(He(this.V,this.W,"tick",this.fb),this.W.start())):(Ge(this.j,this.m,u,null),Tt(this,u)),4==t&&St(this),this.i&&!this.I&&(4==t?Qn(this.l,this):(this.i=!1,Ct(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,et(12)):(this.o=0,et(13)),St(this),Et(this)}}}catch(t){}},r.fb=function(){if(this.g){var e=Dn(this.g),t=this.g.ga();this.C<t.length&&(xt(this),kt(this,e,t),this.i&&4!=e&&Ct(this))}},r.cancel=function(){this.I=!0,St(this)},r.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&($e(3),et(17)),St(this),this.o=2,Et(this)):wt(this,this.Y-e)},(r=At.prototype).R=function(){Ot(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return Ot(this),this.g.concat()},r.get=function(e,t){return Dt(this.h,e)?this.h[e]:t},r.set=function(e,t){Dt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Rt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Pt){this.g=void 0!==t?t:e.g,Nt(this,e.j),this.s=e.s,Mt(this,e.i),Lt(this,e.m),this.l=e.l,t=e.h;var n=new Qt;n.i=t.i,t.g&&(n.g=new At(t.g),n.h=t.h),Ut(this,n),this.o=e.o}else e&&(n=String(e).match(Rt))?(this.g=!!t,Nt(this,n[1]||"",!0),this.s=Bt(n[2]||""),Mt(this,n[3]||"",!0),Lt(this,n[4]),this.l=Bt(n[5]||"",!0),Ut(this,n[6]||"",!0),this.o=Bt(n[7]||"")):(this.g=!!t,this.h=new Qt(null,this.g))}function Ft(e){return new Pt(e)}function Nt(e,t,n){e.j=n?Bt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Mt(e,t,n){e.i=n?Bt(t,!0):t}function Lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ut(e,t,n){t instanceof Qt?(e.h=t,function(e,t){t&&!e.j&&(Yt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Jt(this,t),Xt(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=qt(t,Gt)),e.h=new Qt(t,e.g))}function jt(e,t,n){e.h.set(t,n)}function Vt(e){return jt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Bt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function qt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,zt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(qt(t,Ht,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(qt(t,Ht,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(qt(n,"/"==n.charAt(0)?Kt:Zt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",qt(n,Wt)),e.join("")};var Ht=/[#\/\?@]/g,Zt=/[#\?:]/g,Kt=/[#\?]/g,Gt=/[#\?@]/g,Wt=/#/g;function Qt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yt(e){e.g||(e.g=new At,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Jt(e,t){Yt(e),t=en(e,t),Dt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Dt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ot(e)))}function $t(e,t){return Yt(e),t=en(e,t),Dt(e.g.h,t)}function Xt(e,t,n){Jt(e,t),0<n.length&&(e.i=null,e.g.set(en(e,t),I(n)),e.h+=n.length)}function en(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tn(e){this.l=e||nn,e=f.PerformanceNavigationTiming?0<(e=f.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(f.g&&f.g.Ea&&f.g.Ea()&&f.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(r=Qt.prototype).add=function(e,t){Yt(this),this.i=null,e=en(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){Yt(this),this.g.forEach(function(n,r){S(n,function(n){e.call(t,n,r,this)},this)},this)},r.T=function(){Yt(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},r.R=function(e){Yt(this);var t=[];if("string"==typeof e)$t(this,e)&&(t=T(t,this.g.get(en(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=T(t,e[n])}return t},r.set=function(e,t){return Yt(this),this.i=null,$t(this,e=en(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var nn=10;function rn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function an(e){return e.h?1:e.g?e.g.size:0}function on(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function sn(e,t){e.g?e.g.add(t):e.h=t}function un(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function cn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=_createForOfIteratorHelper(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return I(e.i)}function ln(){}function hn(){this.g=new ln}function fn(e,t,n){var r=n||"";try{It(e,function(e,n){var i=e;v(e)&&(i=Te(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function dn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function pn(e){this.l=e.$b||null,this.j=e.ib||!1}function vn(e,t){xe.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=gn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tn.prototype.cancel=function(){if(this.i=cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=_createForOfIteratorHelper(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ln.prototype.stringify=function(e){return f.JSON.stringify(e,void 0)},ln.prototype.parse=function(e){return f.JSON.parse(e,void 0)},C(pn,at),pn.prototype.g=function(){return new vn(this.l,this.j)},pn.prototype.i=function(e){return function(){return e}}({}),C(vn,xe);var gn=0;function yn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function mn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_n(e)}function _n(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=vn.prototype).open=function(e,t){if(this.readyState!=gn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_n(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||f).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mn(this)),this.readyState=gn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_n(this)),this.g&&(this.readyState=3,_n(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==f.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mn(this):_n(this),3==this.readyState&&yn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,mn(this))},r.Ta=function(e){this.g&&(this.response=e,mn(this))},r.ha=function(){this.g&&mn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var kn=f.JSON.parse;function bn(e){xe.call(this),this.headers=new At,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cn,this.K=this.L=!1}C(bn,xe);var Cn="",wn=/^https?$/i,xn=["POST","PUT"];function En(e){return"content-type"==e.toLowerCase()}function Sn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Tn(e),An(e)}function Tn(e){e.D||(e.D=!0,Ee(e,"complete"),Ee(e,"error"))}function In(e){if(e.h&&void 0!==h&&(!e.C[1]||4!=Dn(e)||2!=e.ba()))if(e.v&&4==Dn(e))je(e.Fa,0,e);else if(Ee(e,"readystatechange"),4==Dn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Rt)[1]||null;if(!a&&f.self&&f.self.location){var o=f.self.location.protocol;a=o.substr(0,o.length-1)}i=!wn.test(a?a.toLowerCase():"")}t=i}if(t)Ee(e,"complete"),Ee(e,"success");else{e.m=6;try{var s=2<Dn(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Tn(e)}}finally{An(e)}}}function An(e,t){if(e.g){On(e);var n=e.g,r=e.C[0]?d:null;e.g=null,e.C=null,t||Ee(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function On(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(f.clearTimeout(e.A),e.A=null)}function Dn(e){return e.g?e.g.readyState:0}function Rn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Cn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Pn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return M(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):jt(e,t,n))}function Fn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Nn(e){this.za=0,this.l=[],this.h=new Ke,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fn("baseRetryDelayMs",5e3,e),this.$a=Fn("retryDelaySeedMs",1e4,e),this.Ya=Fn("forwardChannelMaxRetries",2,e),this.ra=Fn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new tn(e&&e.concurrentRequestLimit),this.Ca=new hn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Mn(e){if(Un(e),3==e.G){var t=e.V++,n=Ft(e.F);jt(n,"SID",e.J),jt(n,"RID",t),jt(n,"TYPE","terminate"),qn(e,n),(t=new ft(e,e.h,t,void 0)).K=2,t.v=Vt(Ft(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(t.v.toString(),"")),!n&&f.Image&&((new Image).src=t.v,n=!0),n||(t.g=er(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ct(t)}$n(e)}function Ln(e){e.g&&(Kn(e),e.g.cancel(),e.g=null)}function Un(e){Ln(e),e.u&&(f.clearTimeout(e.u),e.u=null),Wn(e),e.i.cancel(),e.m&&("number"==typeof e.m&&f.clearTimeout(e.m),e.m=null)}function jn(e,t){e.l.push(new(function(){return function e(t,n){_classCallCheck(this,e),this.h=t,this.g=n}}())(e.Za++,t)),3==e.G&&Vn(e)}function Vn(e){rn(e.i)||e.m||(e.m=!0,Pe(e.Ha,e),e.C=0)}function Bn(e,t){var n;n=t?t.m:e.V++;var r=Ft(e.F);jt(r,"SID",e.J),jt(r,"RID",n),jt(r,"AID",e.U),qn(e,r),e.o&&e.s&&Pn(r,e.o,e.s),n=new ft(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=zn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),sn(e.i,n),yt(n,r,t)}function qn(e,t){e.j&&It({},function(e,n){jt(t,n,e)})}function zn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?k(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{fn(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Hn(e){e.g||e.u||(e.Y=1,Pe(e.Ga,e),e.A=0)}function Zn(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=nt(k(e.Ga,e),Yn(e,e.A)),e.A++,0))}function Kn(e){null!=e.B&&(f.clearTimeout(e.B),e.B=null)}function Gn(e){e.g=new ft(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ft(e.oa);jt(t,"RID","rpc"),jt(t,"SID",e.J),jt(t,"CI",e.N?"0":"1"),jt(t,"AID",e.U),qn(e,t),jt(t,"TYPE","xmlhttp"),e.o&&e.s&&Pn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Vt(Ft(t)),n.s=null,n.U=!0,mt(n,e)}function Wn(e){null!=e.v&&(f.clearTimeout(e.v),e.v=null)}function Qn(e,t){var n=null;if(e.g==t){Wn(e),Kn(e),e.g=null;var r=2}else{if(!on(e.i,t))return;n=t.D,un(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ee(r=Ye(),new tt(r,n,t,i)),Vn(e)}else Hn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(an(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=nt(k(e.Ha,e,t),Yn(e,e.C)),e.C++,0)))}(e,t)||2==r&&Zn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Jn(e,5);break;case 4:Jn(e,10);break;case 3:Jn(e,6);break;default:Jn(e,2)}}function Yn(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Jn(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=k(e.jb,e);n||(n=new Pt("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||Nt(n,"https"),Vt(n)),function(e,t){var n=new Ke;if(f.Image){var r=new Image;r.onload=b(dn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=b(dn,n,r,"TestLoadImage: error",!1,t),r.onabort=b(dn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=b(dn,n,r,"TestLoadImage: timeout",!1,t),f.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else et(2);e.G=0,e.j&&e.j.va(t),$n(e),Un(e)}function $n(e){e.G=0,e.I=-1,e.j&&((0!=cn(e.i).length||0!=e.l.length)&&(e.i.i.length=0,I(e.l),e.l.length=0),e.j.ua())}function Xn(e,t,n){var r=function(e){return e instanceof Pt?Ft(e):new Pt(e,void 0)}(n);if(""!=r.i)t&&Mt(r,t+"."+r.i),Lt(r,r.m);else{var i=f.location;r=function(e,t,n,r){var i=new Pt(null,void 0);return e&&Nt(i,e),t&&Mt(i,t),n&&Lt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&M(e.aa,function(e,t){jt(r,t,e)}),n=e.sa,(t=e.D)&&n&&jt(r,t,n),jt(r,"VER",e.ma),qn(e,r),r}function er(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new bn(n&&e.Ba&&!e.qa?new pn({ib:!0}):e.qa)).L=e.H,t}function tr(){}function nr(){if(H&&!(10<=Number(ee)))throw Error("Environmental error: no available transport.")}function rr(e,t){xe.call(this),this.g=new Nn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!A(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new or(this)}function ir(e){ct.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ar(){lt.call(this),this.status=1}function or(e){this.g=e}(r=bn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():st.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:st),this.g.onreadystatechange=k(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Sn(this,a)}e=n||"";var i=new At(this.headers);r&&It(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=En,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=f.FormData&&e instanceof f.FormData,!(0<=E(xn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{On(this),0<this.B&&((this.K=function(e){return H&&function(){return e=X,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var e=0,t=D(String(B)).split("."),n=D("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=P(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||P(0==a[2].length,0==o[2].length)||P(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=k(this.pa,this)):this.A=je(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Sn(this,a)}},r.pa=function(){void 0!==h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ee(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ee(this,"complete"),Ee(this,"abort"),An(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),An(this,!0)),bn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?In(this):this.cb())},r.cb=function(){In(this)},r.ba=function(){try{return 2<Dn(this)?this.g.status:-1}catch(q){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(q){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),kn(t)}},r.Da=function(){return this.m},r.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(r=Nn.prototype).ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ft(this,this.h,e,void 0),n=this.s;if(this.P&&(n?j(n=L(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=zn(this,t,r),jt(i=Ft(this.F),"RID",e),jt(i,"CVER",22),this.D&&jt(i,"X-HTTP-Session-Id",this.D),qn(this,i),this.o&&n&&Pn(i,this.o,n),sn(this.i,t),this.Ra&&jt(i,"TYPE","init"),this.ja?(jt(i,"$req",r),jt(i,"SID","null"),t.$=!0,yt(t,i,null)):yt(t,i,r),this.G=2}}else 3==this.G&&(e?Bn(this,e):0==this.l.length||rn(this.i)||Bn(this))},r.Ga=function(){if(this.u=null,Gn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=nt(k(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,et(10),Ln(this),Gn(this))},r.ab=function(){null!=this.v&&(this.v=null,Ln(this),Zn(this),et(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),et(2)):(this.h.info("Failed to ping google.com"),et(1))},(r=tr.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},nr.prototype.g=function(e,t){return new rr(e,t)},C(rr,xe),rr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Pe(k(e.hb,e,t))),et(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Xn(e,null,e.W),Vn(e)},rr.prototype.close=function(){Mn(this.g)},rr.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,jn(this.g,t)}else this.v?((t={}).__data__=Te(e),jn(this.g,t)):jn(this.g,e)},rr.prototype.M=function(){this.g.j=null,delete this.j,Mn(this.g),delete this.g,rr.Z.M.call(this)},C(ir,ct),C(ar,lt),C(or,tr),or.prototype.xa=function(){Ee(this.g,"a")},or.prototype.wa=function(e){Ee(this.g,new ir(e))},or.prototype.va=function(e){Ee(this.g,new ar(e))},or.prototype.ua=function(){Ee(this.g,"b")},nr.prototype.createWebChannel=nr.prototype.g,rr.prototype.send=rr.prototype.u,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,it.COMPLETE="complete",ot.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",xe.prototype.listen=xe.prototype.N,bn.prototype.listenOnce=bn.prototype.O,bn.prototype.getLastError=bn.prototype.La,bn.prototype.getLastErrorCode=bn.prototype.Da,bn.prototype.getStatus=bn.prototype.ba,bn.prototype.getResponseJson=bn.prototype.Qa,bn.prototype.getResponseText=bn.prototype.ga,bn.prototype.send=bn.prototype.ea;var sr=l.createWebChannelTransport=function(){return new nr},ur=l.getStatEventTarget=function(){return Ye()},cr=l.ErrorCode=rt,lr=l.EventType=it,hr=l.Event=We,fr=l.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},dr=l.FetchXmlHttpFactory=pn,pr=l.WebChannel=ot,vr=l.XhrIo=bn,gr="@firebase/firestore",yr=function(){function e(t){_classCallCheck(this,e),this.uid=t}return _createClass(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");var mr="9.2.0",_r=new s.Yd("@firebase/firestore");function kr(){return _r.logLevel}function br(e){_r.setLogLevel(e)}function Cr(e){if(_r.logLevel<=s.in.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Er);_r.debug.apply(_r,["Firestore (".concat(mr,"): ").concat(e)].concat(_toConsumableArray(i)))}}function wr(e){if(_r.logLevel<=s.in.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Er);_r.error.apply(_r,["Firestore (".concat(mr,"): ").concat(e)].concat(_toConsumableArray(i)))}}function xr(e){if(_r.logLevel<=s.in.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Er);_r.warn.apply(_r,["Firestore (".concat(mr,"): ").concat(e)].concat(_toConsumableArray(i)))}}function Er(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(mr,") INTERNAL ASSERTION FAILED: ")+e;throw wr(t),new Error(t)}function Tr(e,t){e||Sr()}function Ir(e,t){e||Sr()}function Ar(e,t){return e}var Or={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Dr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return n}(_wrapNativeSuper(Error)),Rr=function e(){var t=this;_classCallCheck(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Pr=function e(t,n){_classCallCheck(this,e),this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer ".concat(t)},Fr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(yr.UNAUTHENTICATED)})}},{key:"shutdown",value:function(){}}]),e}(),Nr=function(){function e(t){_classCallCheck(this,e),this.token=t,this.changeListener=null}return _createClass(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Mr=function(){function e(t){_classCallCheck(this,e),this.t=t,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return _createClass(e,[{key:"start",value:function(e,t){var n=this,r=this,a=this.i,o=function(e){return n.i!==a?(a=n.i,t(e)):Promise.resolve()},s=new Rr;this.o=function(){n.i++,n.currentUser=n.u(),s.resolve(),s=new Rr,e.enqueueRetryable(function(){return o(n.currentUser)})};var u=function(){var t=s;e.enqueueRetryable((0,i.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,o(r.currentUser);case 4:case"end":return e.stop()}},e)})))},c=function(e){Cr("FirebaseCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),u()};this.t.onInit(function(e){return c(e)}),setTimeout(function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?c(e):(Cr("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rr)}},0),u()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.i!==t?(Cr("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Tr("string"==typeof n.accessToken),new Pr(n.accessToken,e.currentUser)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Tr(null===e||"string"==typeof e),new yr(e)}}]),e}(),Lr=function(){function e(t,n,r){_classCallCheck(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=yr.FIRST_PARTY}return _createClass(e,[{key:"authHeaders",get:function(){var e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}]),e}(),Ur=function(){function e(t,n,r){_classCallCheck(this,e),this.h=t,this.l=n,this.m=r}return _createClass(e,[{key:"getToken",value:function(){return Promise.resolve(new Lr(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(yr.FIRST_PARTY)})}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),jr=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.g(e)},this.p=function(e){return n.writeSequenceNumber(e)})}return _createClass(e,[{key:"g",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.p&&this.p(e),e}}]),e}();function Vr(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}jr.T=-1;var Br=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Vr(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function qr(e,t){return e<t?-1:e>t?1:0}function zr(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}function Hr(e){return e+"\0"}var Zr=function(){function e(t,n){if(_classCallCheck(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Dr(Or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Dr(Or.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Dr(Or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Dr(Or.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return _createClass(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?qr(this.nanoseconds,e.nanoseconds):qr(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Kr=function(){function e(t){_classCallCheck(this,e),this.timestamp=t}return _createClass(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Zr(0,0))}}]),e}();function Gr(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Yr=function(){function e(t,n,r){_classCallCheck(this,e),void 0===n?n=0:n>t.length&&Sr(),void 0===r?r=t.length-n:r>t.length-n&&Sr(),this.segments=t,this.offset=n,this.len=r}return _createClass(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Jr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Dr(Or.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,_toConsumableArray(s.split("/").filter(function(e){return e.length>0})))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Yr),$r=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xr=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return $r.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Dr(Or.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Dr(Or.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Dr(Or.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Dr(Or.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Yr),ei=function(){function e(t){_classCallCheck(this,e),this.fields=t,t.sort(Xr.comparator)}return _createClass(e,[{key:"covers",value:function(e){var t,n=_createForOfIteratorHelper(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return zr(this.fields,e.fields,function(e,t){return e.isEqual(t)})}}]),e}();function ti(){return"undefined"!=typeof atob}var ni=function(){function e(t){_classCallCheck(this,e),this.binaryString=t}return _createClass(e,[{key:"toBase64",value:function(){return btoa(this.binaryString)}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return qr(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();ni.EMPTY_BYTE_STRING=new ni("");var ri=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(e){if(Tr(!!e),"string"==typeof e){var t=0,n=ri.exec(e);if(Tr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ai(e.seconds),nanos:ai(e.nanos)}}function ai(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function oi(e){return"string"==typeof e?ni.fromBase64String(e):ni.fromUint8Array(e)}function si(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ui(e){var t=e.mapValue.fields.__previous_value__;return si(t)?ui(t):t}function ci(e){var t=ii(e.mapValue.fields.__local_write_time__.timestampValue);return new Zr(t.seconds,t.nanos)}function li(e){return null==e}function hi(e){return 0===e&&1/e==-1/0}function fi(e){return"number"==typeof e&&Number.isInteger(e)&&!hi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var di=function(){function e(t){_classCallCheck(this,e),this.path=t}return _createClass(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===Jr.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Jr.fromString(t))}},{key:"fromName",value:function(t){return new e(Jr.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return Jr.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Jr(t.slice()))}}]),e}();function pi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?si(e)?4:10:Sr()}function vi(e,t){var n,r=pi(e);if(r!==pi(t))return!1;switch(r){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ci(e).isEqual(ci(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ii(e.timestampValue),r=ii(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return n=t,oi(e.bytesValue).isEqual(oi(n.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ai(e.geoPointValue.latitude)===ai(t.geoPointValue.latitude)&&ai(e.geoPointValue.longitude)===ai(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ai(e.integerValue)===ai(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ai(e.doubleValue),r=ai(t.doubleValue);return n===r?hi(n)===hi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return zr(e.arrayValue.values||[],t.arrayValue.values||[],vi);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Gr(n)!==Gr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vi(n[i],r[i])))return!1;return!0}(e,t);default:return Sr()}}function gi(e,t){return void 0!==(e.values||[]).find(function(e){return vi(e,t)})}function yi(e,t){var n,r,i,a,o=pi(e),s=pi(t);if(o!==s)return qr(o,s);switch(o){case 0:return 0;case 1:return qr(e.booleanValue,t.booleanValue);case 2:return r=t,i=ai((n=e).integerValue||n.doubleValue),a=ai(r.integerValue||r.doubleValue),i<a?-1:i>a?1:i===a?0:isNaN(i)?isNaN(a)?0:-1:1;case 3:return mi(e.timestampValue,t.timestampValue);case 4:return mi(ci(e),ci(t));case 5:return qr(e.stringValue,t.stringValue);case 6:return function(e,t){var n=oi(e),r=oi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=qr(n[i],r[i]);if(0!==a)return a}return qr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=qr(ai(e.latitude),ai(t.latitude));return 0!==n?n:qr(ai(e.longitude),ai(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=yi(n[i],r[i]);if(a)return a}return qr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=qr(r[o],a[o]);if(0!==s)return s;var u=yi(n[r[o]],i[a[o]]);if(0!==u)return u}return qr(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Sr()}}function mi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qr(e,t);var n=ii(e),r=ii(t),i=qr(n.seconds,r.seconds);return 0!==i?i:qr(n.nanos,r.nanos)}function _i(e){return ki(e)}function ki(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(t=e.timestampValue,n=ii(t),"time(".concat(n.seconds,",").concat(n.nanos,")")):"stringValue"in e?e.stringValue:"bytesValue"in e?oi(e.bytesValue).toBase64():"referenceValue"in e?di.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo(".concat((r=e.geoPointValue).latitude,",").concat(r.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=_createForOfIteratorHelper(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ki(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=_createForOfIteratorHelper(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ki(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Sr();var t,n,r}function bi(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ci(e){return!!e&&"integerValue"in e}function wi(e){return!!e&&"arrayValue"in e}function xi(e){return!!e&&"nullValue"in e}function Ei(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Si(e){return!!e&&"mapValue"in e}function Ti(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Wr(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=Ti(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ti(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Ii=function(){function e(t){_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Si(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ti(t)}},{key:"setAll",value:function(e){var t=this,n=Xr.emptyPath(),r={},i=[];e.forEach(function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ti(e):i.push(a.lastSegment())});var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Si(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return vi(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Si(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Wr(t,function(t,n){return e[t]=n});var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ti(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ai(e){var t=[];return Wr(e.fields,function(e,n){var r=new Xr([e]);if(Si(n)){var i=Ai(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=_createForOfIteratorHelper(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)}),new ei(t)}var Oi=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return _createClass(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Kr.min(),Ii.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ii.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ii.empty(),2)}}]),e}(),Di=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;_classCallCheck(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.A=null};function Ri(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Di(e,t,n,r,i,a,o)}function Pi(e){var t=Ar(e);if(null===t.A){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return function(e){return e.field.canonicalString()+e.op.toString()+_i(e.value)}(e)}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return(t=e).field.canonicalString()+t.dir;var t}).join(","),li(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ki(t.startAt)),t.endAt&&(n+="|ub:",n+=Ki(t.endAt)),t.A=n}return t.A}function Fi(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Wi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if((i=e.filters[r]).op!==(a=t.filters[r]).op||!i.field.isEqual(a.field)||!vi(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Yi(e.startAt,t.startAt)&&Yi(e.endAt,t.endAt)}function Ni(e){return di.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Mi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return _createClass(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(yi(t,this.value)):null!==t&&pi(this.value)===pi(t)&&this.P(yi(t,this.value))}},{key:"P",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Sr()}}},{key:"v",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new Li(e,t,r):"array-contains"===t?new Bi(e,r):"in"===t?new qi(e,r):"not-in"===t?new zi(e,r):"array-contains-any"===t?new Hi(e,r):new n(e,t,r)}},{key:"R",value:function(e,t,n){return"in"===t?new Ui(e,n):new ji(e,n)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Li=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,r,i)).key=di.fromName(i.referenceValue),a}return _createClass(n,[{key:"matches",value:function(e){var t=di.comparator(e.key,this.key);return this.P(t)}}]),n}(Mi),Ui=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,"in",r)).keys=Vi(0,r),i}return _createClass(n,[{key:"matches",value:function(e){return this.keys.some(function(t){return t.isEqual(e.key)})}}]),n}(Mi),ji=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,"not-in",r)).keys=Vi(0,r),i}return _createClass(n,[{key:"matches",value:function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})}}]),n}(Mi);function Vi(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return di.fromName(e.referenceValue)})}var Bi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this,e,"array-contains",r)}return _createClass(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return wi(t)&&gi(t.arrayValue,this.value)}}]),n}(Mi),qi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this,e,"in",r)}return _createClass(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&gi(this.value.arrayValue,t)}}]),n}(Mi),zi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this,e,"not-in",r)}return _createClass(n,[{key:"matches",value:function(e){if(gi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!gi(this.value.arrayValue,t)}}]),n}(Mi),Hi=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this,e,"array-contains-any",r)}return _createClass(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!wi(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return gi(t.value.arrayValue,e)})}}]),n}(Mi),Zi=function e(t,n){_classCallCheck(this,e),this.position=t,this.before=n};function Ki(e){return"".concat(e.before?"b":"a",":").concat(e.position.map(function(e){return _i(e)}).join(","))}var Gi=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";_classCallCheck(this,e),this.field=t,this.dir=n};function Wi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Qi(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?di.comparator(di.fromName(o.referenceValue),n.key):yi(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Yi(e,t){if(null===e)return null===t;if(null===t||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!vi(e.position[n],t.position[n]))return!1;return!0}var Ji=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;_classCallCheck(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.V=null,this.S=null};function $i(e,t,n,r,i,a,o,s){return new Ji(e,t,n,r,i,a,o,s)}function Xi(e){return new Ji(e)}function ea(e){return!li(e.limit)&&"F"===e.limitType}function ta(e){return!li(e.limit)&&"L"===e.limitType}function na(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ra(e){var t,n=_createForOfIteratorHelper(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.v())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function ia(e){return null!==e.collectionGroup}function aa(e){var t=Ar(e);if(null===t.V){t.V=[];var n=ra(t),r=na(t);if(null!==n&&null===r)n.isKeyField()||t.V.push(new Gi(n)),t.V.push(new Gi(Xr.keyField(),"asc"));else{var i,a=!1,o=_createForOfIteratorHelper(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.V.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Gi(Xr.keyField(),u))}}}return t.V}function oa(e){var t=Ar(e);if(!t.S)if("F"===t.limitType)t.S=Ri(t.path,t.collectionGroup,aa(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=_createForOfIteratorHelper(aa(t));try{for(i.s();!(n=i.n()).done;){var a=n.value;r.push(new Gi(a.field,"desc"===a.dir?"asc":"desc"))}}catch(u){i.e(u)}finally{i.f()}var o=t.endAt?new Zi(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Zi(t.startAt.position,!t.startAt.before):null;t.S=Ri(t.path,t.collectionGroup,r,t.filters,t.limit,o,s)}return t.S}function sa(e,t,n){return new Ji(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ua(e,t){return Fi(oa(e),oa(t))&&e.limitType===t.limitType}function ca(e){return"".concat(Pi(oa(e)),"|lt:").concat(e.limitType)}function la(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(_i(t.value));var t}).join(", "),"]")),li(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(function(e){return"".concat((t=e).field.canonicalString()," (").concat(t.dir,")");var t}).join(", "),"]")),e.startAt&&(t+=", startAt: "+Ki(e.startAt)),e.endAt&&(t+=", endAt: "+Ki(e.endAt)),"Target(".concat(t,")")}(oa(e)),"; limitType=").concat(e.limitType,")")}function ha(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):di.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=_createForOfIteratorHelper(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=_createForOfIteratorHelper(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&(r=t,!((n=e).startAt&&!Qi(n.startAt,aa(n),r)||n.endAt&&Qi(n.endAt,aa(n),r)));var n,r}function fa(e){return function(t,n){var r,i=!1,a=_createForOfIteratorHelper(aa(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=da(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function da(e,t,n){var r,i,a,o,s=e.field.isKeyField()?di.comparator(t.key,n.key):(r=e.field,i=n,a=t.data.field(r),o=i.data.field(r),null!==a&&null!==o?yi(a,o):Sr());switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Sr()}}function pa(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hi(t)?"-0":t}}function va(e){return{integerValue:""+e}}function ga(e,t){return fi(t)?va(t):pa(e,t)}var ya=function e(){_classCallCheck(this,e),this._=void 0};function ma(e,t,n){return e instanceof ba?(i=t,a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(r=n).seconds,nanos:r.nanoseconds}}}},i&&(a.fields.__previous_value__=i),{mapValue:a}):e instanceof Ca?wa(e,t):e instanceof xa?Ea(e,t):function(e,t){var n=ka(e,t),r=Ta(n)+Ta(e.C);return Ci(n)&&Ci(e.C)?va(r):pa(e.N,r)}(e,t);var r,i,a}function _a(e,t,n){return e instanceof Ca?wa(e,t):e instanceof xa?Ea(e,t):n}function ka(e,t){return e instanceof Sa?Ci(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}var ba=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(ya),Ca=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).elements=e,r}return n}(ya);function wa(e,t){var n,r=Ia(t),i=_createForOfIteratorHelper(e.elements);try{var a=function(){var e=n.value;r.some(function(t){return vi(t,e)})||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var xa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).elements=e,r}return n}(ya);function Ea(e,t){var n,r=Ia(t),i=_createForOfIteratorHelper(e.elements);try{var a=function(){var e=n.value;r=r.filter(function(t){return!vi(t,e)})};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Sa=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).N=e,i.C=r,i}return n}(ya);function Ta(e){return ai(e.integerValue||e.doubleValue)}function Ia(e){return wi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Aa=function e(t,n){_classCallCheck(this,e),this.field=t,this.transform=n},Oa=function e(t,n){_classCallCheck(this,e),this.version=t,this.transformResults=n},Da=function(){function e(t,n){_classCallCheck(this,e),this.updateTime=t,this.exists=n}return _createClass(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ra(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Pa=function e(){_classCallCheck(this,e)};function Fa(e,t,n){var r,i,a,o,s;e instanceof ja?(i=t,a=n,o=(r=e).value.clone(),s=qa(r.fieldTransforms,i,a.transformResults),o.setAll(s),i.convertToFoundDocument(a.version,o).setHasCommittedMutations()):e instanceof Va?function(e,t,n){if(Ra(e.precondition,t)){var r=qa(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ba(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}function Na(e,t,n){var r;e instanceof ja?function(e,t,n){if(Ra(e.precondition,t)){var r=e.value.clone(),i=za(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ua(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Va?function(e,t,n){if(Ra(e.precondition,t)){var r=za(e.fieldTransforms,n,t),i=t.data;i.setAll(Ba(e)),i.setAll(r),t.convertToFoundDocument(Ua(t),i).setHasLocalMutations()}}(e,t,n):Ra(e.precondition,r=t)&&r.convertToNoDocument(Kr.min())}function Ma(e,t){var n,r=null,i=_createForOfIteratorHelper(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=ka(a.transform,o||null);null!=s&&(null==r&&(r=Ii.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function La(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(n=e.fieldTransforms)&&void 0===r||n&&r&&zr(n,r,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&(r=t.transform,(n=e.transform)instanceof Ca&&r instanceof Ca||n instanceof xa&&r instanceof xa?zr(n.elements,r.elements,vi):n instanceof Sa&&r instanceof Sa?vi(n.C,r.C):n instanceof ba&&r instanceof ba);var n,r}(e,t)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function Ua(e){return e.isFoundDocument()?e.version:Kr.min()}var ja=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return _classCallCheck(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return n}(Pa),Va=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return _classCallCheck(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return n}(Pa);function Ba(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function qa(e,t,n){var r=new Map;Tr(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,_a(o,s,n[i]))}return r}function za(e,t,n){var r,i=new Map,a=_createForOfIteratorHelper(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,ma(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ha,Za,Ka=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return n}(Pa),Ga=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return n}(Pa),Wa=function e(t){_classCallCheck(this,e),this.count=t};function Qa(e){switch(e){default:return Sr();case Or.CANCELLED:case Or.UNKNOWN:case Or.DEADLINE_EXCEEDED:case Or.RESOURCE_EXHAUSTED:case Or.INTERNAL:case Or.UNAVAILABLE:case Or.UNAUTHENTICATED:return!1;case Or.INVALID_ARGUMENT:case Or.NOT_FOUND:case Or.ALREADY_EXISTS:case Or.PERMISSION_DENIED:case Or.FAILED_PRECONDITION:case Or.ABORTED:case Or.OUT_OF_RANGE:case Or.UNIMPLEMENTED:case Or.DATA_LOSS:return!0}}function Ya(e){if(void 0===e)return wr("GRPC error has no .code"),Or.UNKNOWN;switch(e){case Ha.OK:return Or.OK;case Ha.CANCELLED:return Or.CANCELLED;case Ha.UNKNOWN:return Or.UNKNOWN;case Ha.DEADLINE_EXCEEDED:return Or.DEADLINE_EXCEEDED;case Ha.RESOURCE_EXHAUSTED:return Or.RESOURCE_EXHAUSTED;case Ha.INTERNAL:return Or.INTERNAL;case Ha.UNAVAILABLE:return Or.UNAVAILABLE;case Ha.UNAUTHENTICATED:return Or.UNAUTHENTICATED;case Ha.INVALID_ARGUMENT:return Or.INVALID_ARGUMENT;case Ha.NOT_FOUND:return Or.NOT_FOUND;case Ha.ALREADY_EXISTS:return Or.ALREADY_EXISTS;case Ha.PERMISSION_DENIED:return Or.PERMISSION_DENIED;case Ha.FAILED_PRECONDITION:return Or.FAILED_PRECONDITION;case Ha.ABORTED:return Or.ABORTED;case Ha.OUT_OF_RANGE:return Or.OUT_OF_RANGE;case Ha.UNIMPLEMENTED:return Or.UNIMPLEMENTED;case Ha.DATA_LOSS:return Or.DATA_LOSS;default:return Sr()}}(Za=Ha||(Ha={}))[Za.OK=0]="OK",Za[Za.CANCELLED=1]="CANCELLED",Za[Za.UNKNOWN=2]="UNKNOWN",Za[Za.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Za[Za.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Za[Za.NOT_FOUND=5]="NOT_FOUND",Za[Za.ALREADY_EXISTS=6]="ALREADY_EXISTS",Za[Za.PERMISSION_DENIED=7]="PERMISSION_DENIED",Za[Za.UNAUTHENTICATED=16]="UNAUTHENTICATED",Za[Za.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Za[Za.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Za[Za.ABORTED=10]="ABORTED",Za[Za.OUT_OF_RANGE=11]="OUT_OF_RANGE",Za[Za.UNIMPLEMENTED=12]="UNIMPLEMENTED",Za[Za.INTERNAL=13]="INTERNAL",Za[Za.UNAVAILABLE=14]="UNAVAILABLE",Za[Za.DATA_LOSS=15]="DATA_LOSS";var Ja=function(){function e(t,n){_classCallCheck(this,e),this.comparator=t,this.root=n||Xa.EMPTY}return _createClass(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xa.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xa.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})}},{key:"toString",value:function(){var e=[];return this.inorderTraversal(function(t,n){return e.push("".concat(t,":").concat(n)),!1}),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new $a(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new $a(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new $a(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new $a(this.root,e,this.comparator,!0)}}]),e}(),$a=function(){function e(t,n,r,i){_classCallCheck(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return _createClass(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Xa=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return _createClass(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Sr();var e=this.left.check();if(e!==this.right.check())throw Sr();return e+(this.isRed()?0:1)}}]),e}();Xa.EMPTY=null,Xa.RED=!0,Xa.BLACK=!1,Xa.EMPTY=new(function(){function e(){_classCallCheck(this,e),this.size=0}return _createClass(e,[{key:"key",get:function(){throw Sr()}},{key:"value",get:function(){throw Sr()}},{key:"color",get:function(){throw Sr()}},{key:"left",get:function(){throw Sr()}},{key:"right",get:function(){throw Sr()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Xa(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var eo=function(){function e(t){_classCallCheck(this,e),this.comparator=t,this.data=new Ja(this.comparator)}return _createClass(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new to(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new to(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t}},{key:"isEqual",value:function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),to=function(){function e(t){_classCallCheck(this,e),this.iter=t}return _createClass(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),no=new Ja(di.comparator);function ro(){return no}var io=new Ja(di.comparator);function ao(){return io}var oo=new Ja(di.comparator);function so(){return oo}var uo=new eo(di.comparator);function co(){for(var e=uo,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var lo=new eo(qr);function ho(){return lo}var fo=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return _createClass(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,po.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Kr.min(),r,ho(),ro(),co())}}]),e}(),po=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return _createClass(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ni.EMPTY_BYTE_STRING,n,co(),co(),co())}}]),e}(),vo=function e(t,n,r,i){_classCallCheck(this,e),this.k=t,this.removedTargetIds=n,this.key=r,this.$=i},go=function e(t,n){_classCallCheck(this,e),this.targetId=t,this.O=n},yo=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ni.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},mo=function(){function e(){_classCallCheck(this,e),this.F=0,this.M=bo(),this.L=ni.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}return _createClass(e,[{key:"current",get:function(){return this.B}},{key:"resumeToken",get:function(){return this.L}},{key:"q",get:function(){return 0!==this.F}},{key:"K",get:function(){return this.U}},{key:"j",value:function(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}},{key:"W",value:function(){var e=co(),t=co(),n=co();return this.M.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Sr()}}),new po(this.L,this.B,e,t,n)}},{key:"G",value:function(){this.U=!1,this.M=bo()}},{key:"H",value:function(e,t){this.U=!0,this.M=this.M.insert(e,t)}},{key:"J",value:function(e){this.U=!0,this.M=this.M.remove(e)}},{key:"Y",value:function(){this.F+=1}},{key:"X",value:function(){this.F-=1}},{key:"Z",value:function(){this.U=!0,this.B=!0}}]),e}(),_o=function(){function e(t){_classCallCheck(this,e),this.tt=t,this.et=new Map,this.nt=ro(),this.st=ko(),this.it=new eo(qr)}return _createClass(e,[{key:"rt",value:function(e){var t,n=_createForOfIteratorHelper(e.k);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ot(r,e.$):this.ct(r,e.key,e.$)}}catch(s){n.e(s)}finally{n.f()}var i,a=_createForOfIteratorHelper(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.$)}}catch(s){a.e(s)}finally{a.f()}}},{key:"at",value:function(e){var t=this;this.forEachTarget(e,function(n){var r=t.ut(n);switch(e.state){case 0:t.ht(n)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||t.removeTarget(n);break;case 3:t.ht(n)&&(r.Z(),r.j(e.resumeToken));break;case 4:t.ht(n)&&(t.lt(n),r.j(e.resumeToken));break;default:Sr()}})}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach(function(e,r){n.ht(r)&&t(r)})}},{key:"ft",value:function(e){var t=e.targetId,n=e.O.count,r=this.dt(t);if(r){var i=r.target;if(Ni(i))if(0===n){var a=new di(i.path);this.ct(t,a,Oi.newNoDocument(a,Kr.min()))}else Tr(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}},{key:"_t",value:function(e){var t=this,n=new Map;this.et.forEach(function(r,i){var a=t.dt(i);if(a){if(r.current&&Ni(a.target)){var o=new di(a.target.path);null!==t.nt.get(o)||t.gt(i,o)||t.ct(i,o,Oi.newNoDocument(o,e))}r.K&&(n.set(i,r.W()),r.G())}});var r=co();this.st.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.dt(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))});var i=new fo(e,n,this.it,this.nt,r);return this.nt=ro(),this.st=ko(),this.it=new eo(qr),i}},{key:"ot",value:function(e,t){if(this.ht(e)){var n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ht(e)){var r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.et.delete(e)}},{key:"wt",value:function(e){var t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Y",value:function(e){this.ut(e).Y()}},{key:"ut",value:function(e){var t=this.et.get(e);return t||(t=new mo,this.et.set(e,t)),t}},{key:"yt",value:function(e){var t=this.st.get(e);return t||(t=new eo(qr),this.st=this.st.insert(e,t)),t}},{key:"ht",value:function(e){var t=null!==this.dt(e);return t||Cr("WatchChangeAggregator","Detected inactive target",e),t}},{key:"dt",value:function(e){var t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}},{key:"lt",value:function(e){var t=this;this.et.set(e,new mo),this.tt.getRemoteKeysForTarget(e).forEach(function(n){t.ct(e,n,null)})}},{key:"gt",value:function(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ko(){return new Ja(di.comparator)}function bo(){return new Ja(di.comparator)}var Co={asc:"ASCENDING",desc:"DESCENDING"},wo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xo=function e(t,n){_classCallCheck(this,e),this.databaseId=t,this.D=n};function Eo(e,t){return e.D?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function So(e,t){return e.D?t.toBase64():t.toUint8Array()}function To(e,t){return Eo(e,t.toTimestamp())}function Io(e){return Tr(!!e),Kr.fromTimestamp((t=ii(e),new Zr(t.seconds,t.nanos)));var t}function Ao(e,t){return(n=e,new Jr(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function Oo(e){var t=Jr.fromString(e);return Tr(es(t)),t}function Do(e,t){return Ao(e.databaseId,t.path)}function Ro(e,t){var n=Oo(t);if(n.get(1)!==e.databaseId.projectId)throw new Dr(Or.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Dr(Or.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new di(Mo(n))}function Po(e,t){return Ao(e.databaseId,t)}function Fo(e){var t=Oo(e);return 4===t.length?Jr.emptyPath():Mo(t)}function No(e){return new Jr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Mo(e){return Tr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Lo(e,t,n){return{name:Do(e,t),fields:n.value.mapValue.fields}}function Uo(e,t,n){var r=Ro(e,t.name),i=Io(t.updateTime),a=new Ii({mapValue:{fields:t.fields}}),o=Oi.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function jo(e,t){var n,r;if(t instanceof ja)n={update:Lo(e,t.key,t.value)};else if(t instanceof Ka)n={delete:Do(e,t.key)};else if(t instanceof Va)n={update:Lo(e,t.key,t.data),updateMask:Xo(t.fieldMask)};else{if(!(t instanceof Ga))return Sr();n={verify:Do(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof ba)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ca)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof xa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sa)return{fieldPath:t.field.canonicalString(),increment:n.C};throw Sr()}(0,e)})),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:To(e,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Sr()),n}function Vo(e,t){var n,r=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?Da.updateTime(Io(n.updateTime)):void 0!==n.exists?Da.exists(n.exists):Da.none():Da.none(),i=t.updateTransforms?t.updateTransforms.map(function(t){return function(e,t){var n=null;"setToServerValue"in t?(Tr("REQUEST_TIME"===t.setToServerValue),n=new ba):"appendMissingElements"in t?n=new Ca(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new xa(t.removeAllFromArray.values||[]):"increment"in t?n=new Sa(e,t.increment):Sr();var r=Xr.fromServerFormat(t.fieldPath);return new Aa(r,n)}(e,t)}):[];if(t.update){var a=Ro(e,t.update.name),o=new Ii({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=new ei((t.updateMask.fieldPaths||[]).map(function(e){return Xr.fromServerFormat(e)}));return new Va(a,o,s,r,i)}return new ja(a,o,r,i)}if(t.delete){var u=Ro(e,t.delete);return new Ka(u,r)}if(t.verify){var c=Ro(e,t.verify);return new Ga(c,r)}return Sr()}function Bo(e,t){return{documents:[Po(e,t.path)]}}function qo(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Po(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Po(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(Ei(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NAN"}};if(xi(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ei(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NOT_NAN"}};if(xi(e.value))return{unaryFilter:{field:Qo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(e.field),op:Wo(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map(function(e){return{field:Qo((t=e).field),direction:Go(t.dir)};var t})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=(o=t.limit,e.D||li(o)?o:{value:o});return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=Zo(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Zo(t.endAt)),n}function zo(e){var t=Fo(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Tr(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ho(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(e){return new Gi(Yo((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));var u=null;n.limit&&(u=function(e){var t;return li(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Ko(n.startAt));var l=null;return n.endAt&&(l=Ko(n.endAt)),$i(t,i,s,o,u,"F",c,l)}function Ho(e){return e?void 0!==e.unaryFilter?[$o(e)]:void 0!==e.fieldFilter?[Jo(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return Ho(e)}).reduce(function(e,t){return e.concat(t)}):Sr():[]}function Zo(e){return{before:e.before,values:e.position}}function Ko(e){return new Zi(e.values||[],!!e.before)}function Go(e){return Co[e]}function Wo(e){return wo[e]}function Qo(e){return{fieldPath:e.canonicalString()}}function Yo(e){return Xr.fromServerFormat(e.fieldPath)}function Jo(e){return Mi.create(Yo(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Sr()}}(e.fieldFilter.op),e.fieldFilter.value)}function $o(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Yo(e.unaryFilter.field);return Mi.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Yo(e.unaryFilter.field);return Mi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Yo(e.unaryFilter.field);return Mi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Yo(e.unaryFilter.field);return Mi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Sr()}}function Xo(e){var t=[];return e.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function es(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ts(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=rs(t)),t=ns(e.get(n),t);return rs(t)}function ns(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function rs(e){return e+"\x01\x01"}function is(e){var t=e.length;if(Tr(t>=2),2===t)return Tr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Jr.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Sr(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Sr()}a=o+2}return new Jr(r)}var as=function e(t,n){_classCallCheck(this,e),this.seconds=t,this.nanoseconds=n},os=function e(t,n,r){_classCallCheck(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r};os.store="owner",os.key="owner";var ss=function e(t,n,r){_classCallCheck(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r};ss.store="mutationQueues",ss.keyPath="userId";var us=function e(t,n,r,i,a){_classCallCheck(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a};us.store="mutations",us.keyPath="batchId",us.userMutationsIndex="userMutationsIndex",us.userMutationsKeyPath=["userId","batchId"];var cs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,ts(t)]}},{key:"key",value:function(e,t,n){return[e,ts(t),n]}}]),e}();cs.store="documentMutations",cs.PLACEHOLDER=new cs;var ls=function e(t,n){_classCallCheck(this,e),this.path=t,this.readTime=n},hs=function e(t,n){_classCallCheck(this,e),this.path=t,this.version=n},fs=function e(t,n,r,i,a,o){_classCallCheck(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o};fs.store="remoteDocuments",fs.readTimeIndex="readTimeIndex",fs.readTimeIndexPath="readTime",fs.collectionReadTimeIndex="collectionReadTimeIndex",fs.collectionReadTimeIndexPath=["parentPath","readTime"];var ds=function e(t){_classCallCheck(this,e),this.byteSize=t};ds.store="remoteDocumentGlobal",ds.key="remoteDocumentGlobalKey";var ps=function e(t,n,r,i,a,o,s){_classCallCheck(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s};ps.store="targets",ps.keyPath="targetId",ps.queryTargetsIndexName="queryTargetsIndex",ps.queryTargetsKeyPath=["canonicalId","targetId"];var vs=function e(t,n,r){_classCallCheck(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r};vs.store="targetDocuments",vs.keyPath=["targetId","path"],vs.documentTargetsIndex="documentTargetsIndex",vs.documentTargetsKeyPath=["path","targetId"];var gs=function e(t,n,r,i){_classCallCheck(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i};gs.key="targetGlobalKey",gs.store="targetGlobal";var ys=function e(t,n){_classCallCheck(this,e),this.collectionId=t,this.parent=n};ys.store="collectionParents",ys.keyPath=["collectionId","parent"];var ms=function e(t,n,r,i){_classCallCheck(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i};ms.store="clientMetadata",ms.keyPath="clientId";var _s=function e(t,n,r){_classCallCheck(this,e),this.bundleId=t,this.createTime=n,this.version=r};_s.store="bundles",_s.keyPath="bundleId";var ks=function e(t,n,r){_classCallCheck(this,e),this.name=t,this.readTime=n,this.bundledQuery=r};ks.store="namedQueries",ks.keyPath="name";var bs=[ss.store,us.store,cs.store,fs.store,ps.store,os.store,gs.store,vs.store,ms.store,ds.store,ys.store,_s.store,ks.store],Cs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ws=function(){function e(){_classCallCheck(this,e),this.onCommittedListeners=[]}return _createClass(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach(function(e){return e()})}}]),e}(),xs=function(){function e(t){var n=this;_classCallCheck(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)},function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)})}return _createClass(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Sr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})}},{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.next(t,n)})}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(n){return e.reject(n)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)}}],[{key:"resolve",value:function(t){return new e(function(e,n){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"waitFor",value:function(t){return new e(function(e,n){var r=0,i=0,a=!1;t.forEach(function(t){++r,t.next(function(){++i,a&&i===r&&e()},function(e){return n(e)})}),a=!0,i===r&&e()})}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=_createForOfIteratorHelper(t);try{var a=function(){var t=n.value;r=r.next(function(n){return n?e.resolve(n):t()})};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)}}]),e}(),Es=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.Et=new Rr,this.transaction.oncomplete=function(){r.Et.resolve()},this.transaction.onabort=function(){n.error?r.Et.reject(new Is(t,n.error)):r.Et.resolve()},this.transaction.onerror=function(e){var n=Ps(e.target.error);r.Et.reject(new Is(t,n))}}return _createClass(e,[{key:"It",get:function(){return this.Et.promise}},{key:"abort",value:function(e){e&&this.Et.reject(e),this.aborted||(Cr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Os(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(a){throw new Is(n,a)}}}]),e}(),Ss=function(){function e(t,n,r){_classCallCheck(this,e),this.name=t,this.version=n,this.At=r,12.2===e.Rt((0,u.z$)())&&wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return _createClass(e,[{key:"Dt",value:function(e){var t=this;return(0,i.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=t.db,n.t0){n.next=6;break}return Cr("SimpleDb","Opening database:",t.name),n.next=5,new Promise(function(n,r){var i=indexedDB.open(t.name,t.version);i.onsuccess=function(e){n(e.target.result)},i.onblocked=function(){r(new Is(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;r("VersionError"===n.name?new Dr(Or.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new Dr(Or.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new Is(e,n))},i.onupgradeneeded=function(e){Cr("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.At.Ct(e.target.result,i.transaction,e.oldVersion,t.version).next(function(){Cr("SimpleDb","Database upgrade to version "+t.version+" complete")})}});case 5:t.db=n.sent;case 6:return t.Nt&&(t.db.onversionchange=function(e){return t.Nt(e)}),n.abrupt("return",t.db);case 8:case"end":return n.stop()}},n)}))()}},{key:"xt",value:function(e){this.Nt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(e,t,n,r){var a=this;return(0,i.Z)(regeneratorRuntime.mark(function i(){var o,s,u,c;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:o="readonly"===t,s=0;case 2:return++s,i.prev=3,i.delegateYield(regeneratorRuntime.mark(function t(){var i,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Dt(e);case 2:return a.db=t.sent,i=Es.open(a.db,e,o?"readonly":"readwrite",n),(s=r(i).catch(function(e){return i.abort(e),xs.reject(e)}).toPromise()).catch(function(){}),t.next=7,i.It;case 7:return t.t0=s,t.abrupt("return",{v:t.t0});case 9:case"end":return t.stop()}},t)})(),"t0",5);case 5:if("object"!=typeof(u=i.t0)){i.next=8;break}return i.abrupt("return",u.v);case 8:i.next=15;break;case 10:if(i.prev=10,i.t1=i.catch(3),c="FirebaseError"!==i.t1.name&&s<3,Cr("SimpleDb","Transaction failed with error:",i.t1.message,"Retrying:",c),a.close(),c){i.next=15;break}return i.abrupt("return",Promise.reject(i.t1));case 15:i.next=2;break;case 17:case"end":return i.stop()}},i,null,[[3,10]])}))()}},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Cr("SimpleDb","Removing database:",e),Ds(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!(0,u.hl)())return!1;if(e.Pt())return!0;var t=(0,u.z$)(),n=e.Rt(t),r=0<n&&n<10,i=e.vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"Pt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}},{key:"St",value:function(e,t){return e.store(t)}},{key:"Rt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Ts=function(){function e(t){_classCallCheck(this,e),this.kt=t,this.$t=!1,this.Ot=null}return _createClass(e,[{key:"isDone",get:function(){return this.$t}},{key:"Ft",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.kt=e}},{key:"done",value:function(){this.$t=!0}},{key:"Mt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return Ds(this.kt.delete())}}]),e}(),Is=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,Or.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return n}(Dr);function As(e){return"IndexedDbTransactionError"===e.name}var Os=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Cr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Cr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ds(n)}},{key:"add",value:function(e){return Cr("SimpleDb","ADD",this.store.name,e,e),Ds(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Ds(this.store.get(e)).next(function(n){return void 0===n&&(n=null),Cr("SimpleDb","GET",t.store.name,e,n),n})}},{key:"delete",value:function(e){return Cr("SimpleDb","DELETE",this.store.name,e),Ds(this.store.delete(e))}},{key:"count",value:function(){return Cr("SimpleDb","COUNT",this.store.name),Ds(this.store.count())}},{key:"Lt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,function(e,t){r.push(t)}).next(function(){return r})}},{key:"Ut",value:function(e,t){Cr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.qt=!1;var r=this.cursor(n);return this.Bt(r,function(e,t,n){return n.delete()})}},{key:"Kt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Bt(r,t)}},{key:"jt",value:function(e){var t=this.cursor({});return new xs(function(n,r){t.onerror=function(e){var t=Ps(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})}},{key:"Bt",value:function(e,t){var n=[];return new xs(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Ts(i),o=t(i.primaryKey,i.value,a);if(o instanceof xs){var s=o.catch(function(e){return a.done(),xs.reject(e)});n.push(s)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}}).next(function(){return xs.waitFor(n)})}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Ds(e){return new xs(function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){var t=Ps(e.target.error);n(t)}})}var Rs=!1;function Ps(e){var t=Ss.Rt((0,u.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Dr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Rs||(Rs=!0,setTimeout(function(){throw r},0)),r}}return e}var Fs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).Qt=e,i.currentSequenceNumber=r,i}return n}(ws);function Ns(e,t){var n=Ar(e);return Ss.St(n.Qt,t)}var Ms=function(){function e(t,n,r,i){_classCallCheck(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return _createClass(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Fa(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=_createForOfIteratorHelper(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Na(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=_createForOfIteratorHelper(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Na(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Kr.min())})}},{key:"keys",value:function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},co())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&zr(this.mutations,e.mutations,function(e,t){return La(e,t)})&&zr(this.baseMutations,e.baseMutations,function(e,t){return La(e,t)})}}]),e}(),Ls=function(){function e(t,n,r,i){_classCallCheck(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return _createClass(e,null,[{key:"from",value:function(t,n,r){Tr(t.mutations.length===r.length);for(var i=so(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Us=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kr.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kr.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ni.EMPTY_BYTE_STRING;_classCallCheck(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return _createClass(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),js=function e(t){_classCallCheck(this,e),this.Wt=t};function Vs(e,t){if(t.document)return Uo(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=di.fromSegments(t.noDocument.path),r=Zs(t.noDocument.readTime),i=Oi.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=di.fromSegments(t.unknownDocument.path),o=Zs(t.unknownDocument.version);return Oi.newUnknownDocument(a,o)}return Sr()}function Bs(e,t,n){var r,i,a=qs(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s={name:Do(r=e.Wt,(i=t).key),fields:i.data.value.mapValue.fields,updateTime:Eo(r,i.version.toTimestamp())};return new fs(null,null,s,t.hasCommittedMutations,a,o)}if(t.isNoDocument()){var u=t.key.path.toArray(),c=Hs(t.version),l=t.hasCommittedMutations;return new fs(null,new ls(u,c),null,l,a,o)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),f=Hs(t.version);return new fs(new hs(h,f),null,null,!0,a,o)}return Sr()}function qs(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zs(e){var t=new Zr(e[0],e[1]);return Kr.fromTimestamp(t)}function Hs(e){var t=e.toTimestamp();return new as(t.seconds,t.nanoseconds)}function Zs(e){var t=new Zr(e.seconds,e.nanoseconds);return Kr.fromTimestamp(t)}function Ks(e,t){for(var n=(t.baseMutations||[]).map(function(t){return Vo(e.Wt,t)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(i.updateTransforms=t.mutations[r+1].transform.fieldTransforms,t.mutations.splice(r+1,1),++r)}var a=t.mutations.map(function(t){return Vo(e.Wt,t)}),o=Zr.fromMillis(t.localWriteTimeMs);return new Ms(t.batchId,o,n,a)}function Gs(e){var t,n,r=Zs(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Zs(e.lastLimboFreeSnapshotVersion):Kr.min();return void 0!==e.query.documents?(Tr(1===(n=e.query).documents.length),t=oa(Xi(Fo(n.documents[0])))):t=oa(zo(e.query)),new Us(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ni.fromBase64String(e.resumeToken))}function Ws(e,t){var n,r=Hs(t.snapshotVersion),i=Hs(t.lastLimboFreeSnapshotVersion);n=Ni(t.target)?Bo(e.Wt,t.target):qo(e.Wt,t.target);var a=t.resumeToken.toBase64();return new ps(t.targetId,Pi(t.target),r,a,t.sequenceNumber,i,n)}function Qs(e){var t=zo({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?sa(t,t.limit,"L"):t}var Ys=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getBundleMetadata",value:function(e,t){return Js(e).get(t).next(function(e){if(e)return{id:(t=e).bundleId,createTime:Zs(t.createTime),version:t.version};var t})}},{key:"saveBundleMetadata",value:function(e,t){return Js(e).put({bundleId:(n=t).id,createTime:Hs(Io(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return $s(e).get(t).next(function(e){if(e)return{name:(t=e).name,query:Qs(t.bundledQuery),readTime:Zs(t.readTime)};var t})}},{key:"saveNamedQuery",value:function(e,t){return $s(e).put({name:(n=t).name,readTime:Hs(Io(n.readTime)),bundledQuery:n.bundledQuery});var n}}]),e}();function Js(e){return Ns(e,_s.store)}function $s(e){return Ns(e,ks.store)}var Xs=function(){function e(){_classCallCheck(this,e),this.Gt=new eu}return _createClass(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Gt.add(t),xs.resolve()}},{key:"getCollectionParents",value:function(e,t){return xs.resolve(this.Gt.getEntries(t))}}]),e}(),eu=function(){function e(){_classCallCheck(this,e),this.index={}}return _createClass(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new eo(Jr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new eo(Jr.comparator)).toArray()}}]),e}(),tu=function(){function e(){_classCallCheck(this,e),this.zt=new eu}return _createClass(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.zt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(function(){n.zt.add(t)});var a={collectionId:r,parent:ts(i)};return nu(e).put(a)}return xs.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Hr(t),""],!1,!0);return nu(e).Lt(r).next(function(e){var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(is(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n})}}]),e}();function nu(e){return Ns(e,ys.store)}var ru={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iu=function(){function e(t,n,r){_classCallCheck(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return _createClass(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function au(e,t,n){var r=e.store(us.store),i=e.store(cs.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Kt({range:o},function(e,t,n){return s++,n.delete()});a.push(u.next(function(){Tr(1===s)}));var c,l=[],h=_createForOfIteratorHelper(n.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value,d=cs.key(t,f.key.path,n.batchId);a.push(i.delete(d)),l.push(f.key)}}catch(p){h.e(p)}finally{h.f()}return xs.waitFor(a).next(function(){return l})}function ou(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Sr();t=e.noDocument}return JSON.stringify(t).length}iu.DEFAULT_COLLECTION_PERCENTILE=10,iu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,iu.DEFAULT=new iu(41943040,iu.DEFAULT_COLLECTION_PERCENTILE,iu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),iu.DISABLED=new iu(-1,0,0);var su=function(){function e(t,n,r,i){_classCallCheck(this,e),this.userId=t,this.N=n,this.Ht=r,this.referenceDelegate=i,this.Jt={}}return _createClass(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cu(e).Kt({index:us.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=lu(e),o=cu(e);return o.add({}).next(function(s){Tr("number"==typeof s);var u,c=new Ms(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map(function(t){return jo(e.Wt,t)}),i=n.mutations.map(function(t){return jo(e.Wt,t)});return new us(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.N,i.userId,c),h=[],f=new eo(function(e,t){return qr(e.canonicalString(),t.canonicalString())}),d=_createForOfIteratorHelper(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=cs.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),h.push(o.put(l)),h.push(a.put(v,cs.PLACEHOLDER))}}catch(g){d.e(g)}finally{d.f()}return f.forEach(function(t){h.push(i.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){i.Jt[s]=c.keys()}),xs.waitFor(h).next(function(){return c})})}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return cu(e).get(t).next(function(e){return e?(Tr(e.userId===n.userId),Ks(n.N,e)):null})}},{key:"Xt",value:function(e,t){var n=this;return this.Jt[t]?xs.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Jt[t]=r,r}return null})}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return cu(e).Kt({index:us.userMutationsIndex,range:i},function(e,t,i){t.userId===n.userId&&(Tr(t.batchId>=r),a=Ks(n.N,t)),i.done()}).next(function(){return a})}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return cu(e).Kt({index:us.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cu(e).Lt(us.userMutationsIndex,n).next(function(e){return e.map(function(e){return Ks(t.N,e)})})}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=cs.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return lu(e).Kt({range:i},function(r,i,o){var s=_slicedToArray(r,3),u=s[0],c=s[1],l=s[2],h=is(c);if(u===n.userId&&t.path.isEqual(h))return cu(e).get(l).next(function(e){if(!e)throw Sr();Tr(e.userId===n.userId),a.push(Ks(n.N,e))});o.done()}).next(function(){return a})}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new eo(qr),i=[];return t.forEach(function(t){var a=cs.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=lu(e).Kt({range:o},function(e,i,a){var o=_slicedToArray(e,3),s=o[0],u=o[1],c=o[2],l=is(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()});i.push(s)}),xs.waitFor(i).next(function(){return n.Zt(e,r)})}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=cs.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new eo(qr);return lu(e).Kt({range:o},function(e,t,a){var o=_slicedToArray(e,3),u=o[0],c=o[1],l=o[2],h=is(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(l)):a.done()}).next(function(){return n.Zt(e,s)})}},{key:"Zt",value:function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(cu(e).get(t).next(function(e){if(null===e)throw Sr();Tr(e.userId===n.userId),r.push(Ks(n.N,e))}))}),xs.waitFor(i).next(function(){return r})}},{key:"removeMutationBatch",value:function(e,t){var n=this;return au(e.Qt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.te(t.batchId)}),xs.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})}},{key:"te",value:function(e){delete this.Jt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return xs.resolve();var r=IDBKeyRange.lowerBound(cs.prefixForUser(t.userId)),i=[];return lu(e).Kt({range:r},function(e,n,r){if(e[0]===t.userId){var a=is(e[1]);i.push(a)}else r.done()}).next(function(){Tr(0===i.length)})})}},{key:"containsKey",value:function(e,t){return uu(e,this.userId,t)}},{key:"ee",value:function(e){var t=this;return hu(e).get(this.userId).next(function(e){return e||new ss(t.userId,-1,"")})}}],[{key:"Yt",value:function(t,n,r,i){return Tr(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function uu(e,t,n){var r=cs.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return lu(e).Kt({range:a,qt:!0},function(e,n,r){var a=_slicedToArray(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()}).next(function(){return o})}function cu(e){return Ns(e,us.store)}function lu(e){return Ns(e,cs.store)}function hu(e){return Ns(e,ss.store)}var fu=function(){function e(t){_classCallCheck(this,e),this.ne=t}return _createClass(e,[{key:"next",value:function(){return this.ne+=2,this.ne}}],[{key:"se",value:function(){return new e(0)}},{key:"ie",value:function(){return new e(-1)}}]),e}(),du=function(){function e(t,n){_classCallCheck(this,e),this.referenceDelegate=t,this.N=n}return _createClass(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.re(e).next(function(n){var r=new fu(n.highestTargetId);return n.highestTargetId=r.next(),t.oe(e,n).next(function(){return n.highestTargetId})})}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.re(e).next(function(e){return Kr.fromTimestamp(new Zr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})}},{key:"getHighestSequenceNumber",value:function(e){return this.re(e).next(function(e){return e.highestListenSequenceNumber})}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.re(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.oe(e,i)})}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next(function(){return n.re(e).next(function(r){return r.targetCount+=1,n.ae(t,r),n.oe(e,r)})})}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return pu(e).delete(t.targetId)}).next(function(){return n.re(e)}).next(function(t){return Tr(t.targetCount>0),t.targetCount-=1,n.oe(e,t)})}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return pu(e).Kt(function(o,s){var u=Gs(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))}).next(function(){return xs.waitFor(a)}).next(function(){return i})}},{key:"forEachTarget",value:function(e,t){return pu(e).Kt(function(e,n){var r=Gs(n);t(r)})}},{key:"re",value:function(e){return vu(e).get(gs.key).next(function(e){return Tr(null!==e),e})}},{key:"oe",value:function(e,t){return vu(e).put(gs.key,t)}},{key:"ce",value:function(e,t){return pu(e).put(Ws(this.N,t))}},{key:"ae",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.re(e).next(function(e){return e.targetCount})}},{key:"getTargetData",value:function(e,t){var n=Pi(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return pu(e).Kt({range:r,index:ps.queryTargetsIndexName},function(e,n,r){var a=Gs(n);Fi(t,a.target)&&(i=a,r.done())}).next(function(){return i})}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=gu(e);return t.forEach(function(t){var o=ts(t.path);i.push(a.put(new vs(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))}),xs.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=gu(e);return xs.forEach(t,function(t){var a=ts(t.path);return xs.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])})}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=gu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=gu(e),i=co();return r.Kt({range:n,qt:!0},function(e,t,n){var r=is(e[1]),a=new di(r);i=i.add(a)}).next(function(){return i})}},{key:"containsKey",value:function(e,t){var n=ts(t.path),r=IDBKeyRange.bound([n],[Hr(n)],!1,!0),i=0;return gu(e).Kt({index:vs.documentTargetsIndex,qt:!0,range:r},function(e,t,n){var r=_slicedToArray(e,2),a=r[0];r[1];0!==a&&(i++,n.done())}).next(function(){return i>0})}},{key:"Tt",value:function(e,t){return pu(e).get(t).next(function(e){return e?Gs(e):null})}}]),e}();function pu(e){return Ns(e,ps.store)}function vu(e){return Ns(e,gs.store)}function gu(e){return Ns(e,vs.store)}function yu(e){return mu.apply(this,arguments)}function mu(){return(mu=(0,i.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Or.FAILED_PRECONDITION&&t.message===Cs){e.next=2;break}throw t;case 2:Cr("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _u(e,t){var n=_slicedToArray(e,2),r=n[0],i=n[1],a=_slicedToArray(t,2),o=a[0],s=a[1],u=qr(r,o);return 0===u?qr(i,s):u}var ku=function(){function e(t){_classCallCheck(this,e),this.ue=t,this.buffer=new eo(_u),this.he=0}return _createClass(e,[{key:"le",value:function(){return++this.he}},{key:"fe",value:function(e){var t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();_u(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),bu=function(){function e(t,n){_classCallCheck(this,e),this.garbageCollector=t,this.asyncQueue=n,this.de=!1,this.we=null}return _createClass(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}},{key:"stop",value:function(){this.we&&(this.we.cancel(),this.we=null)}},{key:"started",get:function(){return null!==this.we}},{key:"_e",value:function(e){var t=this,n=this.de?3e5:6e4;Cr("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,i.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.we=null,t.de=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!As(n.t0)){n.next=12;break}Cr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,yu(n.t0);case 14:return n.next=16,t._e(e);case 16:case"end":return n.stop()}},n,null,[[1,6]])})))}}]),e}(),Cu=function(){function e(t,n){_classCallCheck(this,e),this.me=t,this.params=n}return _createClass(e,[{key:"calculateTargetCount",value:function(e,t){return this.me.ge(e).next(function(e){return Math.floor(t/100*e)})}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return xs.resolve(jr.T);var r=new ku(t);return this.me.forEachTarget(e,function(e){return r.fe(e.sequenceNumber)}).next(function(){return n.me.ye(e,function(e){return r.fe(e)})}).next(function(){return r.maxValue})}},{key:"removeTargets",value:function(e,t,n){return this.me.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.me.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Cr("LruGarbageCollector","Garbage collection skipped; disabled"),xs.resolve(ru)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Cr("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ru):n.pe(e,t)})}},{key:"getCacheSize",value:function(e){return this.me.getCacheSize(e)}},{key:"pe",value:function(e,t){var n,r,i,a,o,u,c,l=this,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>l.params.maximumSequenceNumbersToCollect?(Cr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(l.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)}).next(function(r){return n=r,o=Date.now(),l.removeTargets(e,n,t)}).next(function(t){return i=t,u=Date.now(),l.removeOrphanedDocuments(e,n)}).next(function(e){return c=Date.now(),kr()<=s.in.DEBUG&&Cr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-h,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n\tRemoved ".concat(e," documents in ")+(c-u)+"ms\nTotal Duration: ".concat(c-h,"ms")),xs.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})})}}]),e}(),wu=function(){function e(t,n){_classCallCheck(this,e),this.db=t,this.garbageCollector=new Cu(this,n)}return _createClass(e,[{key:"ge",value:function(e){var t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})}},{key:"Te",value:function(e){var t=0;return this.ye(e,function(e){t++}).next(function(){return t})}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ye",value:function(e,t){return this.Ee(e,function(e,n){return t(n)})}},{key:"addReference",value:function(e,t,n){return xu(e,n)}},{key:"removeReference",value:function(e,t,n){return xu(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return xu(e,t)}},{key:"Ie",value:function(e,t){return r=t,i=!1,hu(n=e).jt(function(e){return uu(n,e,r).next(function(e){return e&&(i=!0),xs.resolve(!e)})}).next(function(){return i});var n,r,i}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ee(e,function(o,s){if(s<=t){var u=n.Ie(e,o).next(function(t){if(!t)return a++,r.getEntry(e,o).next(function(){return r.removeEntry(o),gu(e).delete([0,ts(o.path)])})});i.push(u)}}).next(function(){return xs.waitFor(i)}).next(function(){return r.apply(e)}).next(function(){return a})}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return xu(e,t)}},{key:"Ee",value:function(e,t){var n,r=gu(e),i=jr.T;return r.Kt({index:vs.documentTargetsIndex},function(e,r){var a=_slicedToArray(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==jr.T&&t(new di(is(n)),i),i=u,n=s):i=jr.T}).next(function(){i!==jr.T&&t(new di(is(n)),i)})}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function xu(e,t){return gu(e).put((n=e.currentSequenceNumber,new vs(0,ts(t.path),n)));var n}var Eu=function(){function e(t,n){_classCallCheck(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return _createClass(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var a=_slicedToArray(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Wr(this.inner,function(t,n){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var a=_slicedToArray(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}})}},{key:"isEmpty",value:function(){return Qr(this.inner)}}]),e}(),Su=function(){function e(){_classCallCheck(this,e),this.changes=new Eu(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return _createClass(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:Kr.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Oi.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?xs.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Tu=function(){function e(t,n){_classCallCheck(this,e),this.N=t,this.Ht=n}return _createClass(e,[{key:"addEntry",value:function(e,t,n){return Ou(e).put(Du(t),n)}},{key:"removeEntry",value:function(e,t){var n=Ou(e),r=Du(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.Ae(e,r)})}},{key:"getEntry",value:function(e,t){var n=this;return Ou(e).get(Du(t)).next(function(e){return n.Re(t,e)})}},{key:"be",value:function(e,t){var n=this;return Ou(e).get(Du(t)).next(function(e){return{document:n.Re(t,e),size:ou(e)}})}},{key:"getEntries",value:function(e,t){var n=this,r=ro();return this.Pe(e,t,function(e,t){var i=n.Re(e,t);r=r.insert(e,i)}).next(function(){return r})}},{key:"ve",value:function(e,t){var n=this,r=ro(),i=new Ja(di.comparator);return this.Pe(e,t,function(e,t){var a=n.Re(e,t);r=r.insert(e,a),i=i.insert(e,ou(t))}).next(function(){return{documents:r,Ve:i}})}},{key:"Pe",value:function(e,t,n){if(t.isEmpty())return xs.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Ou(e).Kt({range:r},function(e,t,r){for(var o=di.fromSegments(e);a&&di.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Mt(a.path.toArray()):r.done()}).next(function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=ro(),a=t.path.length+1,o={};if(n.isEqual(Kr.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=qs(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=fs.collectionReadTimeIndex}return Ou(e).Kt(o,function(e,n,o){if(e.length===a){var s=Vs(r.N,n);t.path.isPrefixOf(s.key.path)?ha(t,s)&&(i=i.insert(s.key,s)):o.done()}}).next(function(){return i})}},{key:"newChangeBuffer",value:function(e){return new Iu(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next(function(e){return e.byteSize})}},{key:"getMetadata",value:function(e){return Au(e).get(ds.key).next(function(e){return Tr(!!e),e})}},{key:"Ae",value:function(e,t){return Au(e).put(ds.key,t)}},{key:"Re",value:function(e,t){if(t){var n=Vs(this.N,t);if(!n.isNoDocument()||!n.version.isEqual(Kr.min()))return n}return Oi.newInvalidDocument(e)}}]),e}(),Iu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).Se=e,i.trackRemovals=r,i.De=new Eu(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),i}return _createClass(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new eo(function(e,t){return qr(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(a,o){var s=t.De.get(a);if(o.document.isValidDocument()){var u=Bs(t.Se.N,o.document,t.getReadTime(a));i=i.add(a.path.popLast()),r+=ou(u)-s,n.push(t.Se.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var c=Bs(t.Se.N,Oi.newNoDocument(a,Kr.min()),t.getReadTime(a));n.push(t.Se.addEntry(e,a,c))}else n.push(t.Se.removeEntry(e,a))}),i.forEach(function(r){n.push(t.Se.Ht.addToCollectionParentIndex(e,r))}),n.push(this.Se.updateMetadata(e,r)),xs.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Se.be(e,t).next(function(e){return n.De.set(t,e.size),e.document})}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Se.ve(e,t).next(function(e){var t=e.documents;return e.Ve.forEach(function(e,t){n.De.set(e,t)}),t})}}]),n}(Su);function Au(e){return Ns(e,ds.store)}function Ou(e){return Ns(e,fs.store)}function Du(e){return e.path.toArray()}var Ru=function(){function e(t){_classCallCheck(this,e),this.N=t}return _createClass(e,[{key:"Ct",value:function(e,t,n,r){var i=this;Tr(n<r&&n>=0&&r<=11);var a,o=new Es("createOrUpgrade",t);n<1&&r>=1&&(e.createObjectStore(os.store),(a=e).createObjectStore(ss.store,{keyPath:ss.keyPath}),a.createObjectStore(us.store,{keyPath:us.keyPath,autoIncrement:!0}).createIndex(us.userMutationsIndex,us.userMutationsKeyPath,{unique:!0}),a.createObjectStore(cs.store),Pu(e),function(e){e.createObjectStore(fs.store)}(e));var s=xs.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(vs.store),e.deleteObjectStore(ps.store),e.deleteObjectStore(gs.store)}(e),Pu(e)),s=s.next(function(){return function(e){var t=e.store(gs.store),n=new gs(0,0,Kr.min().toTimestamp(),0);return t.put(gs.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(e,t){return t.store(us.store).Lt().next(function(n){e.deleteObjectStore(us.store),e.createObjectStore(us.store,{keyPath:us.keyPath,autoIncrement:!0}).createIndex(us.userMutationsIndex,us.userMutationsKeyPath,{unique:!0});var r=t.store(us.store),i=n.map(function(e){return r.put(e)});return xs.waitFor(i)})}(e,o)})),s=s.next(function(){!function(e){e.createObjectStore(ms.store,{keyPath:ms.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(function(){return i.Ce(o)})),n<6&&r>=6&&(s=s.next(function(){return function(e){e.createObjectStore(ds.store)}(e),i.Ne(o)})),n<7&&r>=7&&(s=s.next(function(){return i.xe(o)})),n<8&&r>=8&&(s=s.next(function(){return i.ke(e,o)})),n<9&&r>=9&&(s=s.next(function(){(function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})(e),function(e){var t=e.objectStore(fs.store);t.createIndex(fs.readTimeIndex,fs.readTimeIndexPath,{unique:!1}),t.createIndex(fs.collectionReadTimeIndex,fs.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(function(){return i.$e(o)})),n<11&&r>=11&&(s=s.next(function(){(function(e){e.createObjectStore(_s.store,{keyPath:_s.keyPath})})(e),function(e){e.createObjectStore(ks.store,{keyPath:ks.keyPath})}(e)})),s}},{key:"Ne",value:function(e){var t=0;return e.store(fs.store).Kt(function(e,n){t+=ou(n)}).next(function(){var n=new ds(t);return e.store(ds.store).put(ds.key,n)})}},{key:"Ce",value:function(e){var t=this,n=e.store(ss.store),r=e.store(us.store);return n.Lt().next(function(n){return xs.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Lt(us.userMutationsIndex,i).next(function(r){return xs.forEach(r,function(r){Tr(r.userId===n.userId);var i=Ks(t.N,r);return au(e,n.userId,i).next(function(){})})})})})}},{key:"xe",value:function(e){var t=e.store(vs.store),n=e.store(fs.store);return e.store(gs.store).get(gs.key).next(function(e){var r=[];return n.Kt(function(n,i){var a=new Jr(n),o=[0,ts(a)];r.push(t.get(o).next(function(n){return n?xs.resolve():t.put(new vs(0,ts(a),e.highestListenSequenceNumber))}))}).next(function(){return xs.waitFor(r)})})}},{key:"ke",value:function(e,t){e.createObjectStore(ys.store,{keyPath:ys.keyPath});var n=t.store(ys.store),r=new eu,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ts(i)})}};return t.store(fs.store).Kt({qt:!0},function(e,t){var n=new Jr(e);return i(n.popLast())}).next(function(){return t.store(cs.store).Kt({qt:!0},function(e,t){var n=_slicedToArray(e,3),r=(n[0],n[1]),a=(n[2],is(r));return i(a.popLast())})})}},{key:"$e",value:function(e){var t=this,n=e.store(ps.store);return n.Kt(function(e,r){var i=Gs(r),a=Ws(t.N,i);return n.put(a)})}}]),e}();function Pu(e){e.createObjectStore(vs.store,{keyPath:vs.keyPath}).createIndex(vs.documentTargetsIndex,vs.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ps.store,{keyPath:ps.keyPath}).createIndex(ps.queryTargetsIndexName,ps.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(gs.store)}var Fu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Nu=function(){function e(t,n,r,i,a,o,s,u,c,l){if(_classCallCheck(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=s,this.Fe=c,this.Me=l,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=function(e){return Promise.resolve()},!e.bt())throw new Dr(Or.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wu(this,i),this.We=n+"main",this.N=new js(u),this.Ge=new Ss(this.We,11,new Ru(this.N)),this.ze=new du(this.referenceDelegate,this.N),this.Ht=new tu,this.He=new Tu(this.N,this.Ht),this.Je=new Ys,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===l&&wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return _createClass(e,[{key:"start",value:function(){var e=this;return this.Xe().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Dr(Or.FAILED_PRECONDITION,Fu);return e.Ze(),e.tn(),e.en(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.ze.getHighestSequenceNumber(t)})}).then(function(t){e.Le=new jr(t,e.Fe)}).then(function(){e.Be=!0}).catch(function(t){return e.Ge&&e.Ge.close(),Promise.reject(t)})}},{key:"nn",value:function(e){var t,n=this;return this.Qe=(t=(0,i.Z)(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.started){t.next=2;break}return t.abrupt("return",e(r));case 2:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){var t;this.Ge.xt((t=(0,i.Z)(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}},t)})),function(e){return t.apply(this,arguments)}))}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Xe();case 4:case"end":return e.stop()}},e)}))))}},{key:"Xe",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return Lu(t).put(new ms(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.sn(t).next(function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable(function(){return e.Qe(!1)}))})}).next(function(){return e.rn(t)}).next(function(n){return e.isPrimary&&!n?e.on(t).next(function(){return!1}):!!n&&e.cn(t).next(function(){return!0})})}).catch(function(t){if(As(t))return Cr("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Cr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable(function(){return e.Qe(t)}),e.isPrimary=t})}},{key:"sn",value:function(e){var t=this;return Mu(e).get(os.key).next(function(e){return xs.resolve(t.an(e))})}},{key:"un",value:function(e){return Lu(e).delete(this.clientId)}},{key:"hn",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){var n,r,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isPrimary||e.ln(e.je,18e5)){t.next=6;break}return e.je=Date.now(),t.next=4,e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var n=Ns(t,ms.store);return n.Lt().next(function(t){var r=e.fn(t,18e5),i=t.filter(function(e){return-1===r.indexOf(e)});return xs.forEach(i,function(e){return n.delete(e.clientId)}).next(function(){return i})})}).catch(function(){return[]});case 4:if(n=t.sent,e.Ye){r=_createForOfIteratorHelper(n);try{for(r.s();!(i=r.n()).done;)a=i.value,e.Ye.removeItem(e.dn(a.clientId))}catch(o){r.e(o)}finally{r.f()}}case 6:case"end":return t.stop()}},t)}))()}},{key:"en",value:function(){var e=this;this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.Xe().then(function(){return e.hn()}).then(function(){return e.en()})})}},{key:"an",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"rn",value:function(e){var t=this;return this.Me?xs.resolve(!0):Mu(e).get(os.key).next(function(n){if(null!==n&&t.ln(n.leaseTimestampMs,5e3)&&!t.wn(n.ownerId)){if(t.an(n)&&t.networkEnabled)return!0;if(!t.an(n)){if(!n.allowTabSynchronization)throw new Dr(Or.FAILED_PRECONDITION,Fu);return!1}}return!(!t.networkEnabled||!t.inForeground)||Lu(e).Lt().next(function(e){return void 0===t.fn(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.inForeground&&e.inForeground,r=t.networkEnabled===e.networkEnabled;if(!t.networkEnabled&&e.networkEnabled||n&&r)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&Cr("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e})}},{key:"shutdown",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),t.next=7,e.Ge.runTransaction("shutdown","readwrite",[os.store,ms.store],function(t){var n=new Fs(t,jr.T);return e.on(n).next(function(){return e.un(n)})});case 7:e.Ge.close(),e.yn();case 9:case"end":return t.stop()}},t)}))()}},{key:"fn",value:function(e,t){var n=this;return e.filter(function(e){return n.ln(e.updateTimeMs,t)&&!n.wn(e.clientId)})}},{key:"pn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return Lu(t).Lt().next(function(t){return e.fn(t,18e5).map(function(e){return e.clientId})})})}},{key:"started",get:function(){return this.Be}},{key:"getMutationQueue",value:function(e){return su.Yt(e,this.N,this.Ht,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r,i=this;return Cr("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",bs,function(a){return r=new Fs(a,i.Le?i.Le.next():jr.T),"readwrite-primary"===t?i.sn(r).next(function(e){return!!e||i.rn(r)}).next(function(t){if(!t)throw wr("Failed to obtain primary lease for action '".concat(e,"'.")),i.isPrimary=!1,i.Oe.enqueueRetryable(function(){return i.Qe(!1)}),new Dr(Or.FAILED_PRECONDITION,Cs);return n(r)}).next(function(e){return i.cn(r).next(function(){return e})}):i.Tn(r).next(function(){return n(r)})}).then(function(e){return r.raiseOnCommittedEvent(),e})}},{key:"Tn",value:function(e){var t=this;return Mu(e).get(os.key).next(function(e){if(null!==e&&t.ln(e.leaseTimestampMs,5e3)&&!t.wn(e.ownerId)&&!t.an(e)&&!(t.Me||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Dr(Or.FAILED_PRECONDITION,Fu)})}},{key:"cn",value:function(e){var t=new os(this.clientId,this.allowTabSynchronization,Date.now());return Mu(e).put(os.key,t)}},{key:"on",value:function(e){var t=this,n=Mu(e);return n.get(os.key).next(function(e){return t.an(e)?(Cr("IndexedDbPersistence","Releasing primary lease."),n.delete(os.key)):xs.resolve()})}},{key:"ln",value:function(e,t){var n=Date.now();return!(e<n-t||e>n&&(wr("Detected an update time that is in the future: ".concat(e," > ").concat(n)),1))}},{key:"Ze",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Oe.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.Xe()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}},{key:"mn",value:function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}},{key:"tn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=function(){t._n(),(0,u.G6)()&&navigator.appVersion.match("Version/14")&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.Ue))}},{key:"gn",value:function(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}},{key:"wn",value:function(e){var t;try{var n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Cr("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(n){return wr("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}},{key:"_n",value:function(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){wr("Failed to set zombie client id.",e)}}},{key:"yn",value:function(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}},{key:"dn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return Ss.bt()}}]),e}();function Mu(e){return Ns(e,os.store)}function Lu(e){return Ns(e,ms.store)}function Uu(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var ju=function e(t,n){_classCallCheck(this,e),this.progress=t,this.En=n},Vu=function(){function e(t,n,r){_classCallCheck(this,e),this.He=t,this.In=n,this.Ht=r}return _createClass(e,[{key:"An",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.Rn(e,t,r)})}},{key:"Rn",value:function(e,t,n){return this.He.getEntry(e,t).next(function(e){var t,r=_createForOfIteratorHelper(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e})}},{key:"bn",value:function(e,t){e.forEach(function(e,n){var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}})}},{key:"Pn",value:function(e,t){var n=this;return this.He.getEntries(e,t).next(function(t){return n.vn(e,t).next(function(){return t})})}},{key:"vn",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.bn(t,e)})}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return di.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.Vn(e,t.path):ia(t)?this.Sn(e,t,n):this.Dn(e,t,n);var r}},{key:"Vn",value:function(e,t){return this.An(e,new di(t)).next(function(e){var t=ao();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}},{key:"Sn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ao();return this.Ht.getCollectionParents(e,i).next(function(o){return xs.forEach(o,function(o){var s,u,c=(s=t,u=o.child(i),new Ji(u,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.Dn(e,c,n).next(function(e){e.forEach(function(e,t){a=a.insert(e,t)})})}).next(function(){return a})})}},{key:"Dn",value:function(e,t,n){var r,i,a=this;return this.He.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,a.In.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return i=t,a.Cn(e,i,r).next(function(e){r=e;var t,n=_createForOfIteratorHelper(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=_createForOfIteratorHelper(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=Oi.newInvalidDocument(c),r=r.insert(c,l)),Na(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(h){s.e(h)}finally{s.f()}}}catch(h){n.e(h)}finally{n.f()}})}).next(function(){return r.forEach(function(e,n){ha(t,n)||(r=r.remove(e))}),r})}},{key:"Cn",value:function(e,t,n){var r,i=co(),a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var o,s=_createForOfIteratorHelper(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof Va&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.He.getEntries(e,i).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))}),c})}}]),e}(),Bu=function(){function e(t,n,r,i){_classCallCheck(this,e),this.targetId=t,this.fromCache=n,this.Nn=r,this.xn=i}return _createClass(e,null,[{key:"kn",value:function(t,n){var r,i=co(),a=co(),o=_createForOfIteratorHelper(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),qu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"$n",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i,a=this;return 0===(i=t).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(Kr.min())?this.Fn(e,t):this.On.Pn(e,r).next(function(i){var o=a.Mn(t,i);return(ea(t)||ta(t))&&a.Ln(t.limitType,o,r,n)?a.Fn(e,t):(kr()<=s.in.DEBUG&&Cr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),la(t)),a.On.getDocumentsMatchingQuery(e,t,n).next(function(e){return o.forEach(function(t){e=e.insert(t.key,t)}),e}))})}},{key:"Mn",value:function(e,t){var n=new eo(fa(e));return t.forEach(function(t,r){ha(e,r)&&(n=n.add(r))}),n}},{key:"Ln",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return kr()<=s.in.DEBUG&&Cr("QueryEngine","Using full collection scan to execute query:",la(t)),this.On.getDocumentsMatchingQuery(e,t,Kr.min())}}]),e}(),zu=function(){function e(t,n,r,i){_classCallCheck(this,e),this.persistence=t,this.Bn=n,this.N=i,this.Un=new Ja(qr),this.qn=new Eu(function(e){return Pi(e)},Fi),this.Kn=Kr.min(),this.In=t.getMutationQueue(r),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new Vu(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}return _createClass(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.Un)})}}]),e}();function Hu(e,t,n,r){return new zu(e,t,n,r)}function Zu(e,t){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ar(t),i=r.In,a=r.Qn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",function(e){var t;return r.In.getAllMutationBatches(e).next(function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Vu(r.jn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)}).next(function(n){var r,i=[],o=[],s=co(),u=_createForOfIteratorHelper(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,h=_createForOfIteratorHelper(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(_){h.e(_)}finally{h.f()}}}catch(_){u.e(_)}finally{u.f()}var d,p=_createForOfIteratorHelper(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var g,y=_createForOfIteratorHelper(v.mutations);try{for(y.s();!(g=y.n()).done;){var m=g.value;s=s.add(m.key)}}catch(_){y.e(_)}finally{y.f()}}}catch(_){p.e(_)}finally{p.f()}return a.Pn(e,s).next(function(e){return{Wn:e,removedBatchIds:i,addedBatchIds:o}})})});case 4:return o=e.sent,e.abrupt("return",(r.In=i,r.Qn=a,r.Bn.$n(r.Qn),o));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gu(e,t){var n=Ar(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var r,i,a,o,s,u,c,l=t.batch.keys(),h=n.jn.newChangeBuffer({trackRemovals:!0});return(r=n,i=e,a=t,o=h,s=a.batch,u=s.keys(),c=xs.resolve(),u.forEach(function(e){c=c.next(function(){return o.getEntry(i,e)}).next(function(t){var n=a.docVersions.get(e);Tr(null!==n),t.version.compareTo(n)<0&&(s.applyToRemoteDocument(t,a),t.isValidDocument()&&o.addEntry(t,a.commitVersion))})}),c.next(function(){return r.In.removeMutationBatch(i,s)})).next(function(){return h.apply(e)}).next(function(){return n.In.performConsistencyCheck(e)}).next(function(){return n.Qn.Pn(e,l)})})}function Wu(e){var t=Ar(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.ze.getLastRemoteSnapshotVersion(e)})}function Qu(e,t){var n=Ar(e),r=t.snapshotVersion,i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var a=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;var o=[];t.targetChanges.forEach(function(t,a){var s=i.get(a);if(s){o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,a).next(function(){return n.ze.addMatchingKeys(e,t.addedDocuments,a)}));var u,c,l,h=t.resumeToken;if(h.approximateByteSize()>0){var f=s.withResumeToken(h,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,f),u=s,l=t,Tr((c=f).resumeToken.approximateByteSize()>0),(0===u.resumeToken.approximateByteSize()||c.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()>=3e8||l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size>0)&&o.push(n.ze.updateTargetData(e,f))}}});var s=ro();if(t.documentUpdates.forEach(function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(Yu(e,a,t.documentUpdates,r,void 0).next(function(e){s=e})),!r.isEqual(Kr.min())){var u=n.ze.getLastRemoteSnapshotVersion(e).next(function(t){return n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)});o.push(u)}return xs.waitFor(o).next(function(){return a.apply(e)}).next(function(){return n.Qn.vn(e,s)}).next(function(){return s})}).then(function(e){return n.Un=i,e})}function Yu(e,t,n,r,i){var a=co();return n.forEach(function(e){return a=a.add(e)}),t.getEntries(e,a).next(function(e){var a=ro();return n.forEach(function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(Kr.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):Cr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),a})}function Ju(e,t){var n=Ar(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)})}function $u(e,t){var n=Ar(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.ze.getTargetData(e,t).next(function(i){return i?(r=i,xs.resolve(r)):n.ze.allocateTargetId(e).next(function(i){return r=new Us(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}function Xu(e,t,n){return ec.apply(this,arguments)}function ec(){return(ec=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ar(t),a=i.Un.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,function(e){return i.persistence.referenceDelegate.removeTarget(e,a)});case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),As(e.t1)){e.next=12;break}throw e.t1;case 12:Cr("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Un=i.Un.remove(n),i.qn.delete(a.target);case 14:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function tc(e,t,n){var r=Ar(e),i=Kr.min(),a=co();return r.persistence.runTransaction("Execute query","readonly",function(e){return(o=r,s=e,u=oa(t),c=Ar(o),l=c.qn.get(u),void 0!==l?xs.resolve(c.Un.get(l)):c.ze.getTargetData(s,u)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(function(e){a=e})}).next(function(){return r.Bn.getDocumentsMatchingQuery(e,t,n?i:Kr.min(),n?a:co())}).next(function(e){return{documents:e,Gn:a}});var o,s,u,c,l})}function nc(e,t){var n=Ar(e),r=Ar(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(e){return r.Tt(e,t).next(function(e){return e?e.target:null})})}function rc(e){var t=Ar(e);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return n=t.jn,r=e,i=t.Kn,a=Ar(n),o=ro(),s=qs(i),u=Ou(r),c=IDBKeyRange.lowerBound(s,!0),u.Kt({index:fs.readTimeIndex,range:c},function(e,t){var n=Vs(a.N,t);o=o.insert(n.key,n),s=t.readTime}).next(function(){return{En:o,readTime:zs(s)}});var n,r,i,a,o,s,u,c}).then(function(e){var n=e.En,r=e.readTime;return t.Kn=r,n})}function ic(){return(ic=(0,i.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",function(e){return t=Ou(e),n=Kr.min(),t.Kt({index:fs.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=zs(t.readTime)),r.done()}).next(function(){return n});var t,n}).then(function(e){n.Kn=e}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ac(){return(ac=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var a,o,s,u,c,l,h,f,d,p,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=Ar(t),o=co(),s=ro(),u=so(),c=_createForOfIteratorHelper(r);try{for(c.s();!(l=c.n()).done;)h=l.value,f=n.zn(h.metadata.name),h.document&&(o=o.add(f)),s=s.insert(f,n.Hn(h)),u=u.insert(f,n.Jn(h.metadata.readTime))}catch(g){c.e(g)}finally{c.f()}return d=a.jn.newChangeBuffer({trackRemovals:!0}),e.next=7,$u(a,(v=i,oa(Xi(Jr.fromString("__bundle__/docs/".concat(v))))));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return Yu(e,d,s,Kr.min(),u).next(function(t){return d.apply(e),t}).next(function(t){return a.ze.removeMatchingKeysForTargetId(e,p.targetId).next(function(){return a.ze.addMatchingKeys(e,o,p.targetId)}).next(function(){return a.Qn.vn(e,t)}).next(function(){return t})})}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oc(e,t){return sc.apply(this,arguments)}function sc(){return(sc=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:co(),e.next=3,$u(t,oa(Qs(n.bundledQuery)));case 3:return i=e.sent,a=Ar(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",function(e){var t=Io(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Je.saveNamedQuery(e,n);var o=i.withResumeToken(ni.EMPTY_BYTE_STRING,t);return a.Un=a.Un.insert(o.targetId,o),a.ze.updateTargetData(e,o).next(function(){return a.ze.removeMatchingKeysForTargetId(e,i.targetId)}).next(function(){return a.ze.addMatchingKeys(e,r,i.targetId)}).next(function(){return a.Je.saveNamedQuery(e,n)})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var uc=function(){function e(t){_classCallCheck(this,e),this.N=t,this.Yn=new Map,this.Xn=new Map}return _createClass(e,[{key:"getBundleMetadata",value:function(e,t){return xs.resolve(this.Yn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Io(n.createTime)}),xs.resolve()}},{key:"getNamedQuery",value:function(e,t){return xs.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,{name:(n=t).name,query:Qs(n.bundledQuery),readTime:Io(n.readTime)}),xs.resolve();var n}}]),e}(),cc=function(){function e(){_classCallCheck(this,e),this.Zn=new eo(lc.ts),this.es=new eo(lc.ns)}return _createClass(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new lc(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})}},{key:"removeReference",value:function(e,t){this.rs(new lc(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})}},{key:"cs",value:function(e){var t=this,n=new di(new Jr([])),r=new lc(n,e),i=new lc(n,e+1),a=[];return this.es.forEachInRange([r,i],function(e){t.rs(e),a.push(e.key)}),a}},{key:"us",value:function(){var e=this;this.Zn.forEach(function(t){return e.rs(t)})}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new di(new Jr([])),n=new lc(t,e),r=new lc(t,e+1),i=co();return this.es.forEachInRange([n,r],function(e){i=i.add(e.key)}),i}},{key:"containsKey",value:function(e){var t=new lc(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),lc=function(){function e(t,n){_classCallCheck(this,e),this.key=t,this.ls=n}return _createClass(e,null,[{key:"ts",value:function(e,t){return di.comparator(e.key,t.key)||qr(e.ls,t.ls)}},{key:"ns",value:function(e,t){return qr(e.ls,t.ls)||di.comparator(e.key,t.key)}}]),e}(),hc=function(){function e(t,n){_classCallCheck(this,e),this.Ht=t,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new eo(lc.ts)}return _createClass(e,[{key:"checkEmpty",value:function(e){return xs.resolve(0===this.In.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++;var a=new Ms(i,t,n,r);this.In.push(a);var o,s=_createForOfIteratorHelper(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ds=this.ds.add(new lc(u.key,i)),this.Ht.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return xs.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return xs.resolve(this.ws(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this._s(t+1),r=n<0?0:n;return xs.resolve(this.In.length>r?this.In[r]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return xs.resolve(0===this.In.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return xs.resolve(this.In.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new lc(t,0),i=new lc(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],function(e){var t=n.ws(e.ls);a.push(t)}),xs.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new eo(qr);return t.forEach(function(e){var t=new lc(e,0),i=new lc(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],function(e){r=r.add(e.ls)})}),xs.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;di.isDocumentKey(i)||(i=i.child(""));var a=new lc(new di(i),0),o=new eo(qr);return this.ds.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},a),xs.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=t.ws(e);null!==r&&n.push(r)}),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Tr(0===this.ys(t.batchId,"removed")),this.In.shift();var r=this.ds;return xs.forEach(t.mutations,function(i){var a=new lc(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.ds=r})}},{key:"te",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new lc(t,0),r=this.ds.firstAfterOrEqual(n);return xs.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return xs.resolve()}},{key:"ys",value:function(e,t){return this._s(e)}},{key:"_s",value:function(e){return 0===this.In.length?0:e-this.In[0].batchId}},{key:"ws",value:function(e){var t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}]),e}(),fc=function(){function e(t,n){_classCallCheck(this,e),this.Ht=t,this.ps=n,this.docs=new Ja(di.comparator),this.size=0}return _createClass(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return xs.resolve(n?n.document.clone():Oi.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ro();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Oi.newInvalidDocument(e))}),xs.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=ro(),i=new di(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||ha(t,c)&&(r=r.insert(c.key,c.clone()))}return xs.resolve(r)}},{key:"Ts",value:function(e,t){return xs.forEach(this.docs,function(e){return t(e)})}},{key:"newChangeBuffer",value:function(e){return new dc(this)}},{key:"getSize",value:function(e){return xs.resolve(this.size)}}]),e}(),dc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).Se=e,r}return _createClass(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(t.Se.addEntry(e,i.document,t.getReadTime(r))):t.Se.removeEntry(r)}),xs.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Se.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Se.getEntries(e,t)}}]),n}(Su),pc=function(){function e(t){_classCallCheck(this,e),this.persistence=t,this.Es=new Eu(function(e){return Pi(e)},Fi),this.lastRemoteSnapshotVersion=Kr.min(),this.highestTargetId=0,this.Is=0,this.As=new cc,this.targetCount=0,this.Rs=fu.se()}return _createClass(e,[{key:"forEachTarget",value:function(e,t){return this.Es.forEach(function(e,n){return t(n)}),xs.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return xs.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return xs.resolve(this.Is)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),xs.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),xs.resolve()}},{key:"ce",value:function(e){this.Es.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new fu(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,xs.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),xs.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,xs.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Es.forEach(function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Es.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),xs.waitFor(a).next(function(){return i})}},{key:"getTargetCount",value:function(e){return xs.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Es.get(t)||null;return xs.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),xs.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),xs.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.cs(t),xs.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return xs.resolve(n)}},{key:"containsKey",value:function(e,t){return xs.resolve(this.As.containsKey(t))}}]),e}(),vc=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.bs={},this.Le=new jr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new pc(this),this.Ht=new Xs,this.He=new fc(this.Ht,function(e){return r.referenceDelegate.Ps(e)}),this.N=new js(n),this.Je=new uc(this.N)}return _createClass(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Be=!1,Promise.resolve()}},{key:"started",get:function(){return this.Be}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new hc(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r=this;Cr("MemoryPersistence","Starting transaction:",e);var i=new gc(this.Le.next());return this.referenceDelegate.vs(),n(i).next(function(e){return r.referenceDelegate.Vs(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})}},{key:"Ss",value:function(e,t){return xs.or(Object.values(this.bs).map(function(n){return function(){return n.containsKey(e,t)}}))}}]),e}(),gc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return n}(ws),yc=function(){function e(t){_classCallCheck(this,e),this.persistence=t,this.Ds=new cc,this.Cs=null}return _createClass(e,[{key:"xs",get:function(){if(this.Cs)return this.Cs;throw Sr()}},{key:"addReference",value:function(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),xs.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),xs.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),xs.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ds.cs(t.targetId).forEach(function(e){return n.xs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.xs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})}},{key:"vs",value:function(){this.Cs=new Set}},{key:"Vs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xs.forEach(this.xs,function(r){var i=di.fromPath(r);return t.ks(e,i).next(function(e){e||n.removeEntry(i)})}).next(function(){return t.Cs=null,n.apply(e)})}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.ks(e,t).next(function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())})}},{key:"Ps",value:function(e){return 0}},{key:"ks",value:function(e,t){var n=this;return xs.or([function(){return xs.resolve(n.Ds.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ss(e,t)}])}}],[{key:"Ns",value:function(t){return new e(t)}}]),e}();function mc(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function _c(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function kc(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var bc=function(){function e(t,n,r,i){_classCallCheck(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return _createClass(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Dr(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(wr("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Cc=function(){function e(t,n,r){_classCallCheck(this,e),this.targetId=t,this.state=n,this.error=r}return _createClass(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Dr(i.error.code,i.error.message))),a?new e(t,i.state,r):(wr("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),wc=function(){function e(t,n){_classCallCheck(this,e),this.clientId=t,this.activeTargetIds=n}return _createClass(e,null,[{key:"$s",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ho(),o=0;i&&o<r.activeTargetIds.length;++o)i=fi(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(wr("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),xc=function(){function e(t,n){_classCallCheck(this,e),this.clientId=t,this.onlineState=n}return _createClass(e,null,[{key:"$s",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(wr("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ec=function(){function e(){_classCallCheck(this,e),this.activeTargetIds=ho()}return _createClass(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Sc=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Ls=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Ja(qr),this.started=!1,this.Ks=[];var o,s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.js=mc(this.persistenceKey,this.Ls),this.Qs="firestore_sequence_number_".concat(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Ec),this.Ws=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Gs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.zs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Hs="firestore_online_state_".concat(this.persistenceKey),this.Js=(o=this.persistenceKey,"firestore_bundle_loaded_".concat(o)),this.window.addEventListener("storage",this.Bs)}return _createClass(e,[{key:"start",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){var n,r,i,a,o,s,u,c,l,h,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.syncEngine.pn();case 2:n=t.sent,r=_createForOfIteratorHelper(n),t.prev=4,r.s();case 6:if((i=r.n()).done){t.next=14;break}if((a=i.value)!==e.Ls){t.next=10;break}return t.abrupt("continue",12);case 10:(o=e.getItem(mc(e.persistenceKey,a)))&&(s=wc.$s(a,o))&&(e.qs=e.qs.insert(s.clientId,s));case 12:t.next=6;break;case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),r.e(t.t0);case 19:return t.prev=19,r.f(),t.finish(19);case 22:e.Ys(),(u=e.storage.getItem(e.Hs))&&(c=e.Xs(u))&&e.Zs(c),l=_createForOfIteratorHelper(e.Ks);try{for(l.s();!(h=l.n()).done;)f=h.value,e.Us(f)}catch(d){l.e(d)}finally{l.f()}e.Ks=[],e.window.addEventListener("pagehide",function(){return e.shutdown()}),e.started=!0;case 28:case"end":return t.stop()}},t,null,[[4,16,19,22]])}))()}},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Qs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ti(this.qs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t}},{key:"addPendingMutation",value:function(e){this.ei(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ei(e,t,n),this.ni(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(kc(this.persistenceKey,e));if(n){var r=Cc.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}},{key:"removeLocalQueryTarget",value:function(e){this.si.Ms(e),this.Ys()}},{key:"isLocalQueryTarget",value:function(e){return this.si.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(kc(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ii(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach(function(e){r.ni(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})}},{key:"setOnlineState",value:function(e){this.ri(e)}},{key:"notifyBundleLoaded",value:function(){this.oi()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Cr("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Cr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Cr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Us",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Cr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,i.Z)(regeneratorRuntime.mark(function e(){var r,i,a,o,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Ws.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ai(r,null));case 6:if(!(i=t.ui(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ai(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Gs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.hi(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.li(a));case 16:e.next=39;break;case 18:if(!t.zs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.fi(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.di(o));case 23:e.next=39;break;case 25:if(n.key!==t.Hs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Xs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Zs(s));case 30:e.next=39;break;case 32:if(n.key!==t.Qs){e.next=37;break}(u=function(e){var t=jr.T;if(null!=e)try{var n=JSON.parse(e);Tr("number"==typeof n),t=n}catch(n){wr("SharedClientState","Failed to read sequence number from WebStorage",n)}return t}(n.newValue))!==jr.T&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Js){e.next=39;break}return e.abrupt("return",t.syncEngine.wi());case 39:e.next=42;break;case 41:t.Ks.push(n);case 42:case"end":return e.stop()}},e)})))}}},{key:"si",get:function(){return this.qs.get(this.Ls)}},{key:"Ys",value:function(){this.setItem(this.js,this.si.Os())}},{key:"ei",value:function(e,t,n){var r=new bc(this.currentUser,e,t,n),i=_c(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"ni",value:function(e){var t=_c(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"ri",value:function(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}},{key:"ii",value:function(e,t,n){var r=kc(this.persistenceKey,e),i=new Cc(e,t,n);this.setItem(r,i.Os())}},{key:"oi",value:function(){this.setItem(this.Js,"value-not-used")}},{key:"ci",value:function(e){var t=this.Ws.exec(e);return t?t[1]:null}},{key:"ui",value:function(e,t){var n=this.ci(e);return wc.$s(n,t)}},{key:"hi",value:function(e,t){var n=this.Gs.exec(e),r=Number(n[1]);return bc.$s(new yr(void 0!==n[2]?n[2]:null),r,t)}},{key:"fi",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]);return Cc.$s(r,t)}},{key:"Xs",value:function(e){return xc.$s(e)}},{key:"li",value:function(e){var t=this;return(0,i.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.user.uid!==t.currentUser.uid){n.next=2;break}return n.abrupt("return",t.syncEngine._i(e.batchId,e.state,e.error));case 2:Cr("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid));case 3:case"end":return n.stop()}},n)}))()}},{key:"di",value:function(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}},{key:"ai",value:function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),i=this.ti(this.qs),a=this.ti(r),o=[],s=[];return a.forEach(function(e){i.has(e)||o.push(e)}),i.forEach(function(e){a.has(e)||s.push(e)}),this.syncEngine.gi(o,s).then(function(){n.qs=r})}},{key:"Zs",value:function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ti",value:function(e){var t=ho();return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Tc=function(){function e(){_classCallCheck(this,e),this.yi=new Ec,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return _createClass(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.yi.Fs(e),this.pi[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.pi[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.yi.Ms(e)}},{key:"isLocalQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.pi[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.yi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.yi=new Ec,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Ic=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"Ti",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ac=function(){function e(){var t=this;_classCallCheck(this,e),this.Ei=function(){return t.Ii()},this.Ai=function(){return t.Ri()},this.bi=[],this.Pi()}return _createClass(e,[{key:"Ti",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}},{key:"Pi",value:function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}},{key:"Ii",value:function(){Cr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=_createForOfIteratorHelper(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ri",value:function(){Cr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=_createForOfIteratorHelper(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Oc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Dc=function(){function e(t){_classCallCheck(this,e),this.vi=t.vi,this.Vi=t.Vi}return _createClass(e,[{key:"Si",value:function(e){this.Di=e}},{key:"Ci",value:function(e){this.Ni=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Vi()}},{key:"send",value:function(e){this.vi(e)}},{key:"ki",value:function(){this.Di()}},{key:"$i",value:function(e){this.Ni(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Rc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return _createClass(n,[{key:"qi",value:function(e,t,n,r){return new Promise(function(i,a){var o=new vr;o.listenOnce(lr.COMPLETE,function(){try{switch(o.getLastErrorCode()){case cr.NO_ERROR:var t=o.getResponseJson();Cr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case cr.TIMEOUT:Cr("Connection",'RPC "'+e+'" timed out'),a(new Dr(Or.DEADLINE_EXCEEDED,"Request time out"));break;case cr.HTTP_ERROR:var n=o.getStatus();if(Cr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=(u=r.status,c=u.toLowerCase().replace(/_/g,"-"),Object.values(Or).indexOf(c)>=0?c:Or.UNKNOWN);a(new Dr(s,r.message))}else a(new Dr(Or.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Dr(Or.UNAVAILABLE,"Connection failed."));break;default:Sr()}}finally{Cr("Connection",'RPC "'+e+'" completed.')}var u,c});var s=JSON.stringify(r);o.send(t,"POST",s,n,15)})}},{key:"ji",value:function(e,t){var n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=sr(),i=ur(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new dr({})),this.Ui(a.initMessageHeaders,t),(0,u.uI)()||(0,u.b$)()||(0,u.d)()||(0,u.w1)()||(0,u.Mn)()||(0,u.ru)()||(a.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Cr("Connection","Creating WebChannel: "+o,a);var s=r.createWebChannel(o,a),c=!1,l=!1,h=new Dc({vi:function(e){l?Cr("Connection","Not sending because WebChannel is closed:",e):(c||(Cr("Connection","Opening WebChannel transport."),s.open(),c=!0),Cr("Connection","WebChannel sending:",e),s.send(e))},Vi:function(){return s.close()}}),f=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(t){setTimeout(function(){throw t},0)}})};return f(s,pr.EventType.OPEN,function(){l||Cr("Connection","WebChannel transport opened.")}),f(s,pr.EventType.CLOSE,function(){l||(l=!0,Cr("Connection","WebChannel transport closed"),h.$i())}),f(s,pr.EventType.ERROR,function(e){l||(l=!0,xr("Connection","WebChannel transport errored:",e),h.$i(new Dr(Or.UNAVAILABLE,"The operation could not be completed")))}),f(s,pr.EventType.MESSAGE,function(e){var t;if(!l){var n=e.data[0];Tr(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Cr("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ha[e];if(void 0!==t)return Ya(t)}(a),u=i.message;void 0===o&&(o=Or.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,h.$i(new Dr(o,u)),s.close()}else Cr("Connection","WebChannel received:",n),h.Oi(n)}}),f(i,hr.STAT_EVENT,function(e){e.stat===fr.PROXY?Cr("Connection","Detected buffering proxy"):e.stat===fr.NOPROXY&&Cr("Connection","Detected no buffering proxy")}),setTimeout(function(){h.ki()},0),h}}]),n}(function(){function e(t){_classCallCheck(this,e),this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return _createClass(e,[{key:"Li",value:function(e,t,n,r){var i=this.Bi(e,t);Cr("RestConnection","Sending: ",i,n);var a={};return this.Ui(a,r),this.qi(e,i,a,n).then(function(e){return Cr("RestConnection","Received: ",e),e},function(t){throw xr("RestConnection","".concat(e," failed with error: "),t,"url: ",i,"request:",n),t})}},{key:"Ki",value:function(e,t,n,r){return this.Li(e,t,n,r)}},{key:"Ui",value:function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+mr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}},{key:"Bi",value:function(e,t){return"".concat(this.Fi,"/v1/").concat(t,":").concat(Oc[e])}}]),e}());function Pc(){return"undefined"!=typeof window?window:null}function Fc(){return"undefined"!=typeof document?document:null}function Nc(e){return new xo(e,!0)}var Mc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;_classCallCheck(this,e),this.Oe=t,this.timerId=n,this.Qi=r,this.Wi=i,this.Gi=a,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}return _createClass(e,[{key:"reset",value:function(){this.zi=0}},{key:"Yi",value:function(){this.zi=this.Gi}},{key:"Xi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,n-r);i>0&&Cr("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.zi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,function(){return t.Ji=Date.now(),e()}),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}},{key:"tr",value:function(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}},{key:"cancel",value:function(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}},{key:"Zi",value:function(){return(Math.random()-.5)*this.zi}}]),e}(),Lc=function(){function e(t,n,r,i,a,o,s){_classCallCheck(this,e),this.Oe=t,this.er=r,this.nr=i,this.sr=a,this.credentialsProvider=o,this.listener=s,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new Mc(t,n)}return _createClass(e,[{key:"ur",value:function(){return 1===this.state||5===this.state||this.hr()}},{key:"hr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.lr()}},{key:"stop",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.ur(),!t.t0){t.next=4;break}return t.next=4,e.close(0);case 4:case"end":return t.stop()}},t)}))()}},{key:"dr",value:function(){this.state=0,this.ar.reset()}},{key:"wr",value:function(){var e=this;this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,function(){return e._r()}))}},{key:"mr",value:function(e){this.gr(),this.stream.send(e)}},{key:"_r",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.hr()){t.next=2;break}return t.abrupt("return",e.close(0));case 2:case"end":return t.stop()}},t)}))()}},{key:"gr",value:function(){this.rr&&(this.rr.cancel(),this.rr=null)}},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(e,t){var n=this;return(0,i.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.gr(),n.yr(),n.ar.cancel(),n.ir++,4!==e?n.ar.reset():t&&t.code===Or.RESOURCE_EXHAUSTED?(wr(t.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),n.ar.Yi()):t&&t.code===Or.UNAUTHENTICATED&&3!==n.state&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.pr(),n.stream.close(),n.stream=null),n.state=e,r.next=9,n.listener.Ci(t);case 9:case"end":return r.stop()}},r)}))()}},{key:"pr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Tr(this.ir),n=this.ir;this.credentialsProvider.getToken().then(function(t){e.ir===n&&e.Er(t)},function(n){t(function(){var t=new Dr(Or.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ir(t)})})}},{key:"Er",value:function(e){var t=this,n=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(function(){n(function(){return t.state=2,t.cr=t.Oe.enqueueAfterDelay(t.nr,1e4,function(){return t.hr()&&(t.state=3),Promise.resolve()}),t.listener.Si()})}),this.stream.Ci(function(e){n(function(){return t.Ir(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})}},{key:"lr",value:function(){var e=this;this.state=5,this.ar.Xi((0,i.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}},t)})))}},{key:"Ir",value:function(e){return Cr("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Tr",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget(function(){return t.ir===e?n():(Cr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}]),e}(),Uc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o)).N=a,s}return _createClass(n,[{key:"Ar",value:function(e){return this.sr.ji("Listen",e)}},{key:"onMessage",value:function(e){this.ar.reset();var t=function(e,t){var n,r;if("targetChange"in t){var i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Sr(),a=t.targetChange.targetIds||[],o=function(e,t){return e.D?(Tr(void 0===t||"string"==typeof t),ni.fromBase64String(t||"")):(Tr(void 0===t||t instanceof Uint8Array),ni.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,u=s&&function(e){var t=void 0===e.code?Or.UNKNOWN:Ya(e.code);return new Dr(t,e.message||"")}(s);n=new yo(i,a,o,u||null)}else if("documentChange"in t){var c=t.documentChange,l=Ro(e,c.document.name),h=Io(c.document.updateTime),f=new Ii({mapValue:{fields:c.document.fields}}),d=Oi.newFoundDocument(l,h,f);n=new vo(c.targetIds||[],c.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){var p=t.documentDelete,v=Ro(e,p.document),g=p.readTime?Io(p.readTime):Kr.min(),y=Oi.newNoDocument(v,g);n=new vo([],p.removedTargetIds||[],y.key,y)}else if("documentRemove"in t){var m=t.documentRemove,_=Ro(e,m.document);n=new vo([],m.removedTargetIds||[],_,null)}else{if(!("filter"in t))return Sr();var k=t.filter,b=new Wa(k.count||0);n=new go(k.targetId,b)}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return Kr.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Kr.min():t.readTime?Io(t.readTime):Kr.min()}(e);return this.listener.Rr(t,n)}},{key:"br",value:function(e){var t,n,r,i,a={};a.database=No(this.N),a.addTarget=(t=this.N,i=(n=e).target,(r=Ni(i)?{documents:Bo(t,i)}:{query:qo(t,i)}).targetId=n.targetId,n.resumeToken.approximateByteSize()>0?r.resumeToken=So(t,n.resumeToken):n.snapshotVersion.compareTo(Kr.min())>0&&(r.readTime=Eo(t,n.snapshotVersion.toTimestamp())),r);var o=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Sr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(a.labels=o),this.mr(a)}},{key:"Pr",value:function(e){var t={};t.database=No(this.N),t.removeTarget=e,this.mr(t)}}]),n}(Lc),jc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o){var s;return _classCallCheck(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o)).N=a,s.vr=!1,s}return _createClass(n,[{key:"Vr",get:function(){return this.vr}},{key:"start",value:function(){this.vr=!1,this.lastStreamToken=void 0,_get2(_getPrototypeOf(n.prototype),"start",this).call(this)}},{key:"pr",value:function(){this.vr&&this.Sr([])}},{key:"Ar",value:function(e){return this.sr.ji("Write",e)}},{key:"onMessage",value:function(e){if(Tr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();var t=function(e,t){return e&&e.length>0?(Tr(void 0!==t),e.map(function(e){return function(e,t){var n=Io(e.updateTime?e.updateTime:t);return n.isEqual(Kr.min())&&(n=Io(t)),new Oa(n,e.transformResults||[])}(e,t)})):[]}(e.writeResults,e.commitTime),n=Io(e.commitTime);return this.listener.Dr(n,t)}return Tr(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}},{key:"Nr",value:function(){var e={};e.database=No(this.N),this.mr(e)}},{key:"Sr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return jo(t.N,e)})};this.mr(n)}}]),n}(Lc),Vc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this)).credentials=e,a.sr=r,a.N=i,a.kr=!1,a}return _createClass(n,[{key:"$r",value:function(){if(this.kr)throw new Dr(Or.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Li",value:function(e,t,n){var r=this;return this.$r(),this.credentials.getToken().then(function(i){return r.sr.Li(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===Or.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Dr(Or.UNKNOWN,e.toString())})}},{key:"Ki",value:function(e,t,n){var r=this;return this.$r(),this.credentials.getToken().then(function(i){return r.sr.Ki(e,t,n,i)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===Or.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Dr(Or.UNKNOWN,e.toString())})}},{key:"terminate",value:function(){this.kr=!0}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Bc=function(){function e(t,n){_classCallCheck(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}return _createClass(e,[{key:"Lr",value:function(){var e=this;0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Fr=null,e.Ur("Backend didn't respond within 10 seconds."),e.Br("Offline"),Promise.resolve()}))}},{key:"qr",value:function(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Br("Offline")))}},{key:"set",value:function(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}},{key:"Br",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Ur",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Mr?(wr(t),this.Mr=!1):Cr("OnlineStateTracker",t)}},{key:"Kr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),qc=function e(t,n,r,a,o){_classCallCheck(this,e);var s=this;this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=o,this.zr.Ti(function(e){r.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Xc(s),!e.t0){e.next=5;break}return Cr("RemoteStore","Restarting streams for network reachability change."),e.next=5,(t=(0,i.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ar(t)).Wr.add(4),e.next=4,Zc(n);case 4:return n.Hr.set("Unknown"),n.Wr.delete(4),e.next=8,zc(n);case 8:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})(s);case 5:case"end":return e.stop()}},e)})))}),this.Hr=new Bc(r,a)};function zc(e){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,i.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xc(t)){e.next=18;break}n=_createForOfIteratorHelper(t.Gr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}))).apply(this,arguments)}function Zc(e){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,i.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=_createForOfIteratorHelper(t.Gr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}))).apply(this,arguments)}function Gc(e,t){var n=Ar(e);n.Qr.has(t.targetId)||(n.Qr.set(t.targetId,t),$c(n)?Jc(n):Sl(n).hr()&&Qc(n,t))}function Wc(e,t){var n=Ar(e),r=Sl(n);n.Qr.delete(t),r.hr()&&Yc(n,t),0===n.Qr.size&&(r.hr()?r.wr():Xc(n)&&n.Hr.set("Unknown"))}function Qc(e,t){e.Jr.Y(t.targetId),Sl(e).br(t)}function Yc(e,t){e.Jr.Y(t),Sl(e).Pr(t)}function Jc(e){e.Jr=new _o({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.Qr.get(t)||null}}),Sl(e).start(),e.Hr.Lr()}function $c(e){return Xc(e)&&!Sl(e).ur()&&e.Qr.size>0}function Xc(e){return 0===Ar(e).Wr.size}function el(e){e.Jr=void 0}function tl(e){return nl.apply(this,arguments)}function nl(){return(nl=(0,i.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.Qr.forEach(function(e,n){Qc(t,e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rl(e,t){return il.apply(this,arguments)}function il(){return(il=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:el(t),$c(t)?(t.Hr.qr(n),Jc(t)):t.Hr.set("Unknown");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function al(e,t,n){return ol.apply(this,arguments)}function ol(){return(ol=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Hr.set("Online"),!(n instanceof yo&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,(o=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=_createForOfIteratorHelper(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Qr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Qr.delete(o),t.Jr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[2,16,19,22]])})),function(e,t){return o.apply(this,arguments)})(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Cr("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,sl(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof vo?t.Jr.rt(n):n instanceof go?t.Jr.ft(n):t.Jr.at(n),r.isEqual(Kr.min())){e.next=29;break}return e.prev=14,e.next=17,Wu(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Jr._t(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Qr.get(r);i&&e.Qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.Qr.get(t);if(n){e.Qr.set(t,n.withResumeToken(ni.EMPTY_BYTE_STRING,n.snapshotVersion)),Yc(e,t);var r=new Us(n.target,t,1,n.sequenceNumber);Qc(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),Cr("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,sl(t,e.t2);case 29:case"end":return e.stop()}},e,null,[[1,6],[14,24]])}))).apply(this,arguments)}function sl(e,t,n){return ul.apply(this,arguments)}function ul(){return(ul=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(As(n)){e.next=2;break}throw n;case 2:return t.Wr.add(1),e.next=5,Zc(t);case 5:t.Hr.set("Offline"),r||(r=function(){return Wu(t.localStore)}),t.asyncQueue.enqueueRetryable((0,i.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Cr("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Wr.delete(1),e.next=6,zc(t);case 6:case"end":return e.stop()}},e)})));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function cl(e,t){return t().catch(function(n){return sl(e,n,t)})}function ll(e){return hl.apply(this,arguments)}function hl(){return(hl=(0,i.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Ar(t),r=Tl(n),i=n.jr.length>0?n.jr[n.jr.length-1].batchId:-1;case 2:if(!fl(n)){e.next=19;break}return e.prev=3,e.next=6,Ju(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.jr.length&&r.wr(),e.abrupt("break",19);case 10:i=a.batchId,dl(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,sl(n,e.t0);case 17:e.next=2;break;case 19:pl(n)&&vl(n);case 20:case"end":return e.stop()}},e,null,[[3,13]])}))).apply(this,arguments)}function fl(e){return Xc(e)&&e.jr.length<10}function dl(e,t){e.jr.push(t);var n=Tl(e);n.hr()&&n.Vr&&n.Sr(t.mutations)}function pl(e){return Xc(e)&&!Tl(e).ur()&&e.jr.length>0}function vl(e){Tl(e).start()}function gl(e){return yl.apply(this,arguments)}function yl(){return(yl=(0,i.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Tl(t).Nr();case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ml(e){return _l.apply(this,arguments)}function _l(){return(_l=(0,i.Z)(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Tl(t),r=_createForOfIteratorHelper(t.jr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Sr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function kl(e,t,n){return bl.apply(this,arguments)}function bl(){return(bl=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.jr.shift(),a=Ls.from(i,n,r),e.next=3,cl(t,function(){return t.remoteSyncer.applySuccessfulWrite(a)});case 3:return e.next=5,ll(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Cl(e,t){return wl.apply(this,arguments)}function wl(){return(wl=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Tl(t).Vr,!e.t0){e.next=4;break}return e.next=4,(r=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qa(i=n.code)||i===Or.ABORTED){e.next=7;break}return r=t.jr.shift(),Tl(t).dr(),e.next=5,cl(t,function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)});case 5:return e.next=7,ll(t);case 7:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})(t,n);case 4:pl(t)&&vl(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function xl(e,t){return El.apply(this,arguments)}function El(){return(El=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ar(t),!n){e.next=7;break}return r.Wr.delete(2),e.next=5,zc(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Wr.add(2),e.next=12,Zc(r);case 12:r.Hr.set("Unknown");case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Sl(e){return e.Yr||(e.Yr=(t=e.datastore,n=e.asyncQueue,r={Si:tl.bind(null,e),Ci:rl.bind(null,e),Rr:al.bind(null,e)},(a=Ar(t)).$r(),new Uc(n,a.sr,a.credentials,a.N,r)),e.Gr.push(function(){var t=(0,i.Z)(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Yr.dr(),$c(e)?Jc(e):e.Hr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Yr.stop();case 6:el(e);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.Yr;var t,n,r,a}function Tl(e){return e.Xr||(e.Xr=(t=e.datastore,n=e.asyncQueue,r={Si:gl.bind(null,e),Ci:Cl.bind(null,e),Cr:ml.bind(null,e),Dr:kl.bind(null,e)},(a=Ar(t)).$r(),new jc(n,a.sr,a.credentials,a.N,r)),e.Gr.push(function(){var t=(0,i.Z)(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Xr.dr(),t.next=4,ll(e);case 4:t.next=9;break;case 6:return t.next=8,e.Xr.stop();case 8:e.jr.length>0&&(Cr("RemoteStore","Stopping write stream with ".concat(e.jr.length," pending writes")),e.jr=[]);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.Xr;var t,n,r,a}var Il=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return _createClass(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dr(Or.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)})}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Al(e,t){if(wr("AsyncQueue","".concat(t,": ").concat(e)),As(e))return new Dr(Or.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ol=function(){function e(t){_classCallCheck(this,e),this.comparator=t?function(e,n){return t(e,n)||di.comparator(e.key,n.key)}:function(e,t){return di.comparator(e.key,t.key)},this.keyedMap=ao(),this.sortedSet=new Ja(this.comparator)}return _createClass(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Dl=function(){function e(){_classCallCheck(this,e),this.Zr=new Ja(di.comparator)}return _createClass(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Zr.get(t);n?0!==e.type&&3===n.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==n.type?this.Zr=this.Zr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Zr=this.Zr.remove(t):1===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):Sr():this.Zr=this.Zr.insert(t,e)}},{key:"eo",value:function(){var e=[];return this.Zr.inorderTraversal(function(t,n){e.push(n)}),e}}]),e}(),Rl=function(){function e(t,n,r,i,a,o,s,u){_classCallCheck(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return _createClass(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ua(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach(function(e){a.push({type:0,doc:e})}),new e(t,n,Ol.emptySet(n),a,r,i,!0,!1)}}]),e}(),Pl=function e(){_classCallCheck(this,e),this.no=void 0,this.listeners=[]},Fl=function e(){_classCallCheck(this,e),this.queries=new Eu(function(e){return ca(e)},ua),this.onlineState="Unknown",this.so=new Set};function Nl(e,t){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ar(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Pl),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.no=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Al(e.t0,"Initialization of query '".concat(la(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.io(r.onlineState),o.no&&n.ro(o.no)&&Bl(r);case 14:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function Ll(e,t){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ar(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function jl(e,t){var n,r=Ar(e),i=!1,a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=r.queries.get(o.query);if(s){var u,c=_createForOfIteratorHelper(s.listeners);try{for(c.s();!(u=c.n()).done;){u.value.ro(o)&&(i=!0)}}catch(l){c.e(l)}finally{c.f()}s.no=o}}}catch(l){a.e(l)}finally{a.f()}i&&Bl(r)}function Vl(e,t,n){var r=Ar(e),i=r.queries.get(t);if(i){var a,o=_createForOfIteratorHelper(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Bl(e){e.so.forEach(function(e){e.next()})}var ql=function(){function e(t,n,r){_classCallCheck(this,e),this.query=t,this.oo=n,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}return _createClass(e,[{key:"ro",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=_createForOfIteratorHelper(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Rl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.uo(e)&&(this.oo.next(e),a=!0):this.ho(e,this.onlineState)&&(this.lo(e),a=!0),this.ao=e,a}},{key:"onError",value:function(e){this.oo.error(e)}},{key:"io",value:function(e){this.onlineState=e;var t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}},{key:"ho",value:function(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}},{key:"uo",value:function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}},{key:"lo",value:function(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}]),e}(),zl=function(){function e(t,n){_classCallCheck(this,e),this.payload=t,this.byteLength=n}return _createClass(e,[{key:"wo",value:function(){return"metadata"in this.payload}}]),e}(),Hl=function(){function e(t){_classCallCheck(this,e),this.N=t}return _createClass(e,[{key:"zn",value:function(e){return Ro(this.N,e)}},{key:"Hn",value:function(e){return e.metadata.exists?Uo(this.N,e.document,!1):Oi.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}},{key:"Jn",value:function(e){return Io(e)}}]),e}(),Zl=function(){function e(t,n,r){_classCallCheck(this,e),this._o=t,this.localStore=n,this.N=r,this.queries=[],this.documents=[],this.progress=Kl(t)}return _createClass(e,[{key:"mo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"yo",value:function(e){var t,n=new Map,r=new Hl(this.N),i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.zn(a.metadata.name),u=_createForOfIteratorHelper(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||co()).add(s);n.set(c,l)}}catch(h){u.e(h)}finally{u.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){var n,r,i,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(e,t,n,r){return ac.apply(this,arguments)}(e.localStore,new Hl(e.N),e.documents,e._o.id);case 2:n=t.sent,r=e.yo(e.documents),i=_createForOfIteratorHelper(e.queries),t.prev=5,i.s();case 7:if((a=i.n()).done){t.next=13;break}return o=a.value,t.next=11,oc(e.localStore,o,r.get(o.name));case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),i.e(t.t0);case 18:return t.prev=18,i.f(),t.finish(18);case 21:return t.abrupt("return",(e.progress.taskState="Success",new ju(Object.assign({},e.progress),n)));case 22:case"end":return t.stop()}},t,null,[[5,15,18,21]])}))()}}]),e}();function Kl(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Gl=function e(t){_classCallCheck(this,e),this.key=t},Wl=function e(t){_classCallCheck(this,e),this.key=t},Ql=function(){function e(t,n){_classCallCheck(this,e),this.query=t,this.po=n,this.To=null,this.current=!1,this.Eo=co(),this.mutatedKeys=co(),this.Io=fa(t),this.Ao=new Ol(this.Io)}return _createClass(e,[{key:"Ro",get:function(){return this.po}},{key:"bo",value:function(e,t){var n=this,r=t?t.Po:new Dl,i=t?t.Ao:this.Ao,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=ea(this.query)&&i.size===this.query.limit?i.last():null,c=ta(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var l=i.get(e),h=ha(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.vo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Io(h,u)>0||c&&n.Io(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))}),ea(this.query)||ta(this.query))for(;o.size>this.query.limit;){var l=ea(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ao:o,Po:r,Ln:s,mutatedKeys:a}}},{key:"vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;var a=e.Po.eo();a.sort(function(e,t){return n=e.type,i=t.type,(a=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Sr()}})(n)-a(i)||r.Io(e.doc,t.doc);var n,i,a}),this.Vo(n);var o=t?this.So():[],s=0===this.Eo.size&&this.current?1:0,u=s!==this.To;return this.To=s,0!==a.length||u?{snapshot:new Rl(this.query,e.Ao,i,a,e.mutatedKeys,0===s,u,!1),Do:o}:{Do:o}}},{key:"io",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new Dl,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}},{key:"Co",value:function(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}},{key:"Vo",value:function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.po=t.po.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.po=t.po.delete(e)}),this.current=e.current)}},{key:"So",value:function(){var e=this;if(!this.current)return[];var t=this.Eo;this.Eo=co(),this.Ao.forEach(function(t){e.Co(t.key)&&(e.Eo=e.Eo.add(t.key))});var n=[];return t.forEach(function(t){e.Eo.has(t)||n.push(new Wl(t))}),this.Eo.forEach(function(e){t.has(e)||n.push(new Gl(e))}),n}},{key:"No",value:function(e){this.po=e.Gn,this.Eo=co();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Rl.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}]),e}(),Yl=function e(t,n,r){_classCallCheck(this,e),this.query=t,this.targetId=n,this.view=r},Jl=function e(t){_classCallCheck(this,e),this.key=t,this.ko=!1},$l=function(){function e(t,n,r,i,a,o){_classCallCheck(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.$o={},this.Oo=new Eu(function(e){return ca(e)},ua),this.Fo=new Map,this.Mo=new Set,this.Lo=new Ja(di.comparator),this.Bo=new Map,this.Uo=new cc,this.qo={},this.Ko=new Map,this.jo=fu.ie(),this.onlineState="Unknown",this.Qo=void 0}return _createClass(e,[{key:"isPrimaryClient",get:function(){return!0===this.Qo}}]),e}();function Xl(e,t){return eh.apply(this,arguments)}function eh(){return(eh=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zh(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,$u(r.localStore,oa(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,th(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&Gc(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function th(e,t,n,r){return nh.apply(this,arguments)}function nh(){return(nh=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r,a){var o,s,u,c,l,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.Wo=function(e,n,r){return(a=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Ln,!e.t0){e.next=6;break}return e.next=5,tc(t.localStore,n.query,!1).then(function(e){var t=e.documents;return n.view.bo(t,a)});case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(kh(t,n.targetId,s.Do),s.snapshot));case 8:case"end":return e.stop()}},e)})),function(e,t,n,r){return a.apply(this,arguments)})(t,e,n,r);var a},e.next=3,tc(t.localStore,n,!0);case 3:return o=e.sent,s=new Ql(n,o.Gn),u=s.bo(o.documents),c=po.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==t.onlineState),l=s.applyChanges(u,t.isPrimaryClient,c),kh(t,r,l.Do),h=new Yl(n,r,s),e.abrupt("return",(t.Oo.set(n,h),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rh(e,t){return ih.apply(this,arguments)}function ih(){return(ih=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ar(t),i=r.Oo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter(function(e){return!ua(e,n)})),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Xu(r.localStore,i.targetId,!1).then(function(){r.sharedClientState.clearQueryState(i.targetId),Wc(r.remoteStore,i.targetId),mh(r,i.targetId)}).catch(yu);case 9:e.next=14;break;case 11:return mh(r,i.targetId),e.next=14,Xu(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ah(){return(ah=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hh(t),e.prev=1,e.next=4,function(e,t){var n,r=Ar(e),i=Zr.now(),a=t.reduce(function(e,t){return e.add(t.key)},co());return r.persistence.runTransaction("Locally write mutations","readwrite",function(e){return r.Qn.Pn(e,a).next(function(a){n=a;var o,s=[],u=_createForOfIteratorHelper(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Ma(c,n.get(c.key));null!=l&&s.push(new Va(c.key,l,Ai(l.value.mapValue),Da.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return r.In.addMutationBatch(e,i,s,t)})}).then(function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}})}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.qo[e.currentUser.toKey()];r||(r=new Ja(qr)),r=r.insert(t,n),e.qo[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,wh(i,a.changes);case 9:return e.next=11,ll(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Al(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}},e,null,[[1,13]])}))).apply(this,arguments)}function oh(e,t){return sh.apply(this,arguments)}function sh(){return(sh=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ar(t),e.prev=1,e.next=4,Qu(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach(function(e,t){var n=r.Bo.get(t);n&&(Tr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ko=!0:e.modifiedDocuments.size>0?Tr(n.ko):e.removedDocuments.size>0&&(Tr(n.ko),n.ko=!1))}),e.next=8,wh(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,yu(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function uh(e,t,n){var r=Ar(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach(function(e,n){var r=n.view.io(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=Ar(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){var i,a=_createForOfIteratorHelper(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.io(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}}),r&&Bl(n)}(r.eventManager,t),i.length&&r.$o.Rr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ch(e,t,n){return lh.apply(this,arguments)}function lh(){return(lh=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ar(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Bo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Ja(di.comparator)).insert(o,Oi.newNoDocument(o,Kr.min())),u=co().add(o),c=new fo(Kr.min(),new Map,new eo(qr),s,u),e.next=9,oh(i,c);case 9:i.Lo=i.Lo.remove(o),i.Bo.delete(n),Ch(i),e.next=16;break;case 14:return e.next=16,Xu(i.localStore,n,!1).then(function(){return mh(i,n,r)}).catch(yu);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function hh(e,t){return fh.apply(this,arguments)}function fh(){return(fh=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ar(t),i=n.batch.batchId,e.prev=1,e.next=4,Gu(r.localStore,n);case 4:return a=e.sent,yh(r,i,null),gh(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,wh(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yu(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function dh(e,t,n){return ph.apply(this,arguments)}function ph(){return(ph=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ar(t),e.prev=1,e.next=4,function(e,t){var n=Ar(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(e){var r;return n.In.lookupMutationBatch(e,t).next(function(t){return Tr(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)}).next(function(){return n.In.performConsistencyCheck(e)}).next(function(){return n.Qn.Pn(e,r)})})}(i.localStore,n);case 4:return a=e.sent,yh(i,n,r),gh(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,wh(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yu(e.t0);case 16:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}function vh(){return(vh=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Xc((r=Ar(t)).remoteStore)||Cr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ar(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.In.getHighestUnacknowledgedBatchId(e)})}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ko.get(i)||[]).push(n),r.Ko.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Al(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}},e,null,[[2,12]])}))).apply(this,arguments)}function gh(e,t){(e.Ko.get(t)||[]).forEach(function(e){e.resolve()}),e.Ko.delete(t)}function yh(e,t,n){var r=Ar(e),i=r.qo[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.qo[r.currentUser.toKey()]=i}}function mh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=_createForOfIteratorHelper(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.$o.Go(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.Uo.cs(t).forEach(function(t){e.Uo.containsKey(t)||_h(e,t)})}function _h(e,t){e.Mo.delete(t.path.canonicalString());var n=e.Lo.get(t);null!==n&&(Wc(e.remoteStore,n),e.Lo=e.Lo.remove(t),e.Bo.delete(n),Ch(e))}function kh(e,t,n){var r,i=_createForOfIteratorHelper(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Gl?(e.Uo.addReference(a.key,t),bh(e,a)):a instanceof Wl?(Cr("SyncEngine","Document no longer in limbo: "+a.key),e.Uo.removeReference(a.key,t),e.Uo.containsKey(a.key)||_h(e,a.key)):Sr()}}catch(o){i.e(o)}finally{i.f()}}function bh(e,t){var n=t.key,r=n.path.canonicalString();e.Lo.get(n)||e.Mo.has(r)||(Cr("SyncEngine","New document in limbo: "+n),e.Mo.add(r),Ch(e))}function Ch(e){for(;e.Mo.size>0&&e.Lo.size<e.maxConcurrentLimboResolutions;){var t=e.Mo.values().next().value;e.Mo.delete(t);var n=new di(Jr.fromString(t)),r=e.jo.next();e.Bo.set(r,new Jl(n)),e.Lo=e.Lo.insert(n,r),Gc(e.remoteStore,new Us(oa(Xi(n.path)),r,2,jr.T))}}function wh(e,t,n){return xh.apply(this,arguments)}function xh(){return(xh=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r){var a,o,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Ar(t),o=[],s=[],u=[],e.t0=a.Oo.isEmpty(),e.t0){e.next=9;break}return a.Oo.forEach(function(e,t){u.push(a.Wo(t,n,r).then(function(e){if(e){a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),o.push(e);var n=Bu.kn(t.targetId,e);s.push(n)}}))}),e.next=6,Promise.all(u);case 6:return a.$o.Rr(o),e.next=9,(c=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ar(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return xs.forEach(n,function(t){return xs.forEach(t.Nn,function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)}).next(function(){return xs.forEach(t.xn,function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)})})})});case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),As(e.t0)){e.next=10;break}throw e.t0;case 10:Cr("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=_createForOfIteratorHelper(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Un.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),r.Un=r.Un.insert(s,c))}catch(l){i.e(l)}finally{i.f()}case 13:case"end":return e.stop()}},e,null,[[1,6]])})),function(e,t){return c.apply(this,arguments)})(a.localStore,s);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Eh(e,t){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ar(t)).currentUser.isEqual(n)){e.next=12;break}return Cr("SyncEngine","User change. New user:",n.toKey()),e.next=5,Zu(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,(a=r).Ko.forEach(function(e){e.forEach(function(e){e.reject(new Dr(Or.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ko.clear(),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=12,wh(r,i.Wn);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Th(e,t){var n=Ar(e),r=n.Bo.get(t);if(r&&r.ko)return co().add(r.key);var i=co(),a=n.Fo.get(t);if(!a)return i;var o,s=_createForOfIteratorHelper(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Oo.get(u);i=i.unionWith(c.view.Ro)}}catch(l){s.e(l)}finally{s.f()}return i}function Ih(e,t){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ar(t),e.next=3,tc(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.No(i),e.abrupt("return",(r.isPrimaryClient&&kh(r,n.targetId,a.Do),a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Oh(e){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,i.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar(t),e.abrupt("return",rc(n.localStore).then(function(e){return wh(n,e)}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Rh(e,t,n,r){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ar(t),e.next=3,function(e,t){var n=Ar(e),r=Ar(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return r.Xt(e,t).next(function(t){return t?n.Qn.Pn(e,t):xs.resolve(null)})})}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ll(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(yh(a,n,i||null),gh(a,n),s=n,Ar(Ar(a.localStore).In).te(s)):Sr();case 11:return e.next=13,wh(a,o);case 13:e.next=16;break;case 15:Cr("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Fh(){return(Fh=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,u,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(zh(r=Ar(t)),Hh(r),!0!==n||!0===r.Qo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Nh(r,i.toArray());case 5:return a=e.sent,r.Qo=!0,e.next=9,xl(r.remoteStore,!0);case 9:o=_createForOfIteratorHelper(a);try{for(o.s();!(s=o.n()).done;)u=s.value,Gc(r.remoteStore,u)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Qo){e.next=25;break}return c=[],l=Promise.resolve(),r.Fo.forEach(function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then(function(){return mh(r,t),Xu(r.localStore,t,!0)}),Wc(r.remoteStore,t)}),e.next=19,l;case 19:return e.next=21,Nh(r,c);case 21:return function(e){var t=Ar(e);t.Bo.forEach(function(e,n){Wc(t.remoteStore,n)}),t.Uo.us(),t.Bo=new Map,t.Lo=new Ja(di.comparator)}(r),r.Qo=!1,e.next=25,xl(r.remoteStore,!1);case 25:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nh(e,t,n){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,u,c,l,h,f,d,p,v,g,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=Ar(t),a=[],o=[],s=_createForOfIteratorHelper(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(h=i.Fo.get(c))||0===h.length){e.next=34;break}return e.next=11,$u(i.localStore,oa(h[0]));case 11:l=e.sent,f=_createForOfIteratorHelper(h),e.prev=13,f.s();case 15:if((d=f.n()).done){e.next=24;break}return p=d.value,v=i.Oo.get(p),e.next=20,Ih(i,v);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,nc(i.localStore,c);case 36:return y=e.sent,e.next=39,$u(i.localStore,y);case 39:return l=e.sent,e.next=42,th(i,Lh(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.$o.Rr(o),a));case 54:case"end":return e.stop()}},e,null,[[2,47,50,53],[13,26,29,32]])}))).apply(this,arguments)}function Lh(e){return $i(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Uh(e){var t=Ar(e);return Ar(Ar(t.localStore).persistence).pn()}function jh(e,t,n,r){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r,i){var a,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ar(t)).Qo){e.next=5;break}Cr("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,rc(a.localStore);case 11:return o=e.sent,s=fo.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,wh(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,Xu(a.localStore,n,!0);case 18:return mh(a,n,i),e.abrupt("break",21);case 20:Sr();case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Bh(e,t,n){return qh.apply(this,arguments)}function qh(){return(qh=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,u,c,l,h,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=zh(t)).Qo){e.next=45;break}a=_createForOfIteratorHelper(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Fo.has(s)){e.next=10;break}return Cr("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,nc(i.localStore,s);case 12:return u=e.sent,e.next=15,$u(i.localStore,u);case 15:return c=e.sent,e.next=18,th(i,Lh(u),c.targetId,!1);case 18:Gc(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=_createForOfIteratorHelper(r),e.prev=30,f=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,Xu(i.localStore,t,!1).then(function(){Wc(i.remoteStore,t),mh(i,t)}).catch(yu);case 5:case"end":return e.stop()}},e)}),l.s();case 33:if((h=l.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}},e,null,[[3,23,26,29],[30,39,42,45]])}))).apply(this,arguments)}function zh(e){var t=Ar(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=oh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Th.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ch.bind(null,t),t.$o.Rr=jl.bind(null,t.eventManager),t.$o.Go=Vl.bind(null,t.eventManager),t}function Hh(e){var t=Ar(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dh.bind(null,t),t}var Zh=function(){function e(){_classCallCheck(this,e),this.synchronizeTabs=!1}return _createClass(e,[{key:"initialize",value:function(e){var t=this;return(0,i.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.N=Nc(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),n.next=5,t.persistence.start();case 5:t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e);case 7:case"end":return n.stop()}},n)}))()}},{key:"Yo",value:function(e){return null}},{key:"Xo",value:function(e){return Hu(this.persistence,new qu,e.initialUser,this.N)}},{key:"Jo",value:function(e){return new vc(yc.Ns,this.N)}},{key:"Ho",value:function(e){return new Tc}},{key:"terminate",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.gcScheduler&&e.gcScheduler.stop(),t.next=3,e.sharedClientState.shutdown();case 3:return t.next=5,e.persistence.shutdown();case 5:case"end":return t.stop()}},t)}))()}}]),e}(),Kh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this)).Zo=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return _createClass(n,[{key:"initialize",value:function(e){var t=this,r=this;return(0,i.Z)(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,_get2(_getPrototypeOf(n.prototype),"initialize",t).call(r,e);case 2:return i.next=4,function(e){return ic.apply(this,arguments)}(r.localStore);case 4:return i.next=6,r.Zo.initialize(r,e);case 6:return i.next=8,Hh(r.Zo.syncEngine);case 8:return i.next=10,ll(r.Zo.remoteStore);case 10:return i.next=12,r.persistence.nn(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()});case 12:case"end":return i.stop()}},i)}))()}},{key:"Xo",value:function(e){return Hu(this.persistence,new qu,e.initialUser,this.N)}},{key:"Yo",value:function(e){return new bu(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}},{key:"Jo",value:function(e){var t=Uu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?iu.withCacheSize(this.cacheSizeBytes):iu.DEFAULT;return new Nu(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Pc(),Fc(),this.N,this.sharedClientState,!!this.forceOwnership)}},{key:"Ho",value:function(e){return new Tc}}]),n}(Zh),Gh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r,!1)).Zo=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return _createClass(n,[{key:"initialize",value:function(e){var t=this,r=this;return(0,i.Z)(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_get2(_getPrototypeOf(n.prototype),"initialize",t).call(r,e);case 2:if(o=r.Zo.syncEngine,a.t0=r.sharedClientState instanceof Sc,!a.t0){a.next=8;break}return r.sharedClientState.syncEngine={_i:Rh.bind(null,o),mi:jh.bind(null,o),gi:Bh.bind(null,o),pn:Uh.bind(null,o),wi:Oh.bind(null,o)},a.next=8,r.sharedClientState.start();case 8:return a.next=10,r.persistence.nn(function(){var e=(0,i.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(e,t){return Fh.apply(this,arguments)}(r.Zo.syncEngine,t);case 2:r.gcScheduler&&(t&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):t||r.gcScheduler.stop());case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return a.stop()}},a)}))()}},{key:"Ho",value:function(e){var t=Pc();if(!Sc.bt(t))throw new Dr(Or.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Uu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Sc(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Kh),Wh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"initialize",value:function(e,t){var n=this;return(0,i.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=n.localStore,r.t0){r.next=12;break}return n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=function(e){return uh(n.syncEngine,e,1)},n.remoteStore.remoteSyncer.handleCredentialChange=Eh.bind(null,n.syncEngine),r.next=12,xl(n.remoteStore,n.syncEngine.isPrimaryClient);case 12:case"end":return r.stop()}},r)}))()}},{key:"createEventManager",value:function(e){return new Fl}},{key:"createDatastore",value:function(e){var t=Nc(e.databaseInfo.databaseId),n=new Rc(e.databaseInfo);return new Vc(e.credentials,n,t)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return uh(o.syncEngine,e,0)},a=Ac.bt()?new Ac:new Ic,new qc(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return n=this.localStore,r=this.remoteStore,i=this.eventManager,a=this.sharedClientState,o=e.initialUser,s=e.maxConcurrentLimboResolutions,u=t,c=new $l(n,r,i,a,o,s),u&&(c.Qo=!0),c;var n,r,i,a,o,s,u,c}},{key:"terminate",value:function(){return(e=(0,i.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ar(t),Cr("RemoteStore","RemoteStore shutting down."),n.Wr.add(5),e.next=5,Zc(n);case 5:n.zr.shutdown(),n.Hr.set("Unknown");case 7:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}]),e}();function Qh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return(0,i.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}},r)}))()},cancel:function(){return(0,i.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Yh=function(){function e(t){_classCallCheck(this,e),this.observer=t,this.muted=!1}return _createClass(e,[{key:"next",value:function(e){this.observer.next&&this.tc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"ec",value:function(){this.muted=!0}},{key:"tc",value:function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)}}]),e}(),Jh=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.nc=t,this.N=n,this.metadata=new Rr,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(function(e){e&&e.wo()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))},function(e){return r.metadata.reject(e)})}return _createClass(e,[{key:"close",value:function(){return this.nc.cancel()}},{key:"getMetadata",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.metadata.promise);case 1:case"end":return t.stop()}},t)}))()}},{key:"zo",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getMetadata();case 2:return t.abrupt("return",e.ic());case 3:case"end":return t.stop()}},t)}))()}},{key:"ic",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){var n,r,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.rc();case 2:if(null!==(n=t.sent)){t.next=5;break}return t.abrupt("return",null);case 5:return r=e.sc.decode(n),i=Number(r),isNaN(i)&&e.oc("length string (".concat(r,") is not valid number")),t.next=9,e.cc(i);case 9:return a=t.sent,t.abrupt("return",new zl(JSON.parse(a),n.length+i));case 11:case"end":return t.stop()}},t)}))()}},{key:"ac",value:function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})}},{key:"rc",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.ac()<0,!t.t0){t.next=5;break}return t.next=4,e.uc();case 4:t.t0=!t.sent;case 5:if(!t.t0){t.next=9;break}case 7:t.next=0;break;case 9:if(0!==e.buffer.length){t.next=11;break}return t.abrupt("return",null);case 11:return(n=e.ac())<0&&e.oc("Reached the end of bundle when a length string is expected."),r=e.buffer.slice(0,n),t.abrupt("return",(e.buffer=e.buffer.slice(n),r));case 15:case"end":return t.stop()}},t)}))()}},{key:"cc",value:function(e){var t=this;return(0,i.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.buffer.length<e)){n.next=8;break}return n.next=3,t.uc();case 3:if(n.t0=n.sent,!n.t0){n.next=6;break}t.oc("Reached the end of bundle when more is expected.");case 6:n.next=0;break;case 8:return r=t.sc.decode(t.buffer.slice(0,e)),n.abrupt("return",(t.buffer=t.buffer.slice(e),r));case 10:case"end":return n.stop()}},n)}))()}},{key:"oc",value:function(e){throw this.nc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"uc",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.nc.read();case 2:return(n=t.sent).done||((r=new Uint8Array(e.buffer.length+n.value.length)).set(e.buffer),r.set(n.value,e.buffer.length),e.buffer=r),t.abrupt("return",n.done);case 5:case"end":return t.stop()}},t)}))()}}]),e}(),$h=function(){function e(t){_classCallCheck(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return _createClass(e,[{key:"lookup",value:function(e){var t=this;return(0,i.Z)(regeneratorRuntime.mark(function n(){var r,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.ensureCommitNotCalled(),!(t.mutations.length>0)){n.next=2;break}throw new Dr(Or.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return n.next=4,(a=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ar(t),i=No(r.N)+"/documents",a={documents:n.map(function(e){return Do(r.N,e)})},e.next=5,r.Ki("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach(function(e){var t=function(e,t){return"found"in t?function(e,t){Tr(!!t.found);var n=Ro(e,t.found.name),r=Io(t.found.updateTime),i=new Ii({mapValue:{fields:t.found.fields}});return Oi.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Tr(!!t.missing),Tr(!!t.readTime);var n=Ro(e,t.missing),r=Io(t.readTime);return Oi.newNoDocument(n,r)}(e,t):Sr()}(r.N,e);s.set(t.key.toString(),t)}),u=[],e.abrupt("return",(n.forEach(function(e){var t=s.get(e.toString());Tr(!!t),u.push(t)}),u));case 10:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)})(t.datastore,e);case 4:return r=n.sent,n.abrupt("return",(r.forEach(function(e){return t.recordVersion(e)}),r));case 6:case"end":return n.stop()}},n)}))()}},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ka(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ensureCommitNotCalled(),!e.lastWriteError){t.next=2;break}throw e.lastWriteError;case 2:return n=e.readVersions,e.mutations.forEach(function(e){n.delete(e.key.toString())}),n.forEach(function(t,n){var r=di.fromPath(n);e.mutations.push(new Ga(r,e.precondition(r)))}),t.next=7,(r=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ar(t),i=No(r.N)+"/documents",a={writes:n.map(function(e){return jo(r.N,e)})},e.next=3,r.Li("Commit",i,a);case 3:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})(e.datastore,e.mutations);case 7:e.committed=!0;case 8:case"end":return t.stop()}},t)}))()}},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Sr();t=Kr.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Dr(Or.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Da.updateTime(t):Da.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Kr.min()))throw new Dr(Or.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Da.updateTime(t)}return Da.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Xh=function(){function e(t,n,r,i){_classCallCheck(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.hc=5,this.ar=new Mc(this.asyncQueue,"transaction_retry")}return _createClass(e,[{key:"run",value:function(){this.hc-=1,this.lc()}},{key:"lc",value:function(){var e=this;this.ar.Xi((0,i.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=new $h(e.datastore),(r=e.fc(n))&&r.then(function(t){e.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){e.deferred.resolve(t)}).catch(function(t){e.dc(t)})})}).catch(function(t){e.dc(t)});case 2:case"end":return t.stop()}},t)})))}},{key:"fc",value:function(e){try{var t=this.updateFunction(e);return!li(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}},{key:"dc",value:function(e){var t=this;this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(function(){return t.lc(),Promise.resolve()})):this.deferred.reject(e)}},{key:"wc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Qa(t)}return!1}}]),e}(),ef=function(){function e(t,n,r){_classCallCheck(this,e);var a,o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=yr.UNAUTHENTICATED,this.clientId=Br.I(),this.credentialListener=function(){return Promise.resolve()},this.credentials.start(n,(a=(0,i.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Cr("FirestoreClient","Received user=",t.uid),e.next=3,o.credentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}))}return _createClass(e,[{key:"getConfiguration",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100});case 1:case"end":return t.stop()}},t)}))()}},{key:"setCredentialChangeListener",value:function(e){this.credentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Dr(Or.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,i.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.credentials.shutdown(),t.resolve(),n.next=17;break;case 13:n.prev=13,n.t2=n.catch(0),r=Al(n.t2,"Failed to shutdown persistence"),t.reject(r);case 17:case"end":return n.stop()}},n,null,[[0,13]])}))),t.promise}}]),e}();function tf(e,t){return nf.apply(this,arguments)}function nf(){return(nf=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Cr("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:a=r.initialUser,t.setCredentialChangeListener(function(){var e=(0,i.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,Zu(n.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=n;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function rf(e,t){return af.apply(this,arguments)}function af(){return(af=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,of(t);case 3:return r=e.sent,Cr("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return a=e.sent,e.next=10,n.initialize(r,a);case 10:t.setCredentialChangeListener(function(e){return(t=(0,i.Z)(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ar(t)).asyncQueue.verifyOperationInProgress(),Cr("RemoteStore","RemoteStore received new credentials"),i=Xc(r),r.Wr.add(3),e.next=6,Zc(r);case 6:return i&&r.Hr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Wr.delete(3),e.next=12,zc(r);case 12:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)})(n.remoteStore,e);var t}),t.onlineComponents=n;case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function of(e){return sf.apply(this,arguments)}function sf(){return(sf=(0,i.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Cr("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,tf(t,new Zh);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function uf(e){return cf.apply(this,arguments)}function cf(){return(cf=(0,i.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Cr("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,rf(t,new Wh);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function lf(e){return of(e).then(function(e){return e.persistence})}function hf(e){return of(e).then(function(e){return e.localStore})}function ff(e){return uf(e).then(function(e){return e.remoteStore})}function df(e){return uf(e).then(function(e){return e.syncEngine})}function pf(e){return vf.apply(this,arguments)}function vf(){return(vf=(0,i.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uf(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Xl.bind(null,n.syncEngine),r.onUnlisten=rh.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Rr;return e.asyncQueue.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Yh({next:function(a){t.enqueueAndForget(function(){return Ll(e,o)});var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Dr(Or.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Dr(Or.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new ql(Xi(n.path),a,{includeMetadataChanges:!0,fo:!0});return Nl(e,o)},i.next=3,pf(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}function yf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Rr;return e.asyncQueue.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function i(){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Yh({next:function(n){t.enqueueAndForget(function(){return Ll(e,o)}),n.fromCache&&"server"===r.source?i.reject(new Dr(Or.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new ql(n,a,{includeMetadataChanges:!0,fo:!0});return Nl(e,o)},i.next=3,pf(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}var mf=function e(t,n,r,i,a,o,s,u){_classCallCheck(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u},_f=function(){function e(t,n){_classCallCheck(this,e),this.projectId=t,this.database=n||"(default)"}return _createClass(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),kf=new Map;function bf(e,t,n){if(!n)throw new Dr(Or.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Cf(e,t,n,r){if(!0===t&&!0===r)throw new Dr(Or.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function wf(e){if(!di.isDocumentKey(e))throw new Dr(Or.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function xf(e){if(di.isDocumentKey(e))throw new Dr(Or.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ef(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=(n=e).constructor?n.constructor.name:null;return t?"a custom ".concat(t," object"):"an object"}var n;return"function"==typeof e?"a function":Sr()}function Sf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Dr(Or.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ef(e);throw new Dr(Or.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Tf(e,t){if(t<=0)throw new Dr(Or.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var If=function(){function e(t){var n;if(_classCallCheck(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Dr(Or.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Dr(Or.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Cf("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return _createClass(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Af=function(){function e(t,n){_classCallCheck(this,e),this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new If({}),this._settingsFrozen=!1,t instanceof _f?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Dr(Or.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _f(e.options.projectId)}(t))}return _createClass(e,[{key:"app",get:function(){if(!this._app)throw new Dr(Or.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Dr(Or.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new If(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Fr;switch(e.type){case"gapi":var t=e.client;return Tr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ur(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Dr(Or.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return e=this,(t=kf.get(e))&&(Cr("ComponentProvider","Removing Datastore"),kf.delete(e),t.terminate()),Promise.resolve();var e,t}}]),e}();function Of(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Sf(e,Af))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&xr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=yr.MOCK_USER;else{o=(0,u.Sg)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Dr(Or.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new yr(c)}e._credentials=new Nr(new Pr(o,s))}}var Df=function(){function e(t,n,r){_classCallCheck(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return _createClass(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Pf(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Rf=function(){function e(t,n,r){_classCallCheck(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return _createClass(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Pf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e,r,Xi(i)))._path=i,a.type="collection",a}return _createClass(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Df(this.firestore,null,new di(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Rf);function Ff(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,u.m9)(e),bf("collection","path",t),e instanceof Af){var a=Jr.fromString.apply(Jr,[t].concat(r));return xf(a),new Pf(e,null,a)}if(!(e instanceof Df||e instanceof Pf))throw new Dr(Or.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jr.fromString.apply(Jr,[t].concat(r)));return xf(o),new Pf(e.firestore,null,o)}function Nf(e,t){if(e=Sf(e,Af),bf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Dr(Or.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Rf(e,null,(n=t,new Ji(Jr.emptyPath(),n)));var n}function Mf(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,u.m9)(e),1===arguments.length&&(t=Br.I()),bf("doc","path",t),e instanceof Af){var a=Jr.fromString.apply(Jr,[t].concat(r));return wf(a),new Df(e,null,new di(a))}if(!(e instanceof Df||e instanceof Pf))throw new Dr(Or.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Jr.fromString.apply(Jr,[t].concat(r)));return wf(o),new Df(e.firestore,e instanceof Pf?e.converter:null,new di(o))}function Lf(e,t){return e=(0,u.m9)(e),t=(0,u.m9)(t),(e instanceof Df||e instanceof Pf)&&(t instanceof Df||t instanceof Pf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Uf(e,t){return e=(0,u.m9)(e),t=(0,u.m9)(t),e instanceof Rf&&t instanceof Rf&&e.firestore===t.firestore&&ua(e._query,t._query)&&e.converter===t.converter}var jf=function(){function e(){var t=this;_classCallCheck(this,e),this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new Mc(this,"async_queue_retry"),this.Rc=function(){var e=Fc();e&&Cr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ar.tr()};var n=Fc();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Rc)}return _createClass(e,[{key:"isShuttingDown",get:function(){return this.gc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.bc(),this.Pc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;var t=Fc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}},{key:"enqueue",value:function(e){var t=this;if(this.bc(),this.gc)return new Promise(function(){});var n=new Rr;return this.Pc(function(){return t.gc&&t.Ic?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget(function(){return t.mc.push(e),t.vc()})}},{key:"vc",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0===e.mc.length){t.next=14;break}return t.prev=1,t.next=4,e.mc[0]();case 4:e.mc.shift(),e.ar.reset(),t.next=13;break;case 8:if(t.prev=8,t.t0=t.catch(1),As(t.t0)){t.next=12;break}throw t.t0;case 12:Cr("AsyncQueue","Operation failed with retryable error: "+t.t0);case 13:e.mc.length>0&&e.ar.Xi(function(){return e.vc()});case 14:case"end":return t.stop()}},t,null,[[1,8]])}))()}},{key:"Pc",value:function(e){var t=this,n=this._c.then(function(){return t.Ec=!0,e().catch(function(e){throw t.Tc=e,t.Ec=!1,wr("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",n.stack&&(r=n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack),r)),e;var n,r}).then(function(e){return t.Ec=!1,e})});return this._c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.bc(),this.Ac.indexOf(e)>-1&&(t=0);var i=Il.createAndSchedule(this,e,t,n,function(e){return r.Vc(e)});return this.yc.push(i),i}},{key:"bc",value:function(){this.Tc&&Sr()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sc",value:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._c,t.next=3,n;case 3:if(n!==e._c){t.next=0;break}case 4:case"end":return t.stop()}},t)}))()}},{key:"Dc",value:function(e){var t,n=_createForOfIteratorHelper(this.yc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Cc",value:function(e){var t=this;return this.Sc().then(function(){t.yc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});var n,r=_createForOfIteratorHelper(t.yc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sc()})}},{key:"Nc",value:function(e){this.Ac.push(e)}},{key:"Vc",value:function(e){var t=this.yc.indexOf(e);this.yc.splice(t,1)}}]),e}();function Vf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var a=i[r];if(a in n&&"function"==typeof n[a])return!0}return!1}(e)}var Bf=function(){function e(){_classCallCheck(this,e),this._progressObserver={},this._taskCompletionResolver=new Rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return _createClass(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),qf=-1,zf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).type="firestore",i._queue=new jf,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return _createClass(n,[{key:"_terminate",value:function(){return this._firestoreClient||Kf(this),this._firestoreClient.terminate()}}]),n}(Af);function Hf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,a.getApp)();return(0,a._getProvider)(e,"firestore").getImmediate()}function Zf(e){return e._firestoreClient||Kf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Kf(e){var t,n,r,i=e._freezeSettings(),a=(n=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",new mf(e._databaseId,n,e._persistenceKey,(r=i).host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams));e._firestoreClient=new ef(e._credentials,e._queue,a)}function Gf(e,t){nd(e=Sf(e,zf));var n=Zf(e),r=e._freezeSettings(),i=new Wh;return Qf(n,i,new Kh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function Wf(e){nd(e=Sf(e,zf));var t=Zf(e),n=e._freezeSettings(),r=new Wh;return Qf(t,r,new Gh(r,n.cacheSizeBytes))}function Qf(e,t,n){var r=new Rr;return e.asyncQueue.enqueue((0,i.Z)(regeneratorRuntime.mark(function i(){var a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,tf(e,n);case 3:return i.next=5,rf(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),"FirebaseError"===(a=i.t0).name?a.code===Or.FAILED_PRECONDITION||a.code===Or.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}},i,null,[[0,8]])}))).then(function(){return r.promise})}function Yf(e){if(e._initialized&&!e._terminated)throw new Dr(Or.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Rr;return e._queue.enqueueAndForgetEvenWhileRestricted((0,i.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(r=(0,i.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Ss.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ss.delete(n);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)})(Uu(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}},n,null,[[0,6]])}))),t.promise}function Jf(e){return t=Zf(e=Sf(e,zf)),n=new Rr,t.asyncQueue.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e,t){return vh.apply(this,arguments)},e.next=3,df(t);case 3:return e.t1=e.sent,e.t2=n,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}},e)}))),n.promise;var t,n}function $f(e){return function(e){return e.asyncQueue.enqueue((0,i.Z)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lf(e);case 2:return n=t.sent,t.next=5,ff(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),i=void 0,(i=Ar(r)).Wr.delete(0),zc(i)));case 7:case"end":return t.stop()}var i},t)})))}(Zf(e=Sf(e,zf)))}function Xf(e){return function(e){return e.asyncQueue.enqueue((0,i.Z)(regeneratorRuntime.mark(function t(){var n,r,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lf(e);case 2:return n=t.sent,t.next=5,ff(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),(a=(0,i.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ar(t)).Wr.add(0),e.next=4,Zc(n);case 4:n.Hr.set("Offline");case 5:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})(r)));case 7:case"end":return t.stop()}},t)})))}(Zf(e=Sf(e,zf)))}function ed(e,t){var n=Zf(e=Sf(e,zf)),r=new Bf;return function(e,t,n,r){var a,o,s,u=(a=n,o=Nc(t),s=function(e,t){if(e instanceof Uint8Array)return Qh(e,void 0);if(e instanceof ArrayBuffer)return Qh(new Uint8Array(e),void 0);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof a?(new TextEncoder).encode(a):a),new Jh(s,o));e.asyncQueue.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t,n){var r,a=Ar(e);(r=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ar(e),r=Io(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(e){return n.Je.getBundleMetadata(e,t.id)}).then(function(e){return!!e&&e.createTime.compareTo(r)>=0})}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith((c=i,{taskState:"Success",documentsLoaded:c.totalDocuments,bytesLoaded:c.totalBytes,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes})));case 10:return r._updateProgress(Kl(i)),a=new Zl(i,t.localStore,n.N),e.next=14,n.zo();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.mo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.zo();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,wh(t,u.En,void 0);case 30:return e.next=32,function(e,t){var n=Ar(e);return n.persistence.runTransaction("Save bundle","readwrite",function(e){return n.Je.saveBundleMetadata(e,t)})}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),xr("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}},e,null,[[0,35]])})),function(e,t,n){return r.apply(this,arguments)})(a,t,n).then(function(){a.sharedClientState.notifyBundleLoaded()})},t.next=3,df(e);case 3:t.t1=t.sent,t.t2=u,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}},t)})))}(n,e._databaseId,t,r),r}function td(e,t){return function(e,t){return e.asyncQueue.enqueue((0,i.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ar(e);return n.persistence.runTransaction("Get named query","readonly",function(e){return n.Je.getNamedQuery(e,t)})},n.next=3,hf(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}},n)})))}(Zf(e=Sf(e,zf)),t).then(function(t){return t?new Rf(e,null,t.query):null})}function nd(e){if(e._initialized||e._terminated)throw new Dr(Or.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var rd=function(){function e(){_classCallCheck(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Dr(Or.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xr(n)}return _createClass(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}(),id=function(){function e(t){_classCallCheck(this,e),this._byteString=t}return _createClass(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ni.fromBase64String(t))}catch(n){throw new Dr(Or.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}},{key:"fromUint8Array",value:function(t){return new e(ni.fromUint8Array(t))}}]),e}(),ad=function e(t){_classCallCheck(this,e),this._methodName=t},od=function(){function e(t,n){if(_classCallCheck(this,e),!isFinite(t)||t<-90||t>90)throw new Dr(Or.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Dr(Or.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return _createClass(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return qr(this._lat,e._lat)||qr(this._long,e._long)}}]),e}(),sd=/^__.*__$/,ud=function(){function e(t,n,r){_classCallCheck(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return _createClass(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Va(e,this.data,this.fieldMask,t,this.fieldTransforms):new ja(e,this.data,t,this.fieldTransforms)}}]),e}(),cd=function(){function e(t,n,r){_classCallCheck(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return _createClass(e,[{key:"toMutation",value:function(e,t){return new Va(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function ld(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Sr()}}var hd=function(){function e(t,n,r,i,a,o){_classCallCheck(this,e),this.settings=t,this.databaseId=n,this.N=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return _createClass(e,[{key:"path",get:function(){return this.settings.path}},{key:"kc",get:function(){return this.settings.kc}},{key:"$c",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.Mc(e),r}},{key:"Lc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.xc(),r}},{key:"Bc",value:function(e){return this.$c({path:void 0,Fc:!0})}},{key:"Uc",value:function(e){return Dd(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}},{key:"Mc",value:function(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(ld(this.kc)&&sd.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}]),e}(),fd=function(){function e(t,n,r){_classCallCheck(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.N=r||Nc(t)}return _createClass(e,[{key:"jc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new hd({kc:e,methodName:t,Kc:n,path:Xr.emptyPath(),Fc:!1,qc:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}]),e}();function dd(e){var t=e._freezeSettings(),n=Nc(e._databaseId);return new fd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function pd(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.jc(a.merge||a.mergeFields?2:0,t,n,i);Td("Data must be an object, but it was:",o,r);var s,u,c=Ed(r,o);if(a.merge)s=new ei(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=_createForOfIteratorHelper(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var d=l.value,p=Id(t,d,n);if(!o.contains(p))throw new Dr(Or.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Rd(h,p)||h.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new ei(h),u=o.fieldTransforms.filter(function(e){return s.covers(e.field)})}else s=null,u=o.fieldTransforms;return new ud(new Ii(c),s,u)}var vd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.kc)throw e.Uc(1===e.kc?"".concat(this._methodName,"() can only appear at the top level of your update data"):"".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ad);function gd(e,t,n){return new hd({kc:3,Kc:t.settings.Kc,methodName:e._methodName,Fc:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}var yd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_toFieldTransform",value:function(e){return new Aa(e.path,new ba)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(ad),md=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).Qc=r,i}return _createClass(n,[{key:"_toFieldTransform",value:function(e){var t=gd(this,e,!0),n=this.Qc.map(function(e){return xd(e,t)}),r=new Ca(n);return new Aa(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ad),_d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).Qc=r,i}return _createClass(n,[{key:"_toFieldTransform",value:function(e){var t=gd(this,e,!0),n=this.Qc.map(function(e){return xd(e,t)}),r=new xa(n);return new Aa(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ad),kd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).Wc=r,i}return _createClass(n,[{key:"_toFieldTransform",value:function(e){var t=new Sa(e.N,ga(e.N,this.Wc));return new Aa(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(ad);function bd(e,t,n,r){var i=e.jc(1,t,n);Td("Data must be an object, but it was:",i,r);var a=[],o=Ii.empty();Wr(r,function(e,r){var s=Od(t,e,n);r=(0,u.m9)(r);var c=i.Lc(s);if(r instanceof vd)a.push(s);else{var l=xd(r,c);null!=l&&(a.push(s),o.set(s,l))}});var s=new ei(a);return new cd(o,s,i.fieldTransforms)}function Cd(e,t,n,r,i,a){var o=e.jc(1,t,n),s=[Id(t,r,n)],c=[i];if(a.length%2!=0)throw new Dr(Or.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(Id(t,a[l])),c.push(a[l+1]);for(var h=[],f=Ii.empty(),d=s.length-1;d>=0;--d)if(!Rd(h,s[d])){var p=s[d],v=c[d];v=(0,u.m9)(v);var g=o.Lc(p);if(v instanceof vd)h.push(p);else{var y=xd(v,g);null!=y&&(h.push(p),f.set(p,y))}}var m=new ei(h);return new cd(f,m,o.fieldTransforms)}function wd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return xd(n,e.jc(r?4:3,t))}function xd(e,t){if(Sd(e=(0,u.m9)(e)))return Td("Unsupported field value:",t,e),Ed(e,t);if(e instanceof ad)return function(e,t){if(!ld(t.kc))throw t.Uc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Uc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.kc)throw t.Uc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=_createForOfIteratorHelper(e);try{for(a.s();!(n=a.n()).done;){var o=xd(n.value,t.Bc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=(0,u.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ga(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Zr.fromDate(e);return{timestampValue:Eo(t.N,n)}}if(e instanceof Zr){var r=new Zr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Eo(t.N,r)}}if(e instanceof od)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof id)return{bytesValue:So(t.N,e._byteString)};if(e instanceof Df){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Uc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Ao(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc("Unsupported field value: ".concat(Ef(e)))}(e,t)}function Ed(e,t){var n={};return Qr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wr(e,function(e,r){var i=xd(r,t.Oc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Sd(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zr||e instanceof od||e instanceof id||e instanceof Df||e instanceof ad)}function Td(e,t,n){if(!Sd(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){var r=Ef(n);throw t.Uc("an object"===r?e+" a custom object":e+" "+r)}var i}function Id(e,t,n){if((t=(0,u.m9)(t))instanceof rd)return t._internalPath;if("string"==typeof t)return Od(e,t);throw Dd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Ad=new RegExp("[~\\*/\\[\\]]");function Od(e,t,n){if(t.search(Ad)>=0)throw Dd("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return _construct(rd,_toConsumableArray(t.split(".")))._internalPath}catch(r){throw Dd("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Dd(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Dr(Or.INVALID_ARGUMENT,s+e+u)}function Rd(e,t){return e.some(function(e){return e.isEqual(t)})}var Pd=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return _createClass(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Df(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Fd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Nd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Fd=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"data",value:function(){return _get2(_getPrototypeOf(n.prototype),"data",this).call(this)}}]),n}(Pd);function Nd(e,t){return"string"==typeof t?Od(e,t):t instanceof rd?t._internalPath:t._delegate._internalPath}var Md=function(){function e(t,n){_classCallCheck(this,e),this.hasPendingWrites=t,this.fromCache=n}return _createClass(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ld=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o,s){var u;return _classCallCheck(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return _createClass(n,[{key:"exists",value:function(){return _get2(_getPrototypeOf(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Nd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Pd),Ud=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _get2(_getPrototypeOf(n.prototype),"data",this).call(this,e)}}]),n}(Ld),jd=function(){function e(t,n,r,i){_classCallCheck(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Md(i.hasPendingWrites,i.fromCache),this.query=r}return _createClass(e,[{key:"docs",get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new Ud(n._firestore,n._userDataWriter,r.key,r,new Md(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Dr(Or.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new Ud(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Md(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new Ud(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Md(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Vd(t.type),doc:n,oldIndex:i,newIndex:a}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Vd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Sr()}}function Bd(e,t){return e instanceof Ld&&t instanceof Ld?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof jd&&t instanceof jd&&e._firestore===t._firestore&&Uf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function qd(e){if(ta(e)&&0===e.explicitOrderBy.length)throw new Dr(Or.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zd=function e(){_classCallCheck(this,e)};function Hd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Zd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this)).Gc=e,a.zc=r,a.Hc=i,a.type="where",a}return _createClass(n,[{key:"_apply",value:function(e){var t,n,r,i=dd(e.firestore),a=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Dr(Or.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){op(o,a);var u,c=[],l=_createForOfIteratorHelper(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push(ap(r,e,h))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=ap(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||op(o,a),s=wd(n,"where",o,"in"===a||"not-in"===a);var f=Mi.create(i,a,s);return function(e,t){if(t.v()){var n=ra(e);if(null!==n&&!n.isEqual(t.field))throw new Dr(Or.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=na(e);null!==r&&sp(0,t.field,r)}var i=function(e,t){var n,r=_createForOfIteratorHelper(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new Dr(Or.INVALID_ARGUMENT,i===t.op?"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter."):"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,f),f}(e._query,0,i,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Rf(e.firestore,e.converter,(t=e._query,n=a,r=t.filters.concat([n]),new Ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)))}}]),n}(zd);function Kd(e,t,n){var r=t,i=Nd("where",e);return new Zd(i,r,n)}var Gd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).Gc=e,i.Jc=r,i.type="orderBy",i}return _createClass(n,[{key:"_apply",value:function(e){var t,n,r,i=function(e,t,n){if(null!==e.startAt)throw new Dr(Or.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Dr(Or.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Gi(t,n);return function(e,t){if(null===na(e)){var n=ra(e);null!==n&&sp(0,n,t.field)}}(e,r),r}(e._query,this.Gc,this.Jc);return new Rf(e.firestore,e.converter,(t=e._query,n=i,r=t.explicitOrderBy.concat([n]),new Ji(t.path,t.collectionGroup,r,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))}}]),n}(zd);function Wd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Nd("orderBy",e);return new Gd(r,n)}var Qd=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this)).type=e,a.Yc=r,a.Xc=i,a}return _createClass(n,[{key:"_apply",value:function(e){return new Rf(e.firestore,e.converter,sa(e._query,this.Yc,this.Xc))}}]),n}(zd);function Yd(e){return Tf("limit",e),new Qd("limit",e,"F")}function Jd(e){return Tf("limitToLast",e),new Qd("limitToLast",e,"L")}var $d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this)).type=e,a.Zc=r,a.ta=i,a}return _createClass(n,[{key:"_apply",value:function(e){var t,n,r=ip(e,this.type,this.Zc,this.ta);return new Rf(e.firestore,e.converter,(n=r,new Ji((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,n,t.endAt)))}}]),n}(zd);function Xd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $d("startAt",t,!0)}function ep(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new $d("startAfter",t,!1)}var tp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this)).type=e,a.Zc=r,a.ta=i,a}return _createClass(n,[{key:"_apply",value:function(e){var t,n,r=ip(e,this.type,this.Zc,this.ta);return new Rf(e.firestore,e.converter,(n=r,new Ji((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,n)))}}]),n}(zd);function np(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tp("endBefore",t,!0)}function rp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new tp("endAt",t,!1)}function ip(e,t,n,r){if(n[0]=(0,u.m9)(n[0]),n[0]instanceof Pd)return function(e,t,n,r,i){if(!r)throw new Dr(Or.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=_createForOfIteratorHelper(aa(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(bi(t,r.key));else{var c=r.data.field(u.field);if(si(c))throw new Dr(Or.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Dr(Or.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(h){s.e(h)}finally{s.f()}return new Zi(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=dd(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Dr(Or.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Dr(Or.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ia(e)&&-1!==c.indexOf("/"))throw new Dr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Jr.fromString(c));if(!di.isDocumentKey(l))throw new Dr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var h=new di(l);s.push(bi(t,h))}else{var f=wd(n,r,c);s.push(f)}}return new Zi(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function ap(e,t,n){if("string"==typeof(n=(0,u.m9)(n))){if(""===n)throw new Dr(Or.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ia(t)&&-1!==n.indexOf("/"))throw new Dr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Jr.fromString(n));if(!di.isDocumentKey(r))throw new Dr(Or.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return bi(e,new di(r))}if(n instanceof Df)return bi(e,n._key);throw new Dr(Or.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ef(n),"."))}function op(e,t){if(!Array.isArray(e)||0===e.length)throw new Dr(Or.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Dr(Or.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function sp(e,t,n){if(!n.isEqual(t))throw new Dr(Or.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var up=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Sr()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Wr(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r}},{key:"convertGeoPoint",value:function(e){return new od(ai(e.latitude),ai(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ui(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ci(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ii(e);return new Zr(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Jr.fromString(e);Tr(es(n));var r=new _f(n.get(1),n.get(3)),i=new di(n.popFirst(5));return r.isEqual(t)||wr("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function cp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var lp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).firestore=e,r}return _createClass(n,[{key:"convertBytes",value:function(e){return new id(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Df(this.firestore,null,t)}}]),n}(up),hp=function(){function e(t,n){_classCallCheck(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=dd(t)}return _createClass(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=fp(e,this._firestore),i=cp(r.converter,t,n),a=pd(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Da.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=fp(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=(0,u.m9)(t))||t instanceof rd?Cd(this._dataReader,"WriteBatch.update",i._key,t,n,o):bd(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Da.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=fp(e,this._firestore);return this._mutations=this._mutations.concat(new Ka(t._key,Da.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Dr(Or.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function fp(e,t){if((e=(0,u.m9)(e)).firestore!==t)throw new Dr(Or.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function dp(e){e=Sf(e,Df);var t=Sf(e.firestore,zf);return gf(Zf(t),e._key).then(function(n){return Tp(t,e,n)})}var pp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).firestore=e,r}return _createClass(n,[{key:"convertBytes",value:function(e){return new id(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Df(this.firestore,null,t)}}]),n}(up);function vp(e){e=Sf(e,Df);var t=Sf(e.firestore,zf),n=Zf(t),r=new pp(t);return function(e,t){var n=new Rr;return e.asyncQueue.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function r(){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=(a=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ar(e);return n.persistence.runTransaction("read document","readonly",function(e){return n.Qn.An(e,t)})}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Dr(Or.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Al(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}},e,null,[[0,7]])})),function(e,t,n){return a.apply(this,arguments)}),r.next=3,hf(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._key).then(function(n){return new Ld(t,r,e._key,n,new Md(null!==n&&n.hasLocalMutations,!0),e.converter)})}function gp(e){e=Sf(e,Df);var t=Sf(e.firestore,zf);return gf(Zf(t),e._key,{source:"server"}).then(function(n){return Tp(t,e,n)})}function yp(e){e=Sf(e,Rf);var t=Sf(e.firestore,zf),n=Zf(t),r=new pp(t);return qd(e._query),yf(n,e._query).then(function(n){return new jd(t,r,e,n)})}function mp(e){e=Sf(e,Rf);var t=Sf(e.firestore,zf),n=Zf(t),r=new pp(t);return function(e,t){var n=new Rr;return e.asyncQueue.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function r(){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=(a=(0,i.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,a,o,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tc(t,n,!0);case 3:i=e.sent,a=new Ql(n,i.Gn),o=a.bo(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Al(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}},e,null,[[0,10]])})),function(e,t,n){return a.apply(this,arguments)}),r.next=3,hf(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}},r)}))),n.promise}(n,e._query).then(function(n){return new jd(t,r,e,n)})}function _p(e){e=Sf(e,Rf);var t=Sf(e.firestore,zf),n=Zf(t),r=new pp(t);return yf(n,e._query,{source:"server"}).then(function(n){return new jd(t,r,e,n)})}function kp(e,t,n){e=Sf(e,Df);var r=Sf(e.firestore,zf),i=cp(e.converter,t,n);return Sp(r,[pd(dd(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Da.none())])}function bp(e,t,n){e=Sf(e,Df);for(var r=Sf(e.firestore,zf),i=dd(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Sp(r,[("string"==typeof(t=(0,u.m9)(t))||t instanceof rd?Cd(i,"updateDoc",e._key,t,n,o):bd(i,"updateDoc",e._key,t)).toMutation(e._key,Da.exists(!0))])}function Cp(e){return Sp(Sf(e.firestore,zf),[new Ka(e._key,Da.none())])}function wp(e,t){var n=Sf(e.firestore,zf),r=Mf(e),i=cp(e.converter,t);return Sp(n,[pd(dd(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Da.exists(!1))]).then(function(){return r})}function xp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,o,s;e=(0,u.m9)(e);var c={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||Vf(n[l])||(c=n[l],l++);var h,f,d,p={includeMetadataChanges:c.includeMetadataChanges};if(Vf(n[l])){var v=n[l];n[l]=null===(a=v.next)||void 0===a?void 0:a.bind(v),n[l+1]=null===(o=v.error)||void 0===o?void 0:o.bind(v),n[l+2]=null===(s=v.complete)||void 0===s?void 0:s.bind(v)}if(e instanceof Df)f=Sf(e.firestore,zf),d=Xi(e._key.path),h={next:function(t){n[l]&&n[l](Tp(f,e,t))},error:n[l+1],complete:n[l+2]};else{var g=Sf(e,Rf);f=Sf(g.firestore,zf),d=g._query;var y=new pp(f);h={next:function(e){n[l]&&n[l](new jd(f,y,g,e))},error:n[l+1],complete:n[l+2]},qd(e._query)}return function(e,t,n,r){var a=new Yh(r),o=new ql(t,a,n);return e.asyncQueue.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Nl,t.next=3,pf(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)}))),function(){a.ec(),e.asyncQueue.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ll,t.next=3,pf(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}},t)})))}}(Zf(f),d,p,h)}function Ep(e,t){return function(e,t){var n=new Yh(t);return e.asyncQueue.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function t(){var r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pf(e);case 2:return r=t.sent,i=n,Ar(r).so.add(i),t.abrupt("return",void i.next());case 6:case"end":return t.stop()}},t)}))),function(){n.ec(),e.asyncQueue.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function t(){var r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pf(e);case 2:return r=t.sent,i=n,t.abrupt("return",void Ar(r).so.delete(i));case 5:case"end":return t.stop()}},t)})))}}(Zf(e=Sf(e,zf)),Vf(t)?t:{next:t})}function Sp(e,t){return n=Zf(e),r=t,a=new Rr,n.asyncQueue.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(e,t,n){return ah.apply(this,arguments)},e.next=3,df(n);case 3:return e.t1=e.sent,e.t2=r,e.t3=a,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}},e)}))),a.promise;var n,r,a}function Tp(e,t,n){var r=n.docs.get(t._key),i=new pp(e);return new Ld(e,i,t._key,r,new Md(n.hasPendingWrites,n.fromCache),t.converter)}var Ip=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r))._firestore=e,i}return _createClass(n,[{key:"get",value:function(e){var t=this,r=fp(e,this._firestore),i=new pp(this._firestore);return _get2(_getPrototypeOf(n.prototype),"get",this).call(this,e).then(function(e){return new Ld(t._firestore,i,r._key,e._document,new Md(!1,!1),r.converter)})}}]),n}(function(){function e(t,n){_classCallCheck(this,e),this._firestore=t,this._transaction=n,this._dataReader=dd(t)}return _createClass(e,[{key:"get",value:function(e){var t=this,n=fp(e,this._firestore),r=new lp(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return Sr();var i=e[0];if(i.isFoundDocument())return new Pd(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Pd(t._firestore,r,n._key,null,n.converter);throw Sr()})}},{key:"set",value:function(e,t,n){var r=fp(e,this._firestore),i=cp(r.converter,t,n),a=pd(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=fp(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=(0,u.m9)(t))||t instanceof rd?Cd(this._dataReader,"Transaction.update",i._key,t,n,o):bd(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=fp(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Ap(e,t){return function(e,t){var n=new Rr;return e.asyncQueue.enqueueAndForget((0,i.Z)(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,uf(e).then(function(e){return e.datastore});case 2:i=r.sent,new Xh(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}},r)}))),n.promise}(Zf(e=Sf(e,zf)),function(n){return t(new Ip(e,n))})}function Op(){return new vd("deleteField")}function Dp(){return new yd("serverTimestamp")}function Rp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new md("arrayUnion",t)}function Pp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _d("arrayRemove",t)}function Fp(e){return new kd("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];mr=a.SDK_VERSION,(0,a._registerComponent)(new o.wA("firestore",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new zf(i,new Mr(e.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC")),(0,a.registerVersion)(gr,"3.2.0",e),(0,a.registerVersion)(gr,"3.2.0","esm2017")}()},5601:function(e,t,n){"use strict";var r;n.d(t,{in:function(){return o},Yd:function(){return h},Ub:function(){return f},Am:function(){return d}});var i,a=[],o=((i=o||(o={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",o),s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=(_defineProperty(r={},o.DEBUG,"log"),_defineProperty(r,o.VERBOSE,"log"),_defineProperty(r,o.INFO,"info"),_defineProperty(r,o.WARN,"warn"),_defineProperty(r,o.ERROR,"error"),r),l=function(e,t){var n;if(!(t<e.logLevel)){var r=(new Date).toISOString(),i=c[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(n=console)[i].apply(n,["[".concat(r,"]  ").concat(e.name,":")].concat(o))}},h=function(){function e(t){_classCallCheck(this,e),this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return _createClass(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?s[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,o.DEBUG].concat(t)),this._logHandler.apply(this,[this,o.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,o.VERBOSE].concat(t)),this._logHandler.apply(this,[this,o.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,o.INFO].concat(t)),this._logHandler.apply(this,[this,o.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,o.WARN].concat(t)),this._logHandler.apply(this,[this,o.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,o.ERROR].concat(t)),this._logHandler.apply(this,[this,o.ERROR].concat(t))}}]),e}();function f(e){a.forEach(function(t){t.setLogLevel(e)})}function d(e,t){var n,r=_createForOfIteratorHelper(a);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=s[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];var u=a.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!=i?i:t.logLevel)&&e({level:o[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(u){r.e(u)}finally{r.f()}}},3854:function(e,t,n){"use strict";n.d(t,{BH:function(){return c},LL:function(){return E},ZR:function(){return x},zI:function(){return w},US:function(){return i},tV:function(){return o},$s:function(){return L},r3:function(){return T},Sg:function(){return l},ne:function(){return F},vZ:function(){return A},ZB:function(){return s},pd:function(){return P},m9:function(){return U},z$:function(){return h},jU:function(){return p},ru:function(){return v},d:function(){return y},xb:function(){return I},w1:function(){return m},hl:function(){return b},uI:function(){return f},UG:function(){return d},b$:function(){return g},G6:function(){return k},Mn:function(){return _},xO:function(){return D},zd:function(){return R},eu:function(){return C}});var r=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[a>>2],n[(3&a)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();r.push(a<<2|o>>4),64!==s&&(r.push(o<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){return function(e){var t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function s(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)!t.hasOwnProperty(n)||!u(n)||(e[n]=s(e[n],t[n]));return e}function u(e){return"__proto__"!==e}var c=function(){function e(){var t=this;_classCallCheck(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return _createClass(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}}}]),e}();function l(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(o)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function p(){return"object"==typeof self&&self.self===self}function v(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function g(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function m(){var e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return h().indexOf("MSAppHost/")>=0}function k(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){return"object"==typeof indexedDB}function C(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function w(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}var x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_assertThisInitialized(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_assertThisInitialized(a),E.prototype.create),a}return n}(_wrapNativeSuper(Error)),E=function(){function e(t,n,r){_classCallCheck(this,e),this.service=t,this.serviceName=n,this.errors=r}return _createClass(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(S,function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error";return new x(n,"".concat(this.serviceName,": ").concat(i," (").concat(n,")."),t)}}]),e}(),S=/\{\$([^}]+)}/g;function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function I(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function A(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(O(s)&&O(u)){if(!A(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function O(e){return null!==e&&"object"==typeof e}function D(e){for(var t=[],n=function(){var e=_slicedToArray(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach(function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function R(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=_slicedToArray(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}}),t}function P(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function F(e,t){var n=new N(e,t);return n.subscribe.bind(n)}var N=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(e){r.error(e)})}return _createClass(e,[{key:"next",value:function(e){this.forEachObserver(function(t){t.next(e)})}},{key:"error",value:function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)}},{key:"complete",value:function(){this.forEachObserver(function(e){e.complete()}),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=M),void 0===r.error&&(r.error=M),void 0===r.complete&&(r.complete=M);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))}}]),e}();function M(){}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function U(e){return e&&e._delegate?e._delegate:e}},1601:function(e,t,n){"use strict";n.d(t,{eX:function(){return z},sQ:function(){return oe},GW:function(){return N},l4:function(){return H}});var r=n(6710),i=n(6682),a=n(8891),o=n(9765),s=n(7393),u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new c(e))}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_next",value:function(e){}}]),n}(s.L),l=n(3098),h=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new f(e))}}]),e}(),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"_next",value:function(e){this.destination.next(l.P.createNext(e))}},{key:"_error",value:function(e){var t=this.destination;t.next(l.P.createError(e)),t.complete()}},{key:"_complete",value:function(){var e=this.destination;e.next(l.P.createComplete()),e.complete()}}]),n}(s.L),d=n(5319);function p(e,t,n,r){return function(i){return i.lift(new v(e,t,n,r))}}var v=function(){function e(t,n,r,i){_classCallCheck(this,e),this.keySelector=t,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new g(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}]),e}(),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o){var s;return _classCallCheck(this,n),(s=t.call(this,e)).keySelector=r,s.elementSelector=i,s.durationSelector=a,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.keySelector(e)}catch(n){return void this.error(n)}this._group(e,t)}},{key:"_group",value:function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(a){this.error(a)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new o.xQ,n.set(t,i);var a=new m(t,i,this);if(this.destination.next(a),this.durationSelector){var s;try{s=this.durationSelector(new m(t,i))}catch(u){return void this.error(u)}this.add(s.subscribe(new y(t,i,this)))}}i.closed||i.next(r)}},{key:"_error",value:function(e){var t=this.groups;t&&(t.forEach(function(t,n){t.error(e)}),t.clear()),this.destination.error(e)}},{key:"_complete",value:function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()}},{key:"removeGroup",value:function(e){this.groups.delete(e)}},{key:"unsubscribe",value:function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&_get2(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}}]),n}(s.L),y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,r)).key=e,a.group=r,a.parent=i,a}return _createClass(n,[{key:"_next",value:function(e){this.complete()}},{key:"_unsubscribe",value:function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)}}]),n}(s.L),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this)).key=e,a.groupSubject=r,a.refCountSubscription=i,a}return _createClass(n,[{key:"_subscribe",value:function(e){var t=new d.w,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new _(n)),t.add(r.subscribe(e)),t}}]),n}(a.y),_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).parent=e,e.count++,r}return _createClass(n,[{key:"unsubscribe",value:function(){var e=this.parent;!e.closed&&!this.closed&&(_get2(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}]),n}(d.w),k=n(8002),b=n(4402),C=n(5345);function w(e,t){return t?function(n){return n.pipe(w(function(n,r){return(0,b.D)(e(n,r)).pipe((0,k.U)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new x(e))}}var x=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new E(e,this.project))}}]),e}(),E=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.hasSubscription||this.tryNext(e)}},{key:"tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.hasSubscription=!0,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new C.IY(this),n=this.destination;n.add(t);var r=(0,C.ft)(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}]),n}(C.Ds),S=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new T(e))}}]),e}(),T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"_next",value:function(e){e.observe(this.destination)}}]),n}(s.L),I=n(5304),A=n(5435),O=n(9773),D=n(5257),R=n(7716),P={dispatch:!0,useEffectsErrorHandler:!0},F="__@ngrx/effects_create__";function N(e,t){var n=e(),r=Object.assign(Object.assign({},P),t);return Object.defineProperty(n,F,{value:r}),n}function M(e){return Object.getOwnPropertyNames(e).filter(function(t){return!(!e[t]||!e[t].hasOwnProperty(F))&&e[t][F].hasOwnProperty("dispatch")}).map(function(t){return Object.assign({propertyName:t},e[t][F])})}function L(e){return Object.getPrototypeOf(e)}var U="__@ngrx/effects__";function j(e){return(0,r.qC)(V,L)(e)}function V(e){return function(e){return e.constructor.hasOwnProperty(U)}(e)?e.constructor[U]:[]}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return e.pipe((0,I.K)(function(r){return t&&t.handleError(r),n<=1?e:B(e,t,n-1)}))}var q,z=((q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),r=t.call(this),e&&(r.source=e),r}return _createClass(n,[{key:"lift",value:function(e){var t=new n;return t.source=this,t.operator=e,t}}]),n}(a.y)).\u0275fac=function(e){return new(e||q)(R.LFG(r.Y$))},q.\u0275prov=R.Yz7({token:q,factory:q.\u0275fac}),q);function H(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,A.h)(function(e){return t.some(function(t){return"string"==typeof t?t===e.type:t.type===e.type})})}function Z(e){return K(e,"ngrxOnInitEffects")}function K(e,t){return e&&t in e&&"function"==typeof e[t]}var G=new R.OlP("@ngrx/effects Internal Root Guard"),W=new R.OlP("@ngrx/effects User Provided Effects"),Q=new R.OlP("@ngrx/effects Internal Root Effects"),Y=new R.OlP("@ngrx/effects Root Effects"),J=new R.OlP("@ngrx/effects Internal Feature Effects"),$=new R.OlP("@ngrx/effects Feature Effects"),X=new R.OlP("@ngrx/effects Effects Error Handler"),ee=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).errorHandler=e,i.effectsErrorHandler=r,i}return _createClass(n,[{key:"addEffects",value:function(e){this.next(e)}},{key:"toActions",value:function(){var e=this;return this.pipe(p(L),(0,O.zg)(function(e){return e.pipe(p(te))}),(0,O.zg)(function(t){var n=t.pipe(w(function(t){return function(e,t){return function(n){var r=function(e,t,n){var r=L(e).constructor.name,a=function(e){return[j,M].reduce(function(t,n){return t.concat(n(e))},[])}(e).map(function(i){var a=i.propertyName,o=i.dispatch,s=i.useEffectsErrorHandler,c="function"==typeof e[a]?e[a]():e[a],l=s?n(c,t):c;return!1===o?l.pipe(function(e){return e.lift(new u)}):l.pipe(function(e){return e.lift(new h)}).pipe((0,k.U)(function(t){return{effect:e[a],notification:t,propertyName:a,sourceName:r,sourceInstance:e}}))});return i.T.apply(void 0,_toConsumableArray(a))}(n,e,t);return function(e){return K(e,"ngrxOnRunEffects")}(n)?n.ngrxOnRunEffects(r):r}}(e.errorHandler,e.effectsErrorHandler)(t)}),(0,k.U)(function(t){return function(e,t){if("N"===e.notification.kind){var n=e.notification.value;!function(e){return"function"!=typeof e&&e&&e.type&&"string"==typeof e.type}(n)&&t.handleError(new Error("Effect ".concat(function(e){var t=e.propertyName,n=e.sourceInstance,r=e.sourceName,i="function"==typeof n[t];return'"'.concat(r,".").concat(String(t)).concat(i?"()":"",'"')}(e)," dispatched an invalid action: ").concat(function(e){try{return JSON.stringify(e)}catch(t){return e}}(n))))}}(t,e.errorHandler),t.notification}),(0,A.h)(function(e){return"N"===e.kind&&null!=e.value}),function(e){return e.lift(new S)}),r=t.pipe((0,D.q)(1),(0,A.h)(Z),(0,k.U)(function(e){return e.ngrxOnInitEffects()}));return(0,i.T)(n,r)}))}}]),n}(o.xQ);return e.\u0275fac=function(t){return new(t||e)(R.LFG(R.qLn),R.LFG(X))},e.\u0275prov=R.Yz7({token:e,factory:e.\u0275fac}),e}();function te(e){return function(e){return K(e,"ngrxOnIdentifyEffects")}(e)?e.ngrxOnIdentifyEffects():""}var ne=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.effectSources=t,this.store=n,this.effectsSubscription=null}return _createClass(e,[{key:"start",value:function(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}},{key:"ngOnDestroy",value:function(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(R.LFG(ee),R.LFG(r.yh))},e.\u0275prov=R.Yz7({token:e,factory:e.\u0275fac}),e}(),re="@ngrx/effects/init";(0,r.PH)(re);var ie=function(){var e=function(){function e(t,n,r,i,a,o,s){_classCallCheck(this,e),this.sources=t,n.start(),i.forEach(function(e){return t.addEffects(e)}),r.dispatch({type:re})}return _createClass(e,[{key:"addEffects",value:function(e){this.sources.addEffects(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(R.LFG(ee),R.LFG(ne),R.LFG(r.yh),R.LFG(Y),R.LFG(r.cr,8),R.LFG(r.CK,8),R.LFG(G,8))},e.\u0275mod=R.oAB({type:e}),e.\u0275inj=R.cJS({}),e}(),ae=function(){var e=function e(t,n,r,i){_classCallCheck(this,e),n.forEach(function(e){return e.forEach(function(e){return t.addEffects(e)})})};return e.\u0275fac=function(t){return new(t||e)(R.LFG(ie),R.LFG($),R.LFG(r.cr,8),R.LFG(r.CK,8))},e.\u0275mod=R.oAB({type:e}),e.\u0275inj=R.cJS({}),e}(),oe=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forFeature",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{ngModule:ae,providers:[e,{provide:J,multi:!0,useValue:e},{provide:W,multi:!0,useValue:[]},{provide:$,multi:!0,useFactory:se,deps:[R.zs3,J,W]}]}}},{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{ngModule:ie,providers:[{provide:X,useValue:B},ne,ee,z,e,{provide:Q,useValue:[e]},{provide:G,useFactory:ue,deps:[[ne,new R.FiY,new R.tp0],[Q,new R.PiD]]},{provide:W,multi:!0,useValue:[]},{provide:Y,useFactory:se,deps:[R.zs3,Q,W]}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=R.oAB({type:e}),e.\u0275inj=R.cJS({}),e}();function se(e,t,n){var r,i=[],a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.push.apply(i,_toConsumableArray(o))}}catch(l){a.e(l)}finally{a.f()}var s,u=_createForOfIteratorHelper(n);try{for(u.s();!(s=u.n()).done;){var c=s.value;i.push.apply(i,_toConsumableArray(c))}}catch(l){u.e(l)}finally{u.f()}return function(e,t){return t.map(function(t){return e.get(t)})}(e,i)}function ue(e,t){if((1!==t.length||0!==t[0].length)&&e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}},3572:function _(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{FT:function(){return StoreDevtoolsModule}});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7716),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6710),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9193),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8891),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5917),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6682),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7771),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8229),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8819),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5435),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8002),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4612),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2965),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4395),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5304),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5257),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6782),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3190),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3653),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(9746),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7057),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2145),StoreDevtoolsConfig=function e(){_classCallCheck(this,e),this.maxAge=!1},STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}var DEFAULT_NAME="NgRx Store DevTools";function createConfig(e){var t={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},n="function"==typeof e?e():e,r=Object.assign({},t,{features:n.features||!!n.logOnly&&{pause:!0,export:!0,test:!0}||t.features},n);if(r.maxAge&&r.maxAge<2)throw new Error("Devtools 'maxAge' cannot be less than 2, got ".concat(r.maxAge));return r}var PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING",PerformAction=function e(t,n){if(_classCallCheck(this,e),this.action=t,this.timestamp=n,this.type=PERFORM_ACTION,void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')},Refresh=function e(){_classCallCheck(this,e),this.type=REFRESH},Reset=function e(t){_classCallCheck(this,e),this.timestamp=t,this.type=RESET},Rollback=function e(t){_classCallCheck(this,e),this.timestamp=t,this.type=ROLLBACK},Commit=function e(t){_classCallCheck(this,e),this.timestamp=t,this.type=COMMIT},Sweep=function e(){_classCallCheck(this,e),this.type=SWEEP},ToggleAction=function e(t){_classCallCheck(this,e),this.id=t,this.type=TOGGLE_ACTION},SetActionsActive=function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];_classCallCheck(this,e),this.start=t,this.end=n,this.active=r,this.type=SET_ACTIONS_ACTIVE},JumpToState=function e(t){_classCallCheck(this,e),this.index=t,this.type=JUMP_TO_STATE},JumpToAction=function e(t){_classCallCheck(this,e),this.actionId=t,this.type=JUMP_TO_ACTION},ImportState=function e(t){_classCallCheck(this,e),this.nextLiftedState=t,this.type=IMPORT_STATE},LockChanges=function e(t){_classCallCheck(this,e),this.status=t,this.type=LOCK_CHANGES},PauseRecording=function e(t){_classCallCheck(this,e),this.status=t,this.type=PAUSE_RECORDING},DevtoolsDispatcher=(Fe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),Fe.\u0275fac=function(e){return(de||(de=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(Fe)))(e||Fe)},Fe.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:Fe,factory:Fe.\u0275fac}),Fe),de,Fe;function difference(e,t){return e.filter(function(e){return t.indexOf(e)<0})}function unliftState(e){var t=e.computedStates,n=e.currentStateIndex;return n>=t.length?t[t.length-1].state:t[n].state}function unliftAction(e){return e.actionsById[e.nextActionId-1]}function liftAction(e){return new PerformAction(e,+Date.now())}function sanitizeActions(e,t){return Object.keys(t).reduce(function(n,r){var i=Number(r);return n[i]=sanitizeAction(e,t[i],i),n},{})}function sanitizeAction(e,t,n){return Object.assign(Object.assign({},t),{action:e(t.action,n)})}function sanitizeStates(e,t){return t.map(function(t,n){return{state:sanitizeState(e,t.state,n),error:t.error}})}function sanitizeState(e,t,n){return e(t,n)}function shouldFilterActions(e){return e.predicate||e.actionsSafelist||e.actionsBlocklist}function filterLiftedState(e,t,n,r){var i=[],a={},o=[];return e.stagedActionIds.forEach(function(s,u){var c=e.actionsById[s];!c||u&&isActionFiltered(e.computedStates[u],c,t,n,r)||(a[s]=c,i.push(s),o.push(e.computedStates[u]))}),Object.assign(Object.assign({},e),{stagedActionIds:i,actionsById:a,computedStates:o})}function isActionFiltered(e,t,n,r,i){var a=n&&!n(e,t.action),o=r&&!t.action.type.match(r.map(function(e){return escapeRegExp(e)}).join("|")),s=i&&t.action.type.match(i.map(function(e){return escapeRegExp(e)}).join("|"));return a||o||s}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension"),DevtoolsExtension=function(){var DevtoolsExtension=function(){function DevtoolsExtension(e,t,n){_classCallCheck(this,DevtoolsExtension),this.config=t,this.dispatcher=n,this.devtoolsExtension=e,this.createActionStreams()}return _createClass(DevtoolsExtension,[{key:"notify",value:function(e,t){var n=this;if(this.devtoolsExtension)if(e.type===PERFORM_ACTION){if(t.isLocked||t.isPaused)return;var r=unliftState(t);if(shouldFilterActions(this.config)&&isActionFiltered(r,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;var i=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,r,t.currentStateIndex):r,a=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,e,t.nextActionId):e;this.sendToReduxDevtools(function(){return n.extensionConnection.send(a,i)})}else{var o=Object.assign(Object.assign({},t),{stagedActionIds:t.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,t.actionsById):t.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,t.computedStates):t.computedStates});this.sendToReduxDevtools(function(){return n.devtoolsExtension.send(null,o,n.getExtensionConfig(n.config))})}}},{key:"createChangesObservable",value:function(){var e=this;return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(function(t){var n=e.devtoolsExtension.connect(e.getExtensionConfig(e.config));return e.extensionConnection=n,n.init(),n.subscribe(function(e){return t.next(e)}),n.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}},{key:"createActionStreams",value:function(){var e=this,t=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),n=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(function(e){return e.type===ExtensionActionTypes.START})),r=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(function(e){return e.type===ExtensionActionTypes.STOP})),i=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(function(e){return e.type===ExtensionActionTypes.DISPATCH}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(function(t){return e.unwrapAction(t.payload)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(function(t){return t.type===IMPORT_STATE?e.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(function(e){return e.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(function(){return t}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(function(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(t)}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(t)})),a=t.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(function(e){return e.type===ExtensionActionTypes.ACTION}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(function(t){return e.unwrapAction(t.payload)})).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(r)),o=i.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(r));this.start$=n.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(r)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(function(){return a})),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(function(){return o}))}},{key:"unwrapAction",value:function unwrapAction(action){return"string"==typeof action?eval("(".concat(action,")")):action}},{key:"getExtensionConfig",value:function(e){var t,n={name:e.name,features:e.features,serialize:e.serialize,autoPause:null!==(t=e.autoPause)&&void 0!==t&&t};return!1!==e.maxAge&&(n.maxAge=e.maxAge),n}},{key:"sendToReduxDevtools",value:function(e){try{e()}catch(de){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",de)}}}]),DevtoolsExtension}();return DevtoolsExtension.\u0275fac=function(e){return new(e||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension}(),INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(e,t,n,r,i){if(r)return{state:n,error:"Interrupted by an error up the chain"};var a,o=n;try{o=e(n,t)}catch(s){a=s.toString(),i.handleError(s)}return{state:o,error:a}}function recomputeStates(e,t,n,r,i,a,o,s,u){if(t>=e.length&&e.length===a.length)return e;for(var c=e.slice(0,t),l=a.length-(u?1:0),h=t;h<l;h++){var f=a[h],d=i[f].action,p=c[h-1],v=p?p.state:r,g=p?p.error:void 0,y=o.indexOf(f)>-1?p:computeNextEntry(n,d,v,g,s);c.push(y)}return u&&c.push(e[e.length-1]),c}function liftInitialState(e,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:e,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return function(a){return function(o,s){var u=o||t,c=u.monitorState,l=u.actionsById,h=u.nextActionId,f=u.stagedActionIds,d=u.skippedActionIds,p=u.committedState,v=u.currentStateIndex,g=u.computedStates,y=u.isLocked,m=u.isPaused;function _(e){for(var t=e,n=f.slice(1,t+1),r=0;r<n.length;r++){if(g[r+1].error){t=r,n=f.slice(1,t+1);break}delete l[n[r]]}d=d.filter(function(e){return-1===n.indexOf(e)}),f=[0].concat(_toConsumableArray(f.slice(t+1))),p=g[t].state,g=g.slice(t),v=v>t?v-t:0}function k(){l={0:liftAction(INIT_ACTION)},h=1,f=[0],d=[],p=g[v].state,v=0,g=[]}o||(l=Object.create(l));var b=0;switch(s.type){case LOCK_CHANGES:y=s.status,b=1/0;break;case PAUSE_RECORDING:(m=s.status)?(f=[].concat(_toConsumableArray(f),[h]),l[h]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),h++,b=f.length-1,g=g.concat(g[g.length-1]),v===f.length-2&&v++,b=1/0):k();break;case RESET:l={0:liftAction(INIT_ACTION)},h=1,f=[0],d=[],p=e,v=0,g=[];break;case COMMIT:k();break;case ROLLBACK:l={0:liftAction(INIT_ACTION)},h=1,f=[0],d=[],v=0,g=[];break;case TOGGLE_ACTION:var C=s.id;d=-1===d.indexOf(C)?[C].concat(_toConsumableArray(d)):d.filter(function(e){return e!==C}),b=f.indexOf(C);break;case SET_ACTIONS_ACTIVE:for(var w=s.start,x=s.end,E=s.active,S=[],T=w;T<x;T++)S.push(T);d=E?difference(d,S):[].concat(_toConsumableArray(d),S),b=f.indexOf(w);break;case JUMP_TO_STATE:v=s.index,b=1/0;break;case JUMP_TO_ACTION:var I=f.indexOf(s.actionId);-1!==I&&(v=I),b=1/0;break;case SWEEP:f=difference(f,d),d=[],v=Math.min(v,f.length-1);break;case PERFORM_ACTION:if(y)return o||t;if(m||o&&isActionFiltered(o.computedStates[v],s,i.predicate,i.actionsSafelist,i.actionsBlocklist)){var A=g[g.length-1];g=[].concat(_toConsumableArray(g.slice(0,-1)),[computeNextEntry(a,s.action,A.state,A.error,n)]),b=1/0;break}i.maxAge&&f.length===i.maxAge&&_(1),v===f.length-1&&v++;var O=h++;l[O]=s,b=(f=[].concat(_toConsumableArray(f),[O])).length-1;break;case IMPORT_STATE:var D=s.nextLiftedState;c=D.monitorState,l=D.actionsById,h=D.nextActionId,f=D.stagedActionIds,d=D.skippedActionIds,p=D.committedState,v=D.currentStateIndex,g=D.computedStates,y=D.isLocked,m=D.isPaused;break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:b=0,i.maxAge&&f.length>i.maxAge&&(g=recomputeStates(g,b,a,p,l,f,d,n,m),_(f.length-i.maxAge),b=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(g.filter(function(e){return e.error}).length>0)b=0,i.maxAge&&f.length>i.maxAge&&(g=recomputeStates(g,b,a,p,l,f,d,n,m),_(f.length-i.maxAge),b=1/0);else{if(!m&&!y){v===f.length-1&&v++;var R=h++;l[R]=new PerformAction(s,+Date.now()),b=(f=[].concat(_toConsumableArray(f),[R])).length-1,g=recomputeStates(g,b,a,p,l,f,d,n,m)}g=g.map(function(e){return Object.assign(Object.assign({},e),{state:a(e.state,RECOMPUTE_ACTION)})}),v=f.length-1,i.maxAge&&f.length>i.maxAge&&_(f.length-i.maxAge),b=1/0}break;default:b=1/0}return g=recomputeStates(g,b,a,p,l,f,d,n,m),{monitorState:c=r(c,s),actionsById:l,nextActionId:h,stagedActionIds:f,skippedActionIds:d,committedState:p,currentStateIndex:v,computedStates:g,isLocked:y,isPaused:m}}}}var StoreDevtools=function(){var e=function(){function e(t,n,r,i,a,o,s,u){var c=this;_classCallCheck(this,e);var l=liftInitialState(s,u.monitor),h=liftReducerWith(s,l,o,u.monitor,u),f=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(n.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),i.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),t,i.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),d=r.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(h)),p=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),v=f.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(d),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(function(e,t){var n=e.state,r=_slicedToArray(t,2),a=r[0],o=(0,r[1])(n,a);return a.type!==PERFORM_ACTION&&shouldFilterActions(u)&&(o=filterLiftedState(o,u.predicate,u.actionsSafelist,u.actionsBlocklist)),i.notify(a,o),{state:o,action:a}},{state:l,action:null})).subscribe(function(e){var t=e.state,n=e.action;p.next(t),n.type===PERFORM_ACTION&&a.next(n.action)}),g=i.start$.subscribe(function(){c.refresh()}),y=p.asObservable(),m=y.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=g,this.stateSubscription=v,this.dispatcher=t,this.liftedState=y,this.state=m}return _createClass(e,[{key:"dispatch",value:function(e){this.dispatcher.next(e)}},{key:"next",value:function(e){this.dispatcher.next(e)}},{key:"error",value:function(e){}},{key:"complete",value:function(){}},{key:"performAction",value:function(e){this.dispatch(new PerformAction(e,+Date.now()))}},{key:"refresh",value:function(){this.dispatch(new Refresh)}},{key:"reset",value:function(){this.dispatch(new Reset(+Date.now()))}},{key:"rollback",value:function(){this.dispatch(new Rollback(+Date.now()))}},{key:"commit",value:function(){this.dispatch(new Commit(+Date.now()))}},{key:"sweep",value:function(){this.dispatch(new Sweep)}},{key:"toggleAction",value:function(e){this.dispatch(new ToggleAction(e))}},{key:"jumpToAction",value:function(e){this.dispatch(new JumpToAction(e))}},{key:"jumpToState",value:function(e){this.dispatch(new JumpToState(e))}},{key:"importState",value:function(e){this.dispatch(new ImportState(e))}},{key:"lockChanges",value:function(e){this.dispatch(new LockChanges(e))}},{key:"pauseRecording",value:function(e){this.dispatch(new PauseRecording(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},e.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:e,factory:e.\u0275fac}),e}(),IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(e,t){return Boolean(e)||t.monitor!==noMonitor}function createReduxDevtoolsExtension(){var e="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[e]?window[e]:null}function createStateObservable(e){return e.state}var StoreDevtoolsModule=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"instrument",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:t},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:e}),e.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),e}()},6710:function(e,t,n){"use strict";n.d(t,{UO:function(){return k},qg:function(){return _},Y6:function(){return x},mK:function(){return G},n$:function(){return K},Y$:function(){return J},FR:function(){return X},yh:function(){return re},CK:function(){return De},Aw:function(){return Re},cr:function(){return Oe},wb:function(){return W},qC:function(){return H},PH:function(){return v},ZF:function(){return ye},Lq:function(){return Ve},P1:function(){return ve},on:function(){return je},Ky:function(){return g},Ys:function(){return ae}});var r=n(7716),i=n(6215),a=n(8891),o=n(9765),s=n(7771),u=n(9746),c=n(7057),l=n(2145),h=n(2996),f=n(8002),d=n(7519),p={};function v(e,t){if(p[e]=(p[e]||0)+1,"function"==typeof t)return y(e,function(){return Object.assign(Object.assign({},t.apply(void 0,arguments)),{type:e})});switch(t?t._as:"empty"){case"empty":return y(e,function(){return{type:e}});case"props":return y(e,function(t){return Object.assign(Object.assign({},t),{type:e})});default:throw new Error("Unexpected config.")}}function g(){return{_as:"props",_p:void 0}}function y(e,t){return Object.defineProperty(t,"type",{value:e,writable:!1})}var m,_="@ngrx/store/init",k=((m=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,{type:_})}return _createClass(n,[{key:"next",value:function(e){if("function"==typeof e)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===e)throw new TypeError("Actions must be objects");if(void 0===e.type)throw new TypeError("Actions must have a type property");_get2(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"complete",value:function(){}},{key:"ngOnDestroy",value:function(){_get2(_getPrototypeOf(n.prototype),"complete",this).call(this)}}]),n}(i.X)).\u0275fac=function(e){return new(e||m)},m.\u0275prov=r.Yz7({token:m,factory:m.\u0275fac}),m),b=[k],C=new r.OlP("@ngrx/store Internal Root Guard"),w=new r.OlP("@ngrx/store Internal Initial State"),x=new r.OlP("@ngrx/store Initial State"),E=new r.OlP("@ngrx/store Reducer Factory"),S=new r.OlP("@ngrx/store Internal Reducer Factory Provider"),T=new r.OlP("@ngrx/store Initial Reducers"),I=new r.OlP("@ngrx/store Internal Initial Reducers"),A=new r.OlP("@ngrx/store Store Features"),O=new r.OlP("@ngrx/store Internal Store Reducers"),D=new r.OlP("@ngrx/store Internal Feature Reducers"),R=new r.OlP("@ngrx/store Internal Feature Configs"),P=new r.OlP("@ngrx/store Internal Store Features"),F=new r.OlP("@ngrx/store Internal Feature Reducers Token"),N=new r.OlP("@ngrx/store Feature Reducers"),M=new r.OlP("@ngrx/store User Provided Meta Reducers"),L=new r.OlP("@ngrx/store Meta Reducers"),U=new r.OlP("@ngrx/store Internal Resolved Meta Reducers"),j=new r.OlP("@ngrx/store User Runtime Checks Config"),V=new r.OlP("@ngrx/store Internal User Runtime Checks Config"),B=new r.OlP("@ngrx/store Internal Runtime Checks"),q=new r.OlP("@ngrx/store Check if Action types are unique");function z(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e),r={},i=0;i<n.length;i++){var a=n[i];"function"==typeof e[a]&&(r[a]=e[a])}var o=Object.keys(r);return function(e,n){e=void 0===e?t:e;for(var i=!1,a={},s=0;s<o.length;s++){var u=o[s],c=e[u],l=(0,r[u])(c,n);a[u]=l,i=i||l!==c}return i?a:e}}function H(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){if(0===t.length)return e;var n=t[t.length-1];return t.slice(0,-1).reduceRight(function(e,t){return t(e)},n(e))}}function Z(e,t){return Array.isArray(t)&&t.length>0&&(e=H.apply(null,[].concat(_toConsumableArray(t),[e]))),function(t,n){var r=e(t);return function(e,t){return r(e=void 0===e?n:e,t)}}}var K=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(a.y),G=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(k),W="@ngrx/store/update-reducers",Q=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,a(i,r))).dispatcher=e,o.initialState=r,o.reducers=i,o.reducerFactory=a,o}return _createClass(n,[{key:"currentReducers",get:function(){return this.reducers}},{key:"addFeature",value:function(e){this.addFeatures([e])}},{key:"addFeatures",value:function(e){var t=e.reduce(function(e,t){var n=t.reducers,r=t.reducerFactory,i=t.metaReducers,a=t.initialState,o=t.key,s="function"==typeof n?function(e){var t=Array.isArray(e)&&e.length>0?H.apply(void 0,_toConsumableArray(e)):function(e){return e};return function(e,n){return e=t(e),function(t,r){return e(t=void 0===t?n:t,r)}}}(i)(n,a):Z(r,i)(n,a);return e[o]=s,e},{});this.addReducers(t)}},{key:"removeFeature",value:function(e){this.removeFeatures([e])}},{key:"removeFeatures",value:function(e){this.removeReducers(e.map(function(e){return e.key}))}},{key:"addReducer",value:function(e,t){this.addReducers(_defineProperty({},e,t))}},{key:"addReducers",value:function(e){this.reducers=Object.assign(Object.assign({},this.reducers),e),this.updateReducers(Object.keys(e))}},{key:"removeReducer",value:function(e){this.removeReducers([e])}},{key:"removeReducers",value:function(e){var t=this;e.forEach(function(e){t.reducers=function(e,t){return Object.keys(e).filter(function(e){return e!==t}).reduce(function(t,n){return Object.assign(t,_defineProperty({},n,e[n]))},{})}(t.reducers,e)}),this.updateReducers(e)}},{key:"updateReducers",value:function(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:W,features:e})}},{key:"ngOnDestroy",value:function(){this.complete()}}]),n}(i.X);return e.\u0275fac=function(t){return new(t||e)(r.LFG(G),r.LFG(x),r.LFG(T),r.LFG(E))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e}(),Y=[Q,{provide:K,useExisting:Q},{provide:G,useExisting:k}],J=function(){var e,t=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.complete()}}]),n}(o.xQ);return t.\u0275fac=function(n){return(e||(e=r.n5z(t)))(n||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t}(),$=[J],X=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(a.y),ee=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;_classCallCheck(this,n),o=t.call(this,a);var h=e.pipe((0,u.QV)(s.N)).pipe((0,c.M)(r)).pipe((0,l.R)(te,{state:a}));return o.stateSubscription=h.subscribe(function(e){var t=e.state,n=e.action;o.next(t),i.next(n)}),o}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.stateSubscription.unsubscribe(),this.complete()}}]),n}(i.X);return e.\u0275fac=function(t){return new(t||e)(r.LFG(k),r.LFG(K),r.LFG(J),r.LFG(x))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e.INIT=_,e}();function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:void 0},t=arguments.length>1?arguments[1]:void 0,n=_slicedToArray(t,2),r=n[0],i=n[1],a=e.state;return{state:i(a,r),action:r}}var ne=[ee,{provide:X,useExisting:ee}],re=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this)).actionsObserver=r,a.reducerManager=i,a.source=e,a}return _createClass(n,[{key:"select",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ae.call.apply(ae,[null,e].concat(n))(this)}},{key:"lift",value:function(e){var t=new n(this,this.actionsObserver,this.reducerManager);return t.operator=e,t}},{key:"dispatch",value:function(e){this.actionsObserver.next(e)}},{key:"next",value:function(e){this.actionsObserver.next(e)}},{key:"error",value:function(e){this.actionsObserver.error(e)}},{key:"complete",value:function(){this.actionsObserver.complete()}},{key:"addReducer",value:function(e,t){this.reducerManager.addReducer(e,t)}},{key:"removeReducer",value:function(e){this.reducerManager.removeReducer(e)}}]),n}(a.y);return e.\u0275fac=function(t){return new(t||e)(r.LFG(X),r.LFG(k),r.LFG(Q))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e}(),ie=[re];function ae(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return function(n){var i;if("string"==typeof e){var a=[t].concat(r).filter(Boolean);i=n.pipe(h.j.apply(void 0,[e].concat(_toConsumableArray(a))))}else{if("function"!=typeof e)throw new TypeError("Unexpected type '".concat(typeof e,"' in select operator, expected 'string' or 'function'"));i=n.pipe((0,f.U)(function(n){return e(n,t)}))}return i.pipe((0,d.x)())}}var oe="https://ngrx.io/guide/store/configuration/runtime-checks";function se(e){return void 0===e}function ue(e){return null===e}function ce(e){return Array.isArray(e)}function le(e){return"object"==typeof e&&null!==e}function he(e){return"function"==typeof e}function fe(e,t){return e===t}function de(e,t,n){for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!0;return!1}function pe(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fe,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fe,i=null,a=null;return{memoized:function(){if(void 0!==t)return t.result;if(!i)return a=e.apply(null,arguments),i=arguments,a;if(!de(arguments,i,n))return a;var o=e.apply(null,arguments);return i=arguments,r(a,o)?a:(a=o,o)},reset:function(){i=null,a=null},setResult:function(e){t={result:e}},clearResult:function(){t=void 0}}}function ve(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stateFn:ge};return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r;if(Array.isArray(a[0])){var o=a,s=_toArray(o),u=s[0],c=s.slice(1);a=[].concat(_toConsumableArray(u),_toConsumableArray(c))}var l=a.slice(0,a.length-1),h=a[a.length-1],f=l.filter(function(e){return e.release&&"function"==typeof e.release}),d=e(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.apply(null,t)}),p=pe(function(e,n){return t.stateFn.apply(null,[e,l,n,d])});return Object.assign(p.memoized,{release:function(){p.reset(),d.reset(),f.forEach(function(e){return e.release()})},projector:d.memoized,setResult:p.setResult,clearResult:p.clearResult})}}(pe).apply(void 0,arguments)}function ge(e,t,n,r){if(void 0===n){var i=t.map(function(t){return t(e)});return r.memoized.apply(null,i)}var a=t.map(function(t){return t(e,n)});return r.memoized.apply(null,[].concat(_toConsumableArray(a),[n]))}function ye(e){return ve(function(t){var n=t[e];return(0,r.X6Q)()&&!(e in t)&&console.warn('@ngrx/store: The feature name "'.concat(e,"\" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('").concat(e,"', ...) or StoreModule.forFeature('").concat(e,"', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.")),n},function(e){return e})}function me(e){Object.freeze(e);var t=he(e);return Object.getOwnPropertyNames(e).forEach(function(n){if(!n.startsWith("\u0275")&&function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,n)&&(!t||"caller"!==n&&"callee"!==n&&"arguments"!==n)){var r=e[n];(le(r)||he(r))&&!Object.isFrozen(r)&&me(r)}}),e}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(se(e)||ue(e))&&0===t.length?{path:["root"],value:e}:Object.keys(e).reduce(function(n,r){if(n)return n;var i=e[r];return function(e){return he(e)&&e.hasOwnProperty("\u0275cmp")}(i)?n:!(se(i)||ue(i)||function(e){return"number"==typeof e}(i)||function(e){return"boolean"==typeof e}(i)||function(e){return"string"==typeof e}(i)||ce(i))&&(function(e){if(!function(e){return le(e)&&!ce(e)}(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(i)?_e(i,[].concat(_toConsumableArray(t),[r])):{path:[].concat(_toConsumableArray(t),[r]),value:i})},!1)}function ke(e,t){if(!1!==e){var n=e.path.join("."),r=new Error("Detected unserializable ".concat(t,' at "').concat(n,'". ').concat(oe,"#strict").concat(t,"serializability"));throw r.value=e.value,r.unserializablePath=n,r}}function be(e){return(0,r.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Ce(e){var t=e.strictActionSerializability,n=e.strictStateSerializability;return function(e){return t||n?function(e,t){return function(n,r){t.action(r)&&ke(_e(r),"action");var i=e(n,r);return t.state()&&ke(_e(i),"state"),i}}(e,{action:function(e){return t&&!xe(e)},state:function(){return n}}):e}}function we(e){var t=e.strictActionImmutability,n=e.strictStateImmutability;return function(e){return t||n?function(e,t){return function(n,r){var i=t.action(r)?me(r):r,a=e(n,i);return t.state()?me(a):a}}(e,{action:function(e){return t&&!xe(e)},state:function(){return n}}):e}}function xe(e){return e.type.startsWith("@ngrx")}function Ee(e){var t=e.strictActionWithinNgZone;return function(e){return t?function(e,t){return function(n,i){if(t.action(i)&&!r.R0b.isInAngularZone())throw new Error("Action '".concat(i.type,"' running outside NgZone. ").concat(oe,"#strictactionwithinngzone"));return e(n,i)}}(e,{action:function(e){return t&&!xe(e)}}):e}}function Se(e){return[{provide:V,useValue:e},{provide:j,useFactory:Ie,deps:[V]},{provide:B,deps:[j],useFactory:be},{provide:L,multi:!0,deps:[B],useFactory:we},{provide:L,multi:!0,deps:[B],useFactory:Ce},{provide:L,multi:!0,deps:[B],useFactory:Ee}]}function Te(){return[{provide:q,multi:!0,deps:[B],useFactory:Ae}]}function Ie(e){return e}function Ae(e){if(e.strictActionTypeUniqueness){var t=Object.entries(p).filter(function(e){return _slicedToArray(e,2)[1]>1}).map(function(e){return _slicedToArray(e,1)[0]});if(t.length)throw new Error("Action types are registered more than once, ".concat(t.map(function(e){return'"'.concat(e,'"')}).join(", "),". ").concat(oe,"#strictactiontypeuniqueness"))}}var Oe=function(){var e=function e(t,n,r,i,a,o){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)(r.LFG(k),r.LFG(K),r.LFG(J),r.LFG(re),r.LFG(C,8),r.LFG(q,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e}(),De=function(){var e=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.features=t,this.featureReducers=n,this.reducerManager=r;var o=t.map(function(e,t){var r=n.shift()[t];return Object.assign(Object.assign({},e),{reducers:r,initialState:Me(e.initialState)})});r.addFeatures(o)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.reducerManager.removeFeatures(this.features)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.LFG(P),r.LFG(N),r.LFG(Q),r.LFG(Oe),r.LFG(q,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e}(),Re=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:Oe,providers:[{provide:C,useFactory:Ue,deps:[[re,new r.FiY,new r.tp0]]},{provide:w,useValue:t.initialState},{provide:x,useFactory:Me,deps:[w]},{provide:I,useValue:e},{provide:O,useExisting:e instanceof r.OlP?e:I},{provide:T,deps:[r.zs3,I,[new r.tBr(O)]],useFactory:Pe},{provide:M,useValue:t.metaReducers?t.metaReducers:[]},{provide:U,deps:[L,M],useFactory:Le},{provide:S,useValue:t.reducerFactory?t.reducerFactory:z},{provide:E,deps:[S,U],useFactory:Z},b,Y,$,ne,ie,Se(t.runtimeChecks),Te()]}}},{key:"forFeature",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{ngModule:De,providers:[{provide:R,multi:!0,useValue:e instanceof Object?{}:n},{provide:A,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:n instanceof r.OlP||!n.reducerFactory?z:n.reducerFactory,metaReducers:n instanceof r.OlP||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof r.OlP||!n.initialState?void 0:n.initialState}},{provide:P,deps:[r.zs3,R,A],useFactory:Fe},{provide:D,multi:!0,useValue:e instanceof Object?e.reducer:t},{provide:F,multi:!0,useExisting:t instanceof r.OlP?t:D},{provide:N,multi:!0,deps:[r.zs3,D,[new r.tBr(F)]],useFactory:Ne},Te()]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e}();function Pe(e,t){return t instanceof r.OlP?e.get(t):t}function Fe(e,t,n){return n.map(function(n,i){if(t[i]instanceof r.OlP){var a=e.get(t[i]);return{key:n.key,reducerFactory:a.reducerFactory?a.reducerFactory:z,metaReducers:a.metaReducers?a.metaReducers:[],initialState:a.initialState}}return n})}function Ne(e,t){return t.map(function(t){return t instanceof r.OlP?e.get(t):t})}function Me(e){return"function"==typeof e?e():e}function Le(e,t){return e.concat(t)}function Ue(e){if(e)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{reducer:t.pop(),types:t.map(function(e){return e.type})}}function Ve(e){for(var t=new Map,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=function(){var e,n=s[o],r=_createForOfIteratorHelper(n.types);try{var i=function(){var r=e.value,i=t.get(r);t.set(r,i?function(e,t){return n.reducer(i(e,t),t)}:n.reducer)};for(r.s();!(e=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}},o=0,s=r;o<s.length;o++)a();return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0,i=t.get(r.type);return i?i(n,r):n}}},2329:function(e,t,n){"use strict";n.d(t,{Mq:function(){return r.getApp},C6:function(){return r.getApps},ZF:function(){return r.initializeApp},KN:function(){return r.registerVersion}});var r=n(5452);(0,r.registerVersion)("firebase","9.2.0","app")},7841:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(4486);r.Z.registerVersion("firebase","9.2.0","app-compat")},4828:function(e,t,n){"use strict";n.r(t);var r=n(8239),i=n(4486),a=n(209),o=n(3854),s=(n(5452),n(5601),n(6034));function u(){return window}function c(){return(c=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=u(),s=o.BuildInfo,(0,a.ap)(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,f(n.sessionId);case 4:return c=e.sent,l={},e.abrupt("return",((0,a.aq)()?l.ibi=s.packageName:(0,a.ar)()?l.apn=s.packageName:(0,a.as)(t,"operation-not-supported-in-this-environment"),s.displayName&&(l.appDisplayName=s.displayName),l.sessionId=c,(0,a.at)(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,l)));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(){return(l=(0,r.Z)(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u(),r=n.BuildInfo,i={},(0,a.aq)()?i.iosBundleId=r.packageName:(0,a.ar)()?i.androidPackageName=r.packageName:(0,a.as)(t,"operation-not-supported-in-this-environment"),e.next=4,(0,a.au)(t,i);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(){return(h=(0,r.Z)(regeneratorRuntime.mark(function e(t,n,r){var i,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=u(),o=i.cordova,s=function(){},e.prev=2,e.next=5,new Promise(function(e,i){var u=null;function c(){var t;e();var n=null===(t=o.plugins.browsertab)||void 0===t?void 0:t.close;"function"==typeof n&&n(),"function"==typeof(null==r?void 0:r.close)&&r.close()}function l(){u||(u=window.setTimeout(function(){i((0,a.av)(t,"redirect-cancelled-by-user"))},2e3))}function h(){"visible"===(null==document?void 0:document.visibilityState)&&l()}n.addPassiveListener(c),document.addEventListener("resume",l,!1),(0,a.ar)()&&document.addEventListener("visibilitychange",h,!1),s=function(){n.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",h,!1),u&&window.clearTimeout(u)}});case 5:return e.prev=5,s(),e.finish(5);case 8:case"end":return e.stop()}},e,null,[[2,,5,8]])}))).apply(this,arguments)}function f(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=p(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,e.abrupt("return",Array.from(new Uint8Array(r)).map(function(e){return e.toString(16).padStart(2,"0")}).join(""));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){if((0,a.ap)(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var v=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise(function(t){e.resolveInialized=t}),e}return _createClass(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach(function(t){return t(e)}),_get2(_getPrototypeOf(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.initPromise;case 2:case"end":return t.stop()}},t)}))()}}]),n}(a.az);function g(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_()._get(k(t));case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=7;break}return e.next=7,_()._remove(k(t));case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function _(){return(0,a.ax)(a.b)}function k(e){return(0,a.ay)("authEvent",e.config.apiKey,e.name)}function b(e){if(!(null==e?void 0:e.includes("?")))return{};var t=_toArray(e.split("?")),n=(t[0],t.slice(1));return(0,o.zd)(n.join("?"))}function C(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,a.av)("no-auth-event")}}function w(){var e;return(null===(e=null==self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.z$)();return!("file:"!==w()&&"ionic:"!==w()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function E(){try{var e=self.localStorage,t=a.aG();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.z$)();return(0,o.w1)()&&11===(null==document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.z$)();return/Edge\/\d+/.test(e)}(e)}()||(0,o.hl)()}catch(Y){return S()&&(0,o.hl)()}return!1}function S(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function T(){return("http:"===w()||"https:"===w()||(0,o.ru)()||x())&&!((0,o.b$)()||(0,o.UG)())&&E()&&!S()}function I(){return x()&&"undefined"!=typeof document}function A(){return(A=(0,r.Z)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!I()&&new Promise(function(e){var t=setTimeout(function(){e(!1)},1e3);document.addEventListener("deviceready",function(){clearTimeout(t),e(!0)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var O={LOCAL:"local",NONE:"none",SESSION:"session"},D=a.aw,R="persistence";function P(e){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=N(),r=a.ay(R,t.config.apiKey,t.name),(null==n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(r,t._getPersistence());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(){return"undefined"!=typeof window?window:null}var M=a.aw,L=function(){function e(){_classCallCheck(this,e),this.browserResolver=a.ax(a.k),this.cordovaResolver=a.ax(function(){function e(){_classCallCheck(this,e),this._redirectPersistence=a.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=a.aA}return _createClass(e,[{key:"_initialize",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e._key(),i=t.eventManagers.get(r),n.abrupt("return",(i||(i=new v(e),t.eventManagers.set(r,i),t.attachCallbackListeners(e,i)),i));case 3:case"end":return n.stop()}},n)}))()}},{key:"_openPopup",value:function(e){(0,a.as)(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(e,t,n,i){var o=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){var s,l,f,d;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return function(e){var t,n,r,i,o,s,c,l,h,f,d=u();(0,a.aw)("function"==typeof(null===(t=null==d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,a.aw)(void 0!==(null===(n=null==d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,a.aw)("function"==typeof(null===(o=null===(i=null===(r=null==d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,a.aw)("function"==typeof(null===(l=null===(c=null===(s=null==d?void 0:d.cordova)||void 0===s?void 0:s.plugins)||void 0===c?void 0:c.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,a.aw)("function"==typeof(null===(f=null===(h=null==d?void 0:d.cordova)||void 0===h?void 0:h.InAppBrowser)||void 0===f?void 0:f.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e),r.next=3,o._initialize(e);case 3:return s=r.sent,r.next=6,s.initialized();case 6:return s.resetRedirect(),(0,a.aB)(),r.next=10,o._originValidation(e);case 10:return l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:m(),postBody:null,tenantId:e.tenantId,error:(0,a.av)(e,"no-auth-event")}}(e,n,i),r.next=13,function(e,t){return _()._set(k(e),t)}(e,l);case 13:return r.next=15,function(e,t,n){return c.apply(this,arguments)}(e,l,t);case 15:return f=r.sent,r.next=18,function(e){var t=u().cordova;return new Promise(function(n){t.plugins.browsertab.isAvailable(function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,(0,a.ao)()?"_blank":"_system","location=yes"),n(i)})})}(f);case 18:return d=r.sent,r.abrupt("return",function(e,t,n){return h.apply(this,arguments)}(e,s,d));case 20:case"end":return r.stop()}},r)}))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return l.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n,i=u(),o=i.universalLinks,s=i.handleOpenURL,c=i.BuildInfo,l=setTimeout((0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g(e);case 2:t.onEvent(C());case 3:case"end":return n.stop()}},n)})),500),h=(n=(0,r.Z)(regeneratorRuntime.mark(function n(r){var i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(l),n.next=3,g(e);case 3:i=n.sent,o=null,i&&(null==r?void 0:r.url)&&(o=function(e,t){var n,r,i=function(e){var t=b(e),n=t.link?decodeURIComponent(t.link):void 0,r=b(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return b(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var o=b(i),s=o.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(o.firebaseError)):null,u=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],c=u?(0,a.av)(u):null;return c?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(i,r.url)),t.onEvent(o||C());case 6:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)});void 0!==o&&"function"==typeof o.subscribe&&o.subscribe(null,h);var f=s,d="".concat(c.packageName.toLowerCase(),"://");u().handleOpenURL=function(){var e=(0,r.Z)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(d)&&h({url:t}),"function"==typeof f)try{f(t)}catch(n){console.error(n)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}}]),e}()),this.underlyingResolver=null,this._redirectPersistence=a.a,this._completeRedirectFn=a.aA}return _createClass(e,[{key:"_initialize",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.selectUnderlyingResolver();case 2:return n.abrupt("return",t.assertedUnderlyingResolver._initialize(e));case 3:case"end":return n.stop()}},n)}))()}},{key:"_openPopup",value:function(e,t,n,i){var a=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.selectUnderlyingResolver();case 2:return r.abrupt("return",a.assertedUnderlyingResolver._openPopup(e,t,n,i));case 3:case"end":return r.stop()}},r)}))()}},{key:"_openRedirect",value:function(e,t,n,i){var a=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.selectUnderlyingResolver();case 2:return r.abrupt("return",a.assertedUnderlyingResolver._openRedirect(e,t,n,i));case 3:case"end":return r.stop()}},r)}))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return I()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return M(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.underlyingResolver){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,function(){return A.apply(this,arguments)}();case 4:n=t.sent,e.underlyingResolver=n?e.cordovaResolver:e.browserResolver;case 6:case"end":return t.stop()}},t)}))()}}]),e}();function U(e){return e.unwrap()}function j(e){return V(e)}function V(e){var t=(e instanceof o.ZR?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof o.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return a.P.credentialFromResult(e);var n,r=t.providerId;if(!r||r===a.o.PASSWORD)return null;switch(r){case a.o.GOOGLE:n=a.N;break;case a.o.FACEBOOK:n=a.M;break;case a.o.GITHUB:n=a.Q;break;case a.o.TWITTER:n=a.V;break;default:var i=t.oauthIdToken,s=t.oauthAccessToken,u=t.oauthTokenSecret,c=t.pendingToken,l=t.nonce;return s||u||i||c?c?r.startsWith("saml.")?a.aJ._create(r,c):a.I._fromParams({providerId:r,signInMethod:r,pendingToken:c,idToken:i,accessToken:s}):new a.T(r).credential({idToken:i,accessToken:s,rawNonce:l}):null}return e instanceof o.ZR?n.credentialFromError(e):n.credentialFromResult(e)}function B(e,t){return t.catch(function(t){throw t instanceof o.ZR&&function(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new H(e,a.am(e,t));else if(r){var i=V(t),o=t;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(function(e){var t=e.user;return{operationType:e.operationType,credential:j(e),additionalUserInfo:a.ak(e),user:Z.getOrCreate(t)}})}function q(e,t){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return B(t,r.confirm(e))}});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var H=function(){function e(t,n){_classCallCheck(this,e),this.resolver=n,this.auth=t.wrapped()}return _createClass(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return B(U(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Z=function(){function e(t){_classCallCheck(this,e),this._delegate=t,this.multiFactor=a.an(t)}return _createClass(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(t.auth,a.Y(t._delegate,e)));case 1:case"end":return n.stop()}},n)}))()}},{key:"linkWithPhoneNumber",value:function(e,t){var n=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",q(n.auth,a.l(n._delegate,e,t)));case 1:case"end":return r.stop()}},r)}))()}},{key:"linkWithPopup",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(t.auth,a.d(t._delegate,e,L)));case 1:case"end":return n.stop()}},n)}))()}},{key:"linkWithRedirect",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,P(a.aC(t.auth));case 2:return n.abrupt("return",a.g(t._delegate,e,L));case 3:case"end":return n.stop()}},n)}))()}},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",B(t.auth,a.Z(t._delegate,e)));case 1:case"end":return n.stop()}},n)}))()}},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return q(this.auth,a.r(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return B(this.auth,a.e(this._delegate,e,L))}},{key:"reauthenticateWithRedirect",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,P(a.aC(t.auth));case 2:return n.abrupt("return",a.h(t._delegate,e,L));case 3:case"end":return n.stop()}},n)}))()}},{key:"sendEmailVerification",value:function(e){return a.aa(this._delegate,e)}},{key:"unlink",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.aj(t._delegate,e);case 2:return n.abrupt("return",t);case 3:case"end":return n.stop()}},n)}))()}},{key:"updateEmail",value:function(e){return a.af(this._delegate,e)}},{key:"updatePassword",value:function(e){return a.ag(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return a.u(this._delegate,e)}},{key:"updateProfile",value:function(e){return a.ae(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return a.ab(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Z.USER_MAP=new WeakMap;var K=a.aw,G=function(){var e=function(){function e(t,n){if(_classCallCheck(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;K(r,"invalid-api-key",{appName:t.name});var i=[a.K];if("undefined"!=typeof window){i=function(e,t){var n=N();if(!(null==n?void 0:n.sessionStorage))return[];var r=a.ay(R,e,t);switch(n.sessionStorage.getItem(r)){case O.NONE:return[a.K];case O.LOCAL:return[a.i,a.a];case O.SESSION:return[a.a];default:return[]}}(r,t.name);for(var o=0,s=[a.i,a.b,a.a];o<s.length;o++){var u=s[o];i.includes(u)||i.push(u)}}K(r,"invalid-api-key",{appName:t.name});var c="undefined"!=typeof window?L:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:c}}),this._delegate._updateErrorMap(a.z),this.linkUnderlyingAuth()}return _createClass(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Z.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){a.E(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return a.a1(this._delegate,e)}},{key:"checkActionCode",value:function(e){return a.a2(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return a.a0(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(e,t){var n=this;return(0,r.Z)(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",B(n._delegate,a.a4(n._delegate,e,t)));case 1:case"end":return r.stop()}},r)}))()}},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return a.a9(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return a.a7(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return K(T(),e._delegate,"operation-not-supported-in-this-environment"),t.next=3,a.j(e._delegate,L);case 3:return n=t.sent,t.abrupt("return",n?B(e._delegate,Promise.resolve(n)):{credential:null,user:null});case 5:case"end":return t.stop()}},t)}))()}},{key:"addFrameworkForLogging",value:function(e){!function(e,t){(0,a.aC)(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=W(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=W(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return a.a6(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return a.$(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=(function(e,t){D(Object.values(O).includes(t),e,"invalid-persistence-type"),(0,o.b$)()?D(t!==O.SESSION,e,"unsupported-persistence-type"):(0,o.UG)()?D(t===O.NONE,e,"unsupported-persistence-type"):S()?D(t===O.NONE||t===O.LOCAL&&(0,o.hl)(),e,"unsupported-persistence-type"):D(t===O.NONE||E(),e,"unsupported-persistence-type")}(t._delegate,e),e),n.next=n.t0===O.SESSION?3:n.t0===O.LOCAL?5:n.t0===O.NONE?14:16;break;case 3:return r=a.a,n.abrupt("break",17);case 5:return n.next=7,a.ax(a.i)._isAvailable();case 7:if(!n.sent){n.next=11;break}n.t1=a.i,n.next=12;break;case 11:n.t1=a.b;case 12:return r=n.t1,n.abrupt("break",17);case 14:return r=a.K,n.abrupt("break",17);case 16:return n.abrupt("return",a.as("argument-error",{appName:t._delegate.name}));case 17:return n.abrupt("return",t._delegate.setPersistence(r));case 18:case"end":return n.stop()}},n)}))()}},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return B(this._delegate,a.W(this._delegate))}},{key:"signInWithCredential",value:function(e){return B(this._delegate,a.X(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return B(this._delegate,a._(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return B(this._delegate,a.a5(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return B(this._delegate,a.a8(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return q(this._delegate,a.s(this._delegate,e,t))}},{key:"signInWithPopup",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(K(T(),t._delegate,"operation-not-supported-in-this-environment"),B(t._delegate,a.c(t._delegate,e,L))));case 1:case"end":return n.stop()}},n)}))()}},{key:"signInWithRedirect",value:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return K(T(),t._delegate,"operation-not-supported-in-this-environment"),n.next=3,P(t._delegate);case 3:return n.abrupt("return",a.f(t._delegate,e,L));case 4:case"end":return n.stop()}},n)}))()}},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return a.a3(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();return e.Persistence=O,e}();function W(e,t,n){var r,i=e;"function"!=typeof e&&(i=(r=e).next,t=r.error,n=r.complete);var a=i;return{next:function(e){return a(e&&Z.getOrCreate(e))},error:t,complete:n}}var Q=function(){function e(){_classCallCheck(this,e),this.providerId="phone",this._delegate=new a.P(U(i.Z.auth()))}return _createClass(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return a.P.credential(e,t)}}]),e}();Q.PHONE_SIGN_IN_METHOD=a.P.PHONE_SIGN_IN_METHOD,Q.PROVIDER_ID=a.P.PROVIDER_ID;var Y,J=a.aw;(Y=i.Z).INTERNAL.registerComponent(new s.wA("auth-compat",function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new G(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:a.A.EMAIL_SIGNIN,PASSWORD_RESET:a.A.PASSWORD_RESET,RECOVER_EMAIL:a.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:a.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:a.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:a.A.VERIFY_EMAIL}},EmailAuthProvider:a.L,FacebookAuthProvider:a.M,GithubAuthProvider:a.Q,GoogleAuthProvider:a.N,OAuthProvider:a.T,PhoneAuthProvider:Q,PhoneMultiFactorGenerator:a.m,RecaptchaVerifier:function(){function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Z.app();_classCallCheck(this,e),J(null===(r=o.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:o.name}),this._delegate=new a.R(t,n,o.auth()),this.type=this._delegate.type}return _createClass(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}(),TwitterAuthProvider:a.V,Auth:G,AuthCredential:a.G,Error:o.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Y.registerVersion("@firebase/auth-compat","0.2.0")},6676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function r(e,t,r){var i,a=new Promise(function(a,o){n(i=e[t].apply(e,r)).then(a,o)});return a.request=i,a}function i(e,t,n){var i=r(e,t,n);return i.then(function(e){if(e)return new l(e,i.request)})}function a(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,n,i){i.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})})}function s(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function u(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})})}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}a(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),a(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then(function(e){if(e)return new l(e,t._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},a(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},a(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},a(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},a(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[h,c].forEach(function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,a=i[e].apply(i,n.slice(0,-1));a.onsuccess=function(){r(a.result)}})})}),[c,h].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(i){n.iterateCursor(e,function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)})})})}),e.openDb=function(e,t,n){var i=r(indexedDB,"open",[e,t]),a=i.request;return a&&(a.onupgradeneeded=function(e){n&&n(new d(a.result,e.oldVersion,a.transaction))}),i.then(function(e){return new p(e)})},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},9344:function(e,t,n){"use strict";n.d(t,{Rh:function(){return N},_W:function(){return R}});var r=n(7716),i=n(7238),a=n(9765),o=n(9075),s=n(8583),u=["toast-component",""];function c(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){return r.CHM(n),r.oxw().remove()}),r.TgZ(1,"span",6),r._uU(2,"\xd7"),r.qZA(),r.qZA()}}function l(e,t){if(1&e&&(r.ynx(0),r._uU(1),r.BQk()),2&e){var n=r.oxw(2);r.xp6(1),r.hij("[",n.duplicatesCount+1,"]")}}function h(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.YNc(2,l,2,1,"ng-container",4),r.qZA()),2&e){var n=r.oxw();r.Tol(n.options.titleClass),r.uIk("aria-label",n.title),r.xp6(1),r.hij(" ",n.title," "),r.xp6(1),r.Q6J("ngIf",n.duplicatesCount)}}function f(e,t){if(1&e&&r._UZ(0,"div",7),2&e){var n=r.oxw();r.Tol(n.options.messageClass),r.Q6J("innerHTML",n.message,r.oJD)}}function d(e,t){if(1&e&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&e){var n=r.oxw();r.Tol(n.options.messageClass),r.uIk("aria-label",n.message),r.xp6(1),r.hij(" ",n.message," ")}}function p(e,t){if(1&e&&(r.TgZ(0,"div"),r._UZ(1,"div",9),r.qZA()),2&e){var n=r.oxw();r.xp6(1),r.Udp("width",n.width+"%")}}function v(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){return r.CHM(n),r.oxw().remove()}),r.TgZ(1,"span",6),r._uU(2,"\xd7"),r.qZA(),r.qZA()}}function g(e,t){if(1&e&&(r.ynx(0),r._uU(1),r.BQk()),2&e){var n=r.oxw(2);r.xp6(1),r.hij("[",n.duplicatesCount+1,"]")}}function y(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.YNc(2,g,2,1,"ng-container",4),r.qZA()),2&e){var n=r.oxw();r.Tol(n.options.titleClass),r.uIk("aria-label",n.title),r.xp6(1),r.hij(" ",n.title," "),r.xp6(1),r.Q6J("ngIf",n.duplicatesCount)}}function m(e,t){if(1&e&&r._UZ(0,"div",7),2&e){var n=r.oxw();r.Tol(n.options.messageClass),r.Q6J("innerHTML",n.message,r.oJD)}}function _(e,t){if(1&e&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&e){var n=r.oxw();r.Tol(n.options.messageClass),r.uIk("aria-label",n.message),r.xp6(1),r.hij(" ",n.message," ")}}function k(e,t){if(1&e&&(r.TgZ(0,"div"),r._UZ(1,"div",9),r.qZA()),2&e){var n=r.oxw();r.xp6(1),r.Udp("width",n.width+"%")}}var b,C=function(){function e(t,n,r,i,o,s){var u=this;_classCallCheck(this,e),this.toastId=t,this.config=n,this.message=r,this.title=i,this.toastType=o,this.toastRef=s,this._onTap=new a.xQ,this._onAction=new a.xQ,this.toastRef.afterClosed().subscribe(function(){u._onAction.complete(),u._onTap.complete()})}return _createClass(e,[{key:"triggerTap",value:function(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}},{key:"onTap",value:function(){return this._onTap.asObservable()}},{key:"triggerAction",value:function(e){this._onAction.next(e)}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),e}(),w={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},x=new r.OlP("ToastConfig"),E=function(){function e(t,n){_classCallCheck(this,e),this.component=t,this.injector=n}return _createClass(e,[{key:"attach",value:function(e,t){return this._attachedHost=e,e.attach(this,t)}},{key:"detach",value:function(){var e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(e){this._attachedHost=e}}]),e}(),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this))._hostDomElement=e,a._componentFactoryResolver=r,a._appRef=i,a}return _createClass(n,[{key:"attachComponentPortal",value:function(e,t){var n,r=this,i=this._componentFactoryResolver.resolveComponentFactory(e.component);return n=i.create(e.injector),this._appRef.attachView(n.hostView),this.setDisposeFn(function(){r._appRef.detachView(n.hostView),n.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(n),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(n)),n}},{key:"_getComponentRootNode",value:function(e){return e.hostView.rootNodes[0]}}]),n}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"attach",value:function(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}},{key:"detach",value:function(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}},{key:"setDisposeFn",value:function(e){this._disposeFn=e}}]),e}()),T=((b=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var e=this._document.createElement("div");e.classList.add("overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}]),e}()).\u0275fac=function(e){return new(e||b)(r.LFG(s.K0))},b.\u0275prov=r.Yz7({factory:function(){return new b(r.LFG(s.K0))},token:b,providedIn:"root"}),b),I=function(){function e(t){_classCallCheck(this,e),this._portalHost=t}return _createClass(e,[{key:"attach",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._portalHost.attach(e,t)}},{key:"detach",value:function(){return this._portalHost.detach()}}]),e}(),A=function(){var e=function(){function e(t,n,r,i){_classCallCheck(this,e),this._overlayContainer=t,this._componentFactoryResolver=n,this._appRef=r,this._document=i,this._paneElements=new Map}return _createClass(e,[{key:"create",value:function(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}},{key:"getPaneElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}},{key:"_createPaneElement",value:function(e,t){var n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}},{key:"_createPortalHost",value:function(e){return new S(e,this._componentFactoryResolver,this._appRef)}},{key:"_createOverlayRef",value:function(e){return new I(this._createPortalHost(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.LFG(T),r.LFG(r._Vd),r.LFG(r.z2F),r.LFG(s.K0))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(T),r.LFG(r._Vd),r.LFG(r.z2F),r.LFG(s.K0))},token:e,providedIn:"root"}),e}(),O=function(){function e(t){_classCallCheck(this,e),this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new a.xQ,this._activate=new a.xQ,this._manualClose=new a.xQ,this._resetTimeout=new a.xQ,this._countDuplicate=new a.xQ}return _createClass(e,[{key:"manualClose",value:function(){this._manualClose.next(),this._manualClose.complete()}},{key:"manualClosed",value:function(){return this._manualClose.asObservable()}},{key:"timeoutReset",value:function(){return this._resetTimeout.asObservable()}},{key:"countDuplicate",value:function(){return this._countDuplicate.asObservable()}},{key:"close",value:function(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}},{key:"afterClosed",value:function(){return this._afterClosed.asObservable()}},{key:"isInactive",value:function(){return this._activate.isStopped}},{key:"activate",value:function(){this._activate.next(),this._activate.complete()}},{key:"afterActivate",value:function(){return this._activate.asObservable()}},{key:"onDuplicate",value:function(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}]),e}(),D=function(){function e(t,n){_classCallCheck(this,e),this._toastPackage=t,this._parentInjector=n}return _createClass(e,[{key:"get",value:function(e,t,n){return e===C?this._toastPackage:this._parentInjector.get(e,t,n)}}]),e}(),R=function(){var e=function(){function e(t,n,r,i,a){_classCallCheck(this,e),this.overlay=n,this._injector=r,this.sanitizer=i,this.ngZone=a,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}return _createClass(e,[{key:"show",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this._preBuildNotification(r,e,t,this.applyConfig(n))}},{key:"success",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,t,this.applyConfig(n))}},{key:"error",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,t,this.applyConfig(n))}},{key:"info",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,t,this.applyConfig(n))}},{key:"warning",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,t,this.applyConfig(n))}},{key:"clear",value:function(e){var t,n=_createForOfIteratorHelper(this.toasts);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(void 0!==e){if(r.toastId===e)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}}catch(i){n.e(i)}finally{n.f()}}},{key:"remove",value:function(e){var t=this._findToast(e);if(!t||(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){var n=this.toasts[this.currentlyActive].toastRef;n.isInactive()||(this.currentlyActive=this.currentlyActive+1,n.activate())}return!0}},{key:"findDuplicate",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=this.toastrConfig.includeTitleDuplicates,o=_createForOfIteratorHelper(this.toasts);try{for(o.s();!(e=o.n()).done;){var s=e.value,u=a&&s.title===t;if((!a||u)&&s.message===n)return s.toastRef.onDuplicate(r,i),s}}catch(c){o.e(c)}finally{o.f()}return null}},{key:"applyConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.toastrConfig),e)}},{key:"_findToast",value:function(e){for(var t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}},{key:"_preBuildNotification",value:function(e,t,n,r){var i=this;return r.onActivateTick?this.ngZone.run(function(){return i._buildNotification(e,t,n,r)}):this._buildNotification(e,t,n,r)}},{key:"_buildNotification",value:function(e,t,n,i){if(!i.toastComponent)throw new Error("toastComponent required");var a=this.findDuplicate(n,t,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||t)&&this.toastrConfig.preventDuplicates&&null!==a)return a;this.previousToastMessage=t;var o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));var s=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;var u=t;t&&i.enableHtml&&(u=this.sanitizer.sanitize(r.q3G.HTML,t));var c=new O(s),l=new C(this.index,i,u,n,e,c),h=new D(l,this._injector),f=new E(i.toastComponent,h),d=s.attach(f,this.toastrConfig.newestOnTop);c.componentInstance=d.instance;var p={toastId:this.index,title:n||"",message:t||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:d};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(function(){p.toastRef.activate()})),this.toasts.push(p),p}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.LFG(x),r.LFG(A),r.LFG(r.zs3),r.LFG(o.H7),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(x),r.LFG(A),r.LFG(r.gxx),r.LFG(o.H7),r.LFG(r.R0b))},token:e,providedIn:"root"}),e}(),P=function(){var e=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.toastrService=t,this.toastPackage=n,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe(function(){i.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(function(){i.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(function(){i.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(function(e){i.duplicatesCount=e})}return _createClass(e,[{key:"displayStyle",get:function(){if("inactive"===this.state.value)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var e=this;this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(function(){return e.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(function(){return e.updateProgress()},10))}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(function(){return e.remove()},this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(function(){return e.updateProgress()},10)}},{key:"remove",value:function(){var e=this;"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(function(){return e.toastrService.remove(e.toastPackage.toastId)},+this.toastPackage.config.easeTime))}},{key:"tapToast",value:function(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var e=this;!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(function(){return e.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(function(){return e.updateProgress()},10))}},{key:"outsideTimeout",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return n.timeout=setTimeout(function(){return n.runInsideAngular(e)},t)}):this.timeout=setTimeout(function(){return e()},t)}},{key:"outsideInterval",value:function(e,t){var n=this;this.ngZone?this.ngZone.runOutsideAngular(function(){return n.intervalId=setInterval(function(){return n.runInsideAngular(e)},t)}):this.intervalId=setInterval(function(){return e()},t)}},{key:"runInsideAngular",value:function(e){this.ngZone?this.ngZone.run(function(){return e()}):e()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(R),r.Y36(C),r.Y36(r.R0b))},e.\u0275cmp=r.Xpm({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),2&e&&(r.d8E("@flyInOut",t.state),r.Tol(t.toastClasses),r.Udp("display",t.displayStyle))},attrs:u,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(r.YNc(0,c,3,0,"button",0),r.YNc(1,h,3,5,"div",1),r.YNc(2,f,1,3,"div",2),r.YNc(3,d,2,4,"div",3),r.YNc(4,p,2,2,"div",4)),2&e&&(r.Q6J("ngIf",t.options.closeButton),r.xp6(1),r.Q6J("ngIf",t.title),r.xp6(1),r.Q6J("ngIf",t.message&&t.options.enableHtml),r.xp6(1),r.Q6J("ngIf",t.message&&!t.options.enableHtml),r.xp6(1),r.Q6J("ngIf",t.options.progressBar))},directives:[s.O5],encapsulation:2,data:{animation:[(0,i.X$)("flyInOut",[(0,i.SB)("inactive",(0,i.oB)({opacity:0})),(0,i.SB)("active",(0,i.oB)({opacity:1})),(0,i.SB)("removed",(0,i.oB)({opacity:0})),(0,i.eR)("inactive => active",(0,i.jt)("{{ easeTime }}ms {{ easing }}")),(0,i.eR)("active => removed",(0,i.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),e}(),F=Object.assign(Object.assign({},w),{toastComponent:P}),N=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[{provide:x,useValue:{default:F,config:t}}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[s.ez]]}),e}(),M=function(){var e=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.toastrService=t,this.toastPackage=n,this.appRef=r,this.width=-1,this.toastClasses="",this.state="inactive",this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses="".concat(n.toastType," ").concat(n.config.toastClass),this.sub=n.toastRef.afterActivate().subscribe(function(){i.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(function(){i.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(function(){i.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(function(e){i.duplicatesCount=e})}return _createClass(e,[{key:"displayStyle",get:function(){if("inactive"===this.state)return"none"}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}},{key:"activateToast",value:function(){var e=this;this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(function(){e.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(function(){return e.updateProgress()},10))),this.options.onActivateTick&&this.appRef.tick()}},{key:"updateProgress",value:function(){if(0!==this.width&&100!==this.width&&this.options.timeOut){var e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}}},{key:"resetTimeout",value:function(){var e=this;clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(function(){return e.remove()},this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(function(){return e.updateProgress()},10))}},{key:"remove",value:function(){var e=this;"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(function(){return e.toastrService.remove(e.toastPackage.toastId)}))}},{key:"tapToast",value:function(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}},{key:"stickAround",value:function(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}},{key:"delayedHideToast",value:function(){var e=this;!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(function(){return e.remove()},this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(function(){return e.updateProgress()},10)))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(R),r.Y36(C),r.Y36(r.z2F))},e.\u0275cmp=r.Xpm({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),2&e&&(r.Tol(t.toastClasses),r.Udp("display",t.displayStyle))},attrs:u,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(e,t){1&e&&(r.YNc(0,v,3,0,"button",0),r.YNc(1,y,3,5,"div",1),r.YNc(2,m,1,3,"div",2),r.YNc(3,_,2,4,"div",3),r.YNc(4,k,2,2,"div",4)),2&e&&(r.Q6J("ngIf",t.options.closeButton),r.xp6(1),r.Q6J("ngIf",t.title),r.xp6(1),r.Q6J("ngIf",t.message&&t.options.enableHtml),r.xp6(1),r.Q6J("ngIf",t.message&&!t.options.enableHtml),r.xp6(1),r.Q6J("ngIf",t.options.progressBar))},directives:[s.O5],encapsulation:2}),e}();Object.assign(Object.assign({},w),{toastComponent:M})},6215:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(9765),i=n(7971),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this))._value=e,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=_get2(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.N;return this._value}},{key:"next",value:function(e){_get2(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}}]),n}(r.xQ)},3098:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(9193),i=n(5917),a=n(205),o=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return(0,a._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}();o.completeNotification=new o("C"),o.undefinedValueNotification=new o("N",void 0)},8891:function(e,t,n){"use strict";n.d(t,{y:function(){return l}});var r,i=n(7393),a=n(9181),o=n(6490),s=n(6554),u=n(4022),c=n(2494),l=((r=function(e){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,s=function(e,t,n){if(e){if(e instanceof i.L)return e;if(e[a.b])return e[a.b]()}return e||t||n?new i.L(e,t,n):new i.L(o.c)}(e,t,n);if(s.add(r?r.call(s,this.source):this.source||c.v.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.v.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){c.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,a=t.isStopped;if(n||a)return!1;e=r&&r instanceof i.L?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=h(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:e,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:(0,u.U)(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=h(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}}]),t}(s.L)).create=function(e){return new r(e)},r);function h(e){if(e||(e=c.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(2494),i=n(4449),a={closed:!0,next:function(e){},error:function(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete:function(){}}},5197:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(n(7393).L)},8229:function(e,t,n){"use strict";n.d(t,{t:function(){return c}});var r=n(9765),i=n(7771),a=n(5319),o=n(9746),s=n(7971),u=n(8858),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,a=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=a,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){if(!this.isStopped){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}_get2(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this.isStopped||(this._events.push(new l(this._getNow(),e)),this._trimBufferThenGetEvents()),_get2(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,c=r.length;if(this.closed)throw new s.N;if(this.isStopped||this.hasError?t=a.w.EMPTY:(this.observers.push(e),t=new u.W(this,e)),i&&e.add(e=new o.ht(e,i)),n)for(var l=0;l<c&&!e.closed;l++)e.next(r[l]);else for(var h=0;h<c&&!e.closed;h++)e.next(r[h].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||i.c).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,a=0;a<i&&!(e-r[a].time<n);)a++;return i>t&&(a=Math.max(a,i-t)),a>0&&r.splice(0,a),r}}]),n}(r.xQ),l=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n}},9765:function(e,t,n){"use strict";n.d(t,{Yc:function(){return l},xQ:function(){return h}});var r,i=n(8891),a=n(7393),o=n(5319),s=n(7971),u=n(8858),c=n(9181),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).destination=e,r}return n}(a.L),h=((r=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=n.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(r,[{key:t,value:function(){return new l(this)}},{key:"lift",value:function(e){var t=new f(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new s.N;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new s.N;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new s.N;return _get2(_getPrototypeOf(r.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new s.N;return this.hasError?(e.error(this.thrownError),o.w.EMPTY):this.isStopped?(e.complete(),o.w.EMPTY):(this.observers.push(e),new u.W(this,e))}},{key:"asObservable",value:function(){var e=new i.y;return e.source=this,e}}]),r}(i.y,c.b)).create=function(e,t){return new f(e,t)},r),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):o.w.EMPTY}}]),n}(h)},8858:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(n(5319).w)},7393:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});var r=n(9105),i=n(6490),a=n(5319),o=n(9181),s=n(2494),u=n(4449),c=function(e,t){_inherits(r,e);var n=_createSuper(r);function r(e,t,a){var o;switch(_classCallCheck(this,r),(o=n.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=i.c;break;case 1:if(!e){o.destination=i.c;break}if("object"==typeof e){e instanceof r?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new l(_assertThisInitialized(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new l(_assertThisInitialized(o),e,t,a)}return o}return _createClass(r,[{key:t,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get2(_getPrototypeOf(r.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,n){var i=new r(e,t,n);return i.syncErrorThrowable=!1,i}}]),r}(a.w,o.b),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,a,o,s){var u;_classCallCheck(this,n),(u=t.call(this))._parentSubscriber=e;var c,l=_assertThisInitialized(u);return(0,r.m)(a)?c=a:a&&(c=a.next,o=a.error,s=a.complete,a!==i.c&&(l=Object.create(a),(0,r.m)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=o,u._complete=s,u}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,u.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,u.z)(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(c)},5319:function(e,t,n){"use strict";n.d(t,{w:function(){return u}});var r,i=n(9796),a=n(1555),o=n(9105),s=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),u=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,u=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if((0,o.m)(u)){r&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){t=h instanceof s?c(h.errors):[h]}}if((0,i.k)(l))for(var f=-1,d=l.length;++f<d;){var p=l[f];if((0,a.K)(p))try{p.unsubscribe()}catch(v){t=t||[],v instanceof s?t=t.concat(c(v.errors)):t.push(v)}}if(t)throw new s(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();function c(e){return e.reduce(function(e,t){return e.concat(t instanceof s?t.errors:t)},[])}u.EMPTY=((r=new u).closed=!0,r)},2494:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:function(e,t,n){"use strict";n.d(t,{IY:function(){return o},Ds:function(){return s},ft:function(){return u}});var r=n(7393),i=n(8891),a=n(7444),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this)).parent=e,r}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(r.L),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(r.L);function u(e,t){if(!t.closed){if(e instanceof i.y)return e.subscribe(t);var n;try{n=(0,a.s)(e)(t)}catch(r){t.error(r)}return n}}},2441:function(e,t,n){"use strict";n.d(t,{c:function(){return u},N:function(){return c}});var r,i=n(9765),a=n(8891),o=n(5319),s=n(1307),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new o.w).add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=o.w.EMPTY)),e}},{key:"refCount",value:function(){return(0,s.x)()(this)}}]),n}(a.y),c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=u.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get2(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get2(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(i.Yc)},9112:function(e,t,n){"use strict";n.d(t,{aj:function(){return c}});var r=n(4869),i=n(9796),a=n(5197),o=n(509),s=n(6693),u={};function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a,o;return(0,r.K)(t[t.length-1])&&(o=t.pop()),"function"==typeof t[t.length-1]&&(a=t.pop()),1===t.length&&(0,i.k)(t[0])&&(t=t[0]),(0,s.n)(t,o).lift(new l(a))}var l=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new h(e,this.resultSelector))}}]),e}(),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(e){this.values.push(u),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add((0,o.D)(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var r=this.values,i=this.toRespond?r[n]===u?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(a.L)},8071:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var r=n(5917),i=n(3282);function a(){return(0,i.J)(1)(r.of.apply(void 0,arguments))}},9193:function(e,t,n){"use strict";n.d(t,{E:function(){return i},c:function(){return a}});var r=n(8891),i=new r.y(function(e){return e.complete()});function a(e){return e?function(e){return new r.y(function(t){return e.schedule(function(){return t.complete()})})}(e):i}},4402:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var r=n(8891),i=n(7444),a=n(5319),o=n(6554),s=n(4087),u=n(377),c=n(4072),l=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(function(n){var r=new a.w;return r.add(t.schedule(function(){var i=e[o.L]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(function(n){var r=new a.w;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if((0,l.z)(e))return(0,s.r)(e,t);if(function(e){return e&&"function"==typeof e[u.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(function(n){var r,i=new a.w;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[u.hZ](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6693:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(8891),i=n(5015),a=n(4087);function o(e,t){return t?(0,a.r)(e,t):new r.y((0,i.V)(e))}},6682:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(8891),i=n(4869),a=n(3282),o=n(6693);function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=t[t.length-1];return(0,i.K)(c)?(u=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(s=t.pop())):"number"==typeof c&&(s=t.pop()),null===u&&1===t.length&&t[0]instanceof r.y?t[0]:(0,a.J)(s)((0,o.n)(t,u))}},5917:function(e,t,n){"use strict";n.d(t,{of:function(){return o}});var r=n(4869),i=n(6693),a=n(4087);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[t.length-1];return(0,r.K)(o)?(t.pop(),(0,a.r)(t,o)):(0,i.n)(t)}},205:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(8891);function i(e,t){return new r.y(t?function(n){return t.schedule(a,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function a(e){var t=e.error;e.subscriber.error(t)}},5304:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(5345);function i(e){return function(t){var n=new a(e),r=t.lift(n);return n.caught=r}}var a=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new o(e,this.selector,this.caught))}}]),e}(),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).selector=r,a.caught=i,a}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(o){return void _get2(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var i=new r.IY(this);this.add(i);var a=(0,r.ft)(t,i);a!==i&&this.add(a)}}}]),n}(r.Ds)},4612:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(9773);function i(e,t){return(0,r.zg)(e,t,1)}},4395:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(7393),i=n(3637);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.P;return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.dueTime,this.scheduler))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).dueTime=r,a.scheduler=i,a.debouncedSubscription=null,a.lastValue=null,a.hasValue=!1,a}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(u,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(r.L);function u(e){e.debouncedNext()}},5242:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(7393);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new o(e,this.defaultValue))}}]),e}(),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(r.L)},7519:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(7393);function i(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new o(e,this.compare,this.keySelector))}}]),e}(),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).keySelector=i,a.hasKey=!1,"function"==typeof r&&(a.compare=r),a}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(n){return this.destination.error(n)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(n){return this.destination.error(n)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),n}(r.L)},5435:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(7393);function i(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new o(e,this.predicate,this.thisArg))}}]),e}(),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.count=0,a}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(r.L)},8049:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r=n(3410),i=n(5435),a=n(5257),o=n(5242),s=n(4635),u=n(4487);function c(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?(0,i.h)(function(t,n){return e(t,n,c)}):u.y,(0,a.q)(1),n?(0,o.d)(t):(0,s.T)(function(){return new r.K}))}}},8002:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(7393);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(e,t))}}var a=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}]),e}(),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this,e)).project=r,a.count=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.L)},3282:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});var r=n(9773),i=n(4487);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return(0,r.zg)(i.y,e)}},9773:function(e,t,n){"use strict";n.d(t,{zg:function(){return o}});var r=n(8002),i=n(4402),a=n(5345);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(a){return a.pipe(o(function(n,a){return(0,i.D)(e(n,a)).pipe((0,r.U)(function(e,r){return t(n,e,a,r)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new s(e,n))})}var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.project,this.concurrent))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.concurrent=a,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new a.IY(this),n=this.destination;n.add(t);var r=(0,a.ft)(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(a.Ds)},9746:function(e,t,n){"use strict";n.d(t,{QV:function(){return a},ht:function(){return s}});var r=n(7393),i=n(3098);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new o(e,t))}}var o=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.scheduler,this.delay))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=a,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new u(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(i.P.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(i.P.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(r.L),u=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n}},2996:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(8002);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.length;if(0===i)throw new Error("list of properties cannot be empty.");return function(e){return(0,r.U)(function(e,t){return function(n){for(var r=n,i=0;i<t;i++){var a=null!=r?r[e[i]]:void 0;if(void 0===a)return;r=a}return r}}(t,i))(e)}}},1307:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(7393);function i(){return function(e){return e.lift(new a(e))}}var a=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}else this.connection=null}}]),n}(r.L)},2145:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(7393);function i(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new a(e,t,n))}}var a=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new o(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,e)).accumulator=r,o._seed=i,o.hasSeed=a,o.index=0,o}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(r.L)},8819:function(e,t,n){"use strict";n.d(t,{B:function(){return s}});var r=n(2441),i=n(1307),a=n(9765);function o(){return new a.xQ}function s(){return function(e){return(0,i.x)()(function(e,t){return function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i}}(o)(e))}}},3653:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var r=n(7393);function i(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_classCallCheck(this,e),this.total=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new o(e,this.total))}}]),e}(),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),n}(r.L)},9761:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var r=n(8071),i=n(4869);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[t.length-1];return(0,i.K)(a)?(t.pop(),function(e){return(0,r.z)(t,e,a)}):function(e){return(0,r.z)(t,e)}}},3101:function(e,t,n){"use strict";n.d(t,{R:function(){return p}});var r=n(8891),i=1,a=Promise.resolve(),o={};function s(e){return e in o&&(delete o[e],!0)}var u=function(e){var t=i++;return o[t]=!0,a.then(function(){return s(t)&&e()}),t},c=function(e){s(e)},l=n(6465),h=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(n(6102).v))(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get2(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=u(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get2(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(c(t),e.scheduled=void 0)}}]),n}(l.o)),f=n(9796),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=a,r.scheduler=o,(!(!(0,f.k)(i=a)&&i-parseFloat(i)+1>=0)||a<0)&&(r.delayTime=0),(!o||"function"!=typeof o.schedule)&&(r.scheduler=h),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(r.y);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new v(e,t))}}var v=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new d(t,this.delay,this.scheduler).subscribe(e)}}]),e}()},3190:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(8002),i=n(4402),a=n(5345);function o(e,t){return"function"==typeof t?function(n){return n.pipe(o(function(n,a){return(0,i.D)(e(n,a)).pipe((0,r.U)(function(e,r){return t(n,e,a,r)}))}))}:function(t){return t.lift(new s(e))}}var s=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.project))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new a.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,a.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;(!e||e.closed)&&_get2(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&_get2(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(a.Ds)},5257:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r=n(7393),i=n(7108),a=n(9193);function o(e){return function(t){return 0===e?(0,a.c)():t.lift(new s(e))}}var s=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new i.W}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.total))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(r.L)},548:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(7393),i=n(7108),a=n(9193);function o(e){return function(t){return 0===e?(0,a.c)():t.lift(new s(e))}}var s=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new i.W}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.total))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var a=t++%n;e.next(r[a])}e.complete()}}]),n}(r.L)},6782:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(5345);function i(e){return function(t){return t.lift(new a(e))}}var a=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new o(e),i=(0,r.ft)(this.notifier,new r.IY(n));return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),o=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(r.Ds)},3342:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(7393);function i(){}var a=n(9105);function o(e,t,n){return function(r){return r.lift(new s(e,t,n))}}var s=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,o,s){var u;return _classCallCheck(this,n),(u=t.call(this,e))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=o||i,u._tapComplete=s||i,(0,a.m)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(r.L)},4635:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(3410),i=n(7393);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return function(t){return t.lift(new o(e))}}var o=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.errorFactory))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(i.L);function u(){return new r.K}},2965:function(e,t,n){"use strict";n.d(t,{V:function(){return c}});var r=n(3637),i=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),a=n(5345),o=function(){function e(t,n,r,i){_classCallCheck(this,e),this.waitFor=t,this.absoluteTimeout=n,this.withObservable=r,this.scheduler=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o){var s;return _classCallCheck(this,n),(s=t.call(this,e)).absoluteTimeout=r,s.waitFor=i,s.withObservable=a,s.scheduler=o,s.scheduleTimeout(),s}return _createClass(n,[{key:"scheduleTimeout",value:function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(n.dispatchTimeout,this.waitFor,this))}},{key:"_next",value:function(e){this.absoluteTimeout||this.scheduleTimeout(),_get2(_getPrototypeOf(n.prototype),"_next",this).call(this,e)}},{key:"_unsubscribe",value:function(){this.action=void 0,this.scheduler=null,this.withObservable=null}}],[{key:"dispatchTimeout",value:function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add((0,a.ft)(t,new a.IY(e)))}}]),n}(a.Ds),u=n(205);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.P;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.P;return function(r){var i=function(e){return e instanceof Date&&!isNaN(+e)}(e),a=i?+e-n.now():Math.abs(e);return r.lift(new o(a,i,t,n))}}(e,(0,u._)(new i),t)}},7057:function(e,t,n){"use strict";n.d(t,{M:function(){return a}});var r=n(5197),i=n(509);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new o(t,n))}}var o=function(){function e(t,n){_classCallCheck(this,e),this.observables=t,this.project=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new s(e,this.observables,this.project))}}]),e}(),s=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var o;_classCallCheck(this,n),(o=t.call(this,e)).observables=r,o.project=a,o.toRespond=[];var s=r.length;o.values=new Array(s);for(var u=0;u<s;u++)o.toRespond.push(u);for(var c=0;c<s;c++)o.add((0,i.D)(_assertThisInitialized(o),r[c],void 0,c));return o}return _createClass(n,[{key:"notifyNext",value:function(e,t,n){this.values[n]=t;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(_toConsumableArray(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(r.L)},4087:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(8891),i=n(5319);function a(e,t){return new r.y(function(n){var r=new i.w,a=0;return r.add(t.schedule(function(){a!==e.length?(n.next(e[a++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:function(e,t,n){"use strict";n.d(t,{o:function(){return r}});var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){return this}}]),n}(n(5319).w))},6102:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});var r,i=((r=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}()).now=function(){return Date.now()},r),a=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.now;return _classCallCheck(this,n),(r=t.call(this,e,function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():a()})).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get2(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(i)},3637:function(e,t,n){"use strict";n.d(t,{z:function(){return i},P:function(){return a}});var r=n(6465),i=new(n(6102).v)(r.o),a=i},7771:function(e,t,n){"use strict";n.d(t,{c:function(){return a},N:function(){return i}});var r=n(6465),i=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(n(6102).v))(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get2(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get2(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get2(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(r.o)),a=i},377:function(e,t,n){"use strict";n.d(t,{hZ:function(){return r}});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var r=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}()},3410:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var r=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}()},7971:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});var r=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},4449:function(e,t,n){"use strict";function r(e){setTimeout(function(){throw e},0)}n.d(t,{z:function(){return r}})},4487:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},9796:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},9489:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},9105:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},1555:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:function(){return r}})},4072:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:function(){return r}})},4869:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:function(){return r}})},4022:function(e,t,n){"use strict";n.d(t,{z:function(){return i},U:function(){return a}});var r=n(4487);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a(t)}function a(e){return 0===e.length?r.y:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}},7444:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(5015),i=n(4449),a=n(377),o=n(6554),s=n(9489),u=n(4072),c=n(1555),l=function(e){if(e&&"function"==typeof e[o.L])return function(e){return function(t){var n=e[o.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}(e);if((0,s.z)(e))return(0,r.V)(e);if((0,u.t)(e))return function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.z),t}}(e);if(e&&"function"==typeof e[a.hZ])return function(e){return function(t){for(var n=e[a.hZ]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}}(e);var t="You provided ".concat((0,c.K)(e)?"an invalid object":"'".concat(e,"'")," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.");throw new TypeError(t)}},5015:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},509:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck(this,n),(a=t.call(this)).parent=e,a.outerValue=r,a.outerIndex=i,a.index=0,a}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n(7393).L),i=n(7444),a=n(8891);function o(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r(e,n,o);if(!s.closed)return t instanceof a.y?t.subscribe(s):(0,i.s)(t)(s)}},8379:function(e,t,n){"use strict";n.d(t,{mQ:function(){return o},r4:function(){return s},MU:function(){return u},W0:function(){return c}});var r,i=n(6710),a=((r=a||(a={})).LOAD_USER="[auth] load user",r.CREATE_USER="[auth] createz user",r.CREATE_USER_SUCCESS="[auth] createz user success",r.CREATE_USER_FAILURE="[auth] createz user failure",a),o=(0,i.PH)(a.LOAD_USER,(0,i.Ky)()),s=(0,i.PH)(a.CREATE_USER,(0,i.Ky)()),u=(0,i.PH)(a.CREATE_USER_SUCCESS),c=(0,i.PH)(a.CREATE_USER_FAILURE)},7556:function(e,t,n){"use strict";n.d(t,{e:function(){return g}});var r,i=n(8002),a=n(3342),o=n(5304),s=n(4402),u=n(9193),c=n(7841),l=n(8379),h=n(7716),f=n(6710),d=n(3071),p=n(9344),v=n(2673),g=((r=function(){function e(t,n,r,i){_classCallCheck(this,e),this.authStore=t,this.userService=n,this.toastr=r,this.firebaseAuth=i}return _createClass(e,[{key:"initUserStateListener",value:function(){return(0,s.D)(this.firebaseAuth.authState)}},{key:"isUserAuth",value:function(){return this.initUserStateListener().pipe((0,i.U)(function(e){return!!e}))}},{key:"createUser",value:function(e,t,n){var r=this;return(0,s.D)(this.firebaseAuth.createUserWithEmailAndPassword(e,t)).pipe((0,a.b)(function(e){var t,i,a;null===(t=null==e?void 0:e.user)||void 0===t||t.updateProfile({displayName:n});var o={uid:null===(i=null==e?void 0:e.user)||void 0===i?void 0:i.uid,email:null===(a=null==e?void 0:e.user)||void 0===a?void 0:a.email,name:n};r.authStore.dispatch(l.r4({user:o}))}),(0,o.K)(function(e){return r.toastr.error(e.message.replace("Firebase:",""),"Error"),u.E}))}},{key:"login",value:function(e,t){var n=this;return(0,s.D)(this.firebaseAuth.signInWithEmailAndPassword(e,t)).pipe((0,o.K)(function(e){return n.toastr.error(e.message.replace("Firebase:",""),"Error"),u.E}))}},{key:"googleSignIn",value:function(){var e=this,t=new c.Z.auth.GoogleAuthProvider;return(0,s.D)(this.firebaseAuth.signInWithPopup(t)).pipe((0,o.K)(function(t){return e.toastr.error(t.message.replace("Firebase:",""),"Error"),u.E}))}},{key:"facebookSignIn",value:function(){var e=this,t=new c.Z.auth.FacebookAuthProvider;return(0,s.D)(this.firebaseAuth.signInWithPopup(t)).pipe((0,o.K)(function(t){return e.toastr.error(t.message.replace("Firebase:",""),"Error"),u.E}))}}]),e}()).\u0275fac=function(e){return new(e||r)(h.LFG(f.yh),h.LFG(d.K),h.LFG(p._W),h.LFG(v.zQ))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r)},9531:function(e,t,n){"use strict";n.d(t,{s:function(){return h}});var r,i=n(5917),a=n(9112),o=n(3190),s=n(8002),u=n(7716),c=n(9781),l=["sizes","sauce","cheese","toppings","drinks","salads","appetizer","desserts"],h=((r=function(){function e(t){_classCallCheck(this,e),this.firestore=t}return _createClass(e,[{key:"getPizzasList",value:function(){return this.firestore.collection("pizzas").valueChanges().pipe((0,o.w)(function(e){return(0,i.of)(e)}))}},{key:"getProductsCatalog",value:function(){var e=this,t=l.map(function(t){return e.firestore.collection("catalog").doc("product").collection(t).valueChanges()});return(0,a.aj)(t).pipe((0,s.U)(function(e){var t=_slicedToArray(e,8);return{sizes:t[0],sauce:t[1],cheese:t[2],toppings:t[3],drinks:t[4],salads:t[5],appetizers:t[6],desserts:t[7]}}))}}]),e}()).\u0275fac=function(e){return new(e||r)(u.LFG(c.ST))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},3071:function(e,t,n){"use strict";n.d(t,{K:function(){return s}});var r,i=n(4402),a=n(7716),o=n(9781),s=((r=function(){function e(t){_classCallCheck(this,e),this.firestore=t}return _createClass(e,[{key:"createUser",value:function(e){return(0,i.D)(this.firestore.doc("".concat(e.uid,"/user")).set(e))}}]),e}()).\u0275fac=function(e){return new(e||r)(a.LFG(o.ST))},r.\u0275prov=a.Yz7({token:r,factory:r.\u0275fac}),r)},4466:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var r,i=n(8583),a=(n(532),n(3998),n(7914),n(6069),n(5616),n(7656),n(5562),n(665)),o=n(7716),s=((r=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[i.ez,a.u5,a.UX]]}),r)},532:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r,i=n(7716),a=n(8583),o=function(e,t){return{width:e,height:t}},s=((r=function(){function e(){_classCallCheck(this,e),this.type="primary",this.label="Button",this.isOutline=!1,this.hasShadow=!1,this.isDisabled=!1,this.onClick=new i.vpe}return _createClass(e,[{key:"classes",get:function(){var e=["btn","btn-".concat(this.isOutline?"outline-":"").concat(this.isDisabled?"light":this.type)];return this.hasShadow&&e.push("btn-shadow"),e}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=i.Xpm({type:r,selectors:[["sb-button"]],inputs:{type:"type",label:"label",isOutline:"isOutline",hasShadow:"hasShadow",isDisabled:"isDisabled",width:"width",height:"height"},outputs:{onClick:"onClick"},decls:2,vars:7,consts:[["type","button",3,"ngStyle","ngClass","disabled","click"]],template:function(e,t){1&e&&(i.TgZ(0,"button",0),i.NdJ("click",function(e){return t.onClick.emit(e)}),i._uU(1),i.qZA()),2&e&&(i.Q6J("ngStyle",i.WLB(4,o,t.width,t.height))("ngClass",t.classes)("disabled",t.isDisabled),i.xp6(1),i.hij(" ",t.label,"\n"))},directives:[a.PC,a.mk],styles:[".txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:1px solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:1px solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:1px solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:1px solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:1px solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:1px solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:1px solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:1px solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:1px solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:1px solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:1px solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:1px solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.btn[_ngcontent-%COMP%]{top:20px;left:20px;padding:15.5px 41.5px;font-size:30px;line-height:37px;text-align:center;font-style:normal;align-items:center;font-family:Rowdies;border-radius:200px;justify-content:center}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{color:#f2f2f2}.btn-light[_ngcontent-%COMP%]{opacity:1;color:#bdbdbd}.btn-shadow[_ngcontent-%COMP%]{box-shadow:0 4px 16px rgba(0,0,0,.251)}.btn.btn-outline-white[_ngcontent-%COMP%]{border-color:#fff;color:#fff}.btn.btn-outline-white[_ngcontent-%COMP%]:hover{color:#e0e0e0;border-color:#e0e0e0}"]}),r)},7914:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(7716),i=n(8583),a=function(e){return{disabled:e}};function o(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",4),r.NdJ("click",function(){var e=r.CHM(n).$implicit;return r.oxw().onItemClick(e)}),r._uU(1),r.qZA()}if(2&e){var i=t.$implicit;r.Q6J("ngClass",r.VKq(2,a,i.disabled)),r.xp6(1),r.hij(" ",i.text||i.value," ")}}var s,u="Select an Item",c=((s=function(){function e(){_classCallCheck(this,e),this.dropdownValues=[],this.label=u,this.itemSelected=new r.vpe}return _createClass(e,[{key:"reset",set:function(e){e&&(this.label=u)}},{key:"onItemClick",value:function(e){this.label=null==e?void 0:e.text,this.itemSelected.emit(e)}},{key:"labsTrackBy",value:function(e,t){return t?t.value:null}}]),e}()).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=r.Xpm({type:s,selectors:[["sb-dropdown"]],inputs:{dropdownValues:"dropdownValues",label:"label",reset:"reset"},outputs:{itemSelected:"itemSelected"},decls:5,vars:3,consts:[[1,"dropdown"],["data-toggle","dropdown","role","button","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle","icon-menu-arrow"],[1,"dropdown-menu"],["class","dropdown-item",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"dropdown-item",3,"ngClass","click"]],template:function(e,t){1&e&&(r.TgZ(0,"li",0),r.TgZ(1,"a",1),r._uU(2),r.qZA(),r.TgZ(3,"div",2),r.YNc(4,o,2,4,"a",3),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Oqu(t.label),r.xp6(2),r.Q6J("ngForOf",t.dropdownValues)("ngForTrackBy",t.labsTrackBy))},directives:[i.sg,i.mk],styles:['.txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:1px solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:1px solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:1px solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:1px solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:1px solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:1px solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:1px solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:1px solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:1px solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:1px solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:1px solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:1px solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.dropdown[_ngcontent-%COMP%]{list-style-type:none}.dropdown.show[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:before{padding-left:0;padding-right:10px;transform:rotate(180deg)}.dropdown-toggle[_ngcontent-%COMP%]{width:100%;color:#fff;padding:25px;font-size:20px;min-width:230px;margin-left:5px;line-height:26px;background:#4F4F4F;border-radius:10px;font-style:normal;font-weight:normal;text-decoration:none;display:inline-block;font-family:"Red Hat Display";box-shadow:0 4px 8px rgba(0,0,0,.149)}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropdown-toggle[_ngcontent-%COMP%]:before{float:right;font-size:30px;padding-left:10px}.dropdown-menu[_ngcontent-%COMP%]{width:100%;margin:0;min-width:230px;background:#4F4F4F;top:-10px!important}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#fff;font-size:20px;line-height:26px;font-style:normal;font-weight:normal;font-family:"Red Hat Display"}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.disabled[_ngcontent-%COMP%]{color:#828282}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{border-radius:50px;text-decoration:none;background-color:#27ae60}']}),s)},3998:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(7716),i=n(2694),a=n(8583);function o(e,t){if(1&e&&r._UZ(0,"span",11),2&e){var n=r.oxw().$implicit;r.Q6J("ngClass",n.icon)}}var s=function(e){return{active:e}};function u(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"a",9),r.NdJ("click",function(){var e=r.CHM(n).$implicit;return r.oxw().redirectTo(e.url)}),r._uU(1),r.YNc(2,o,1,1,"span",10),r.qZA()}if(2&e){var i=t.$implicit,a=r.oxw();r.Q6J("ngClass",r.VKq(3,s,a.linkActive===(null==i?null:i.url))),r.xp6(1),r.hij(" ",i.name," "),r.xp6(1),r.Q6J("ngIf",i.icon)}}function c(e,t){if(1&e&&r._UZ(0,"span",11),2&e){var n=r.oxw().$implicit;r.Q6J("ngClass",n.icon)}}function l(e,t){if(1&e&&(r.TgZ(0,"a",12),r._uU(1),r.YNc(2,c,1,1,"span",10),r.qZA()),2&e){var n=t.$implicit,i=r.oxw();r.Q6J("ngClass",r.VKq(4,s,i.linkActive===(null==n?null:n.url)))("href",n.url,r.LSH),r.xp6(1),r.hij(" ",n.name," "),r.xp6(1),r.Q6J("ngIf",n.icon)}}var h,f=((h=function(){function e(t){_classCallCheck(this,e),this.router=t}return _createClass(e,[{key:"redirectTo",value:function(e){this.router.navigate([e])}}]),e}()).\u0275fac=function(e){return new(e||h)(r.Y36(i.F0))},h.\u0275cmp=r.Xpm({type:h,selectors:[["sb-header"]],inputs:{menuItems:"menuItems",linkActive:"linkActive"},decls:10,vars:2,consts:[[1,"desktop-menu","nav","d-flex","justify-content-between"],["class","nav-link cursor-pointer",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"fixed-top","mobile-menu"],[1,"navbar","navbar-dark","bg-dark"],["type","button","data-toggle","collapse","data-target","#navbarToggleExternalContent","aria-controls","navbarToggleExternalContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarToggleExternalContent",1,"mob-menu","collapse"],[1,"bg-dark","p-4"],["class","nav-link",3,"ngClass","href",4,"ngFor","ngForOf"],[1,"nav-link","cursor-pointer",3,"ngClass","click"],["class","icon",3,"ngClass",4,"ngIf"],[1,"icon",3,"ngClass"],[1,"nav-link",3,"ngClass","href"]],template:function(e,t){1&e&&(r.TgZ(0,"header"),r.TgZ(1,"nav",0),r.YNc(2,u,3,5,"a",1),r.qZA(),r.TgZ(3,"div",2),r.TgZ(4,"nav",3),r.TgZ(5,"button",4),r._UZ(6,"span",5),r.qZA(),r.qZA(),r.TgZ(7,"div",6),r.TgZ(8,"div",7),r.YNc(9,l,3,6,"a",8),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Q6J("ngForOf",t.menuItems),r.xp6(7),r.Q6J("ngForOf",t.menuItems))},directives:[a.sg,a.mk,a.O5],styles:[".txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:1px solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:1px solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:1px solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:1px solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:1px solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:1px solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:1px solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:1px solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:1px solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:1px solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:1px solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:1px solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{order:0;margin:0;padding:0;font-size:24px;font-weight:300;position:static;line-height:30px;font-style:normal;text-align:center;font-family:Rowdies}.nav[_ngcontent-%COMP%]   a.nav-link.active[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   a.nav-link[_ngcontent-%COMP%]:hover{color:#f2c94c}.nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#f2f2f2}.nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav[_ngcontent-%COMP%]   .icon.active[_ngcontent-%COMP%], .nav[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{color:#bdbdbd}.mobile-menu[_ngcontent-%COMP%]{display:none}.mobile-menu[_ngcontent-%COMP%]   .bg-dark[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .mobile-menu[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-style:normal;font-family:Rowdies;font-size:24px;color:#f2f2f2}.mobile-menu[_ngcontent-%COMP%]   .bg-dark[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .mobile-menu[_ngcontent-%COMP%]   .icon.active[_ngcontent-%COMP%]{color:#f2c94c}@media (max-width: 991.98px){.mobile-menu[_ngcontent-%COMP%]{display:block}.nav[_ngcontent-%COMP%]{display:none!important}}"]}),h)},5616:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(7716),i=n(8583);function a(e,t){1&e&&r._UZ(0,"li",2)}var o,s=function(e){return{width:e}},u=((o=function(){function e(){_classCallCheck(this,e),this.type="primary",this.label="Button",this.isOutline=!1,this.hasShadow=!1,this.isDisabled=!1,this.showIcon=!1,this.onClick=new r.vpe}return _createClass(e,[{key:"classes",get:function(){var e=["btn","btn-".concat(this.isOutline?"outline-":"").concat(this.isDisabled?"light":this.type)];return this.hasShadow&&e.push("btn-shadow"),e}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=r.Xpm({type:o,selectors:[["sb-icon-button"]],inputs:{type:"type",label:"label",width:"width",isOutline:"isOutline",hasShadow:"hasShadow",isDisabled:"isDisabled",showIcon:"showIcon"},outputs:{onClick:"onClick"},decls:3,vars:7,consts:[["type","button",3,"ngStyle","ngClass","disabled","click"],["class","icon icon-pizza",4,"ngIf"],[1,"icon","icon-pizza"]],template:function(e,t){1&e&&(r.TgZ(0,"button",0),r.NdJ("click",function(e){return t.onClick.emit(e)}),r.YNc(1,a,1,0,"li",1),r._uU(2),r.qZA()),2&e&&(r.Q6J("ngStyle",r.VKq(5,s,t.width))("ngClass",t.classes)("disabled",t.isDisabled),r.xp6(1),r.Q6J("ngIf",t.showIcon),r.xp6(1),r.hij(" ",t.label,"\n"))},directives:[i.PC,i.mk,i.O5],styles:[".txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:1px solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:1px solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:1px solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:1px solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:1px solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:1px solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:1px solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:1px solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:1px solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:1px solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:1px solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:1px solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.btn[_ngcontent-%COMP%]{left:80px;padding:15.5px 35px;font-size:20px;font-weight:400;line-height:25px;text-align:center;font-style:normal;align-items:center;font-family:Rowdies;border-radius:200px;justify-content:center}.btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{top:1px;color:#f2c94c;display:inline}.btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{margin-right:8px}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{color:#f2f2f2}.btn-outline-light[_ngcontent-%COMP%], .btn-light[_ngcontent-%COMP%]{opacity:1}.btn-outline-light[_ngcontent-%COMP%], .btn-outline-light[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .btn-light[_ngcontent-%COMP%], .btn-light[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#bdbdbd!important}.btn-shadow[_ngcontent-%COMP%]{box-shadow:0 4px 16px rgba(0,0,0,.251)}"]}),o)},5562:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r,i=n(7716),a=n(8583),o=n(5616),s=((r=function(){function e(){_classCallCheck(this,e),this.onClick=new i.vpe}return _createClass(e,[{key:"background",get:function(){return{"background-image":"url(".concat(this.cardBackgroundUrl,"),\n                           radial-gradient(187.18% 90.09% at 50% 9.91%, ").concat(this.bgColorGradientFrom," 0%, ").concat(this.bgColorGradientTo," 100%)")}}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=i.Xpm({type:r,selectors:[["sb-pizza-menu-card"]],inputs:{title:"title",numOfGrams:"numOfGrams",numOfCalories:"numOfCalories",description:"description",price:"price",cardBackgroundUrl:"cardBackgroundUrl",bgColorGradientFrom:"bgColorGradientFrom",bgColorGradientTo:"bgColorGradientTo"},outputs:{onClick:"onClick"},decls:20,vars:11,consts:[[1,"pizza-card",3,"ngStyle"],[1,"content"],[1,"mb-1"],[1,"d-inline","txt-gray-6"],[1,"d-inline","txt-gray-6","calories"],[1,"description","pt-1","pb-1","m-0"],[1,"row","pizza-card-footer"],[1,"price-container","pr-3","pl-0","py-2","col-4"],[1,"price-label"],[1,"price"],[1,"col-8","px-0"],["width","130px","label","ADD",1,"add-btn","float-right",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"h4",2),i._uU(3),i.qZA(),i.TgZ(4,"div"),i.TgZ(5,"caption",3),i._uU(6),i.qZA(),i.TgZ(7,"caption",4),i._uU(8),i.qZA(),i.qZA(),i.TgZ(9,"p",5),i._uU(10),i.qZA(),i.TgZ(11,"div",6),i.TgZ(12,"div",7),i.TgZ(13,"label",8),i._uU(14,"starts at"),i.qZA(),i.TgZ(15,"span",9),i._uU(16),i.ALo(17,"currency"),i.qZA(),i.qZA(),i.TgZ(18,"div",10),i.TgZ(19,"sb-icon-button",11),i.NdJ("click",function(e){return t.onClick.emit(e)}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e&&(i.Q6J("ngStyle",t.background),i.xp6(3),i.Oqu(t.title),i.xp6(3),i.hij("",t.numOfGrams,"g"),i.xp6(2),i.hij("",t.numOfCalories," cal"),i.xp6(2),i.Oqu(t.description),i.xp6(6),i.Oqu(i.gM2(17,6,t.price,"USD","symbol","1.0-0")))},directives:[a.PC,o.Z],pipes:[a.H9],styles:['.txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:1px solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:1px solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:1px solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:1px solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:1px solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:1px solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:1px solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:1px solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:1px solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:1px solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:1px solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:1px solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.pizza-card[_ngcontent-%COMP%]{width:308px;height:449px;padding-left:30px;padding-right:15px;border-radius:10px 100px 10px 10px;background-repeat:no-repeat,repeat;box-shadow:0 4px 16px 12px rgba(0,0,0,.141)}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;top:50%;height:50%}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .calories[_ngcontent-%COMP%]{margin-left:36px}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#333;font-size:16px;line-height:21px;font-style:normal;font-weight:normal;font-family:"Red Hat Display"}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card-footer[_ngcontent-%COMP%]{bottom:20px;position:absolute;width:-webkit-fill-available}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card-footer[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]{display:inline-grid}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card-footer[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   .price-label[_ngcontent-%COMP%]{margin:0;color:#333;font-size:12px;font-weight:300;line-height:15px;text-align:center;font-style:normal;font-family:Rowdies}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card-footer[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{color:#333;font-size:24px;font-weight:bold;line-height:30px;font-style:normal;text-align:center;font-family:Rowdies}.pizza-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pizza-card-footer[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{right:20px;position:relative}']}),r)},7656:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(7716),i=n(8583),a=n(5616);function o(e,t){1&e&&r._UZ(0,"img",10)}function s(e,t){1&e&&r._UZ(0,"img",11)}function u(e,t){if(1&e&&(r.TgZ(0,"span",12),r._uU(1),r.qZA()),2&e){var n=r.oxw();r.xp6(1),r.Oqu(n.description)}}var c,l=function(e){return{"background-color":e}},h=((c=function e(){_classCallCheck(this,e),this.showDecorators=!1,this.onClick=new r.vpe}).\u0275fac=function(e){return new(e||c)},c.\u0275cmp=r.Xpm({type:c,selectors:[["sb-promotion-card"]],inputs:{mainTitle:"mainTitle",secondTitle:"secondTitle",bgColor:"bgColor",description:"description",showDecorators:"showDecorators"},outputs:{onClick:"onClick"},decls:13,vars:9,consts:[[1,"promotion-card",3,"ngStyle"],[1,"main-title-content","position-relative"],["class","decorator-left","src","assets/images/leaf-left.png",4,"ngIf"],[1,"main-title","txt-red"],["class","decorator-right","src","assets/images/leaf-right.png",4,"ngIf"],[1,"second-title","txt-yellow","my-0"],["class","description",4,"ngIf"],[1,"promotion-footer"],["label","ADD TO CART",3,"showIcon","click"],[1,"disclaimer","txt-white","pt-3"],["src","assets/images/leaf-left.png",1,"decorator-left"],["src","assets/images/leaf-right.png",1,"decorator-right"],[1,"description"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.YNc(2,o,1,0,"img",2),r.TgZ(3,"h2",3),r._uU(4),r.qZA(),r.YNc(5,s,1,0,"img",4),r.qZA(),r.TgZ(6,"h3",5),r._uU(7),r.qZA(),r.YNc(8,u,2,1,"span",6),r.TgZ(9,"div",7),r.TgZ(10,"sb-icon-button",8),r.NdJ("click",function(e){return t.onClick.emit(e)}),r.qZA(),r.TgZ(11,"p",9),r._uU(12,"Promotion valid only for pickup and express purchases, not valid with other coupons. Promotion valid only on Fridays."),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.Q6J("ngStyle",r.VKq(7,l,t.bgColor)),r.xp6(2),r.Q6J("ngIf",t.showDecorators),r.xp6(2),r.Oqu(t.mainTitle),r.xp6(1),r.Q6J("ngIf",t.showDecorators),r.xp6(2),r.Oqu(t.secondTitle),r.xp6(1),r.Q6J("ngIf",t.description),r.xp6(2),r.Q6J("showIcon",!0))},directives:[i.PC,i.O5,a.Z],styles:['.txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:1px solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:1px solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:1px solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:1px solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:1px solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:1px solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:1px solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:1px solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:1px solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:1px solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:1px solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:1px solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.promotion-card[_ngcontent-%COMP%]{z-index:1;width:588px;height:369px;padding:18px;position:relative;text-align:center;border-radius:10px;mix-blend-mode:normal;box-shadow:0 4px 16px rgba(0,0,0,.161)}.promotion-card[_ngcontent-%COMP%]   .main-title-content[_ngcontent-%COMP%]{z-index:10}.promotion-card[_ngcontent-%COMP%]   .main-title-content[_ngcontent-%COMP%]   .decorator-left[_ngcontent-%COMP%]{position:absolute;left:0px;bottom:-10px;z-index:-1}.promotion-card[_ngcontent-%COMP%]   .main-title-content[_ngcontent-%COMP%]   .decorator-right[_ngcontent-%COMP%]{position:absolute;top:0;right:20px;z-index:-1}.promotion-card[_ngcontent-%COMP%]   .second-title[_ngcontent-%COMP%]{margin-left:60px;margin-right:60px}.promotion-card[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#fff;font-size:16px;line-height:21px;text-align:center;font-style:normal;font-weight:normal;font-family:"Red Hat Display"}.promotion-card[_ngcontent-%COMP%]   .promotion-footer[_ngcontent-%COMP%]{bottom:10px;position:absolute}.promotion-card[_ngcontent-%COMP%]   .promotion-footer[_ngcontent-%COMP%]   .disclaimer[_ngcontent-%COMP%]{font-size:12px;font-weight:500;line-height:16px;margin-left:55px;font-style:normal;margin-right:55px;font-family:"Red Hat Display"}']}),c)},6069:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(7716),i=n(665),a=n(9765),o=n(8891),s=n(5917),u=n(4395),c=n(3190),l=n(3342),h=n(8583),f=["input"];function d(e,t){if(1&e&&r._UZ(0,"i",6),2&e){var n=r.oxw();r.Q6J("ngClass",n.iconClass)}}function p(e,t){if(1&e&&(r.TgZ(0,"p",7),r._uU(1),r.qZA()),2&e){var n=r.oxw().ngIf;r.xp6(1),r.Oqu(n.message)}}function v(e,t){if(1&e&&(r.ynx(0),r.YNc(1,p,2,1,"p",5),r.BQk()),2&e){var n=t.ngIf;r.xp6(1),r.Q6J("ngIf",n.hasErrors)}}function g(e,t){if(1&e&&(r.TgZ(0,"p",7),r._uU(1),r.qZA()),2&e){var n=r.oxw();r.xp6(1),r.Oqu(n.customErrorMessage)}}var y,m=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,_=/^(.*\s+.*)+$/,k=/^[\p{Z}\s]*(?:[^\p{Z}\s][\p{Z}\s]*){7,}$/,b=/\d/,C=/^(.*[A-Z]+.*)+$/,w={provide:i.JU,useExisting:(0,r.Gpc)(function(){return x}),multi:!0},x=((y=function(){function e(){_classCallCheck(this,e),this.placeholder="",this.disabled=!1,this.type="text",this.state=null,this.disableValidations=!1,this.isValid=new r.vpe,this._state=this.state,this.keyStreem$=new a.xQ,this.inputErrors$=new o.y,this.innerValue="",this.propagateChange=function(e){}}return _createClass(e,[{key:"classes",get:function(){return["type-".concat(this.type),"state-".concat(this.state||this._state)]}},{key:"iconClass",get:function(){var e;switch(this.type){case"password":e="icon-lock";break;case"email":e="icon-mail";break;default:e=""}return[e]}},{key:"onKey",value:function(e){this.keyStreem$.next(e.target.value)}},{key:"inputErrorsSubscription",value:function(){var e=this;this.inputErrors$=this.keyStreem$.pipe((0,u.b)(500),(0,c.w)(function(t){return e.disableValidations?(0,s.of)({hasErrors:!1}):"email"===e.type?(e.isValid.emit(m.test(String(t).toLowerCase())),(0,s.of)({hasErrors:!m.test(String(t).toLowerCase()),message:"Please enter a valid email address."})):"password"===e.type?(0,s.of)(e.checkPassword(t)):(e.isValid.emit(!0),(0,s.of)({hasErrors:!1}))}),(0,l.b)(function(t){e._state=e.state||(t.hasErrors?"danger":"success")}))}},{key:"checkPassword",value:function(e){var t=_.test(e),n=k.test(e),r=b.test(e),i=C.test(e),a=t||!n||!r||!i;return this.isValid.emit(!a),{hasErrors:a,message:"Password ".concat(t?"Can\u2019t contain spaces.":""," \n                ").concat(n?"":"Must be at least 7 characters long.","\n                ").concat(r?"":"Must include a number.","\n                ").concat(i?"":"Must include at least one upper lettter case.","\n                Password doesn\u2019t match.")}}},{key:"ngOnInit",value:function(){this.inputErrorsSubscription()}},{key:"onChange",value:function(e,t){this.innerValue=t,this.propagateChange(this.innerValue)}},{key:"value",get:function(){return this.innerValue},set:function(e){e!==this.innerValue&&(this.innerValue=e)}},{key:"writeValue",value:function(e){this.innerValue=e}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||y)},y.\u0275cmp=r.Xpm({type:y,selectors:[["sb-text-input"]],viewQuery:function(e,t){var n;1&e&&r.Gf(f,5),2&e&&r.iGM(n=r.CRH())&&(t.inputRef=n.first)},inputs:{placeholder:"placeholder",disabled:"disabled",type:"type",state:"state",disableValidations:"disableValidations",customErrorMessage:"customErrorMessage"},outputs:{isValid:"isValid"},features:[r._Bn([w])],decls:7,vars:9,consts:[[1,"input-icons"],["class","icon",3,"ngClass",4,"ngIf"],[1,"input-field",3,"type","placeholder","ngClass","disabled","keyup","blur"],["input",""],[4,"ngIf"],["class","txt-red py-2 px-4",4,"ngIf"],[1,"icon",3,"ngClass"],[1,"txt-red","py-2","px-4"]],template:function(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"div",0),r.YNc(1,d,1,1,"i",1),r.TgZ(2,"input",2,3),r.NdJ("keyup",function(e){return t.onKey(e)})("blur",function(e){r.CHM(n);var i=r.MAs(3);return t.onChange(e,i.value)}),r.qZA(),r.YNc(4,v,2,1,"ng-container",4),r.ALo(5,"async"),r.YNc(6,g,2,1,"p",5),r.qZA()}2&e&&(r.xp6(1),r.Q6J("ngIf","email"===t.type||"password"===t.type),r.xp6(1),r.Q6J("type",t.type)("placeholder",t.placeholder)("ngClass",t.classes)("disabled",t.disabled),r.xp6(2),r.Q6J("ngIf",r.lcZ(5,7,t.inputErrors$)),r.xp6(2),r.Q6J("ngIf",!!t.customErrorMessage&&"danger"===t.state))},directives:[h.O5,h.mk],pipes:[h.Ov],styles:['.txt-red{color:#eb5757!important}.bg-red{background-color:#eb5757!important}.border-red{border:1px solid #EB5757!important}.txt-orange{color:#f2994a!important}.bg-orange{background-color:#f2994a!important}.border-orange{border:1px solid #F2994A!important}.txt-danger{color:red!important}.bg-danger{background-color:red!important}.border-danger{border:1px solid red!important}.txt-black{color:#1f1f1f!important}.bg-black{background-color:#1f1f1f!important}.border-black{border:1px solid #1F1F1F!important}.txt-white{color:#fff!important}.bg-white{background-color:#fff!important}.border-white{border:1px solid #fff!important}.txt-yellow{color:#f2c94c!important}.bg-yellow{background-color:#f2c94c!important}.border-yellow{border:1px solid #F2C94C!important}.txt-gray-1{color:#333!important}.bg-gray-1{background-color:#333!important}.border-gray-1{border:1px solid #333333!important}.txt-gray-2{color:#4f4f4f!important}.bg-gray-2{background-color:#4f4f4f!important}.border-gray-2{border:1px solid #4F4F4F!important}.txt-gray-3{color:#828282!important}.bg-gray-3{background-color:#828282!important}.border-gray-3{border:1px solid #828282!important}.txt-gray-4{color:#bdbdbd!important}.bg-gray-4{background-color:#bdbdbd!important}.border-gray-4{border:1px solid #BDBDBD!important}.txt-gray-5{color:#e0e0e0!important}.bg-gray-5{background-color:#e0e0e0!important}.border-gray-5{border:1px solid #E0E0E0!important}.txt-gray-6{color:#f2f2f2!important}.bg-gray-6{background-color:#f2f2f2!important}.border-gray-6{border:1px solid #F2F2F2!important}.txt-green-1{color:#219653!important}.bg-green-1{background-color:#219653!important}.border-green-1{border:1px solid #219653!important}.txt-green-2{color:#27ae60!important}.bg-green-2{background-color:#27ae60!important}.border-green-2{border:1px solid #27AE60!important}.txt-primary{color:#eb5757!important}.bg-primary{background-color:#eb5757!important}.border-primary{border:1px solid #EB5757!important}.txt-secondary{color:#f2994a!important}.bg-secondary{background-color:#f2994a!important}.border-secondary{border:1px solid #F2994A!important}.input-icons{position:relative}.input-icons .icon{position:absolute;font-size:30px;left:30px;top:20px;color:#bdbdbd;min-width:39px;display:-webkit-inline-box;-webkit-box-pack:center}.input-icons .input-field{width:100%;padding:22px 25px;font-family:"Red Hat Display";font-style:normal;font-weight:normal;font-size:20px;line-height:26px;color:#333;background-color:#f2f2f2;border-radius:10px}.input-icons .input-field.type-password,.input-icons .input-field.type-email{padding-left:84.5px}.input-icons .input-field.state-danger{border:2px solid #EB5757}.input-icons .input-field.state-success{border:2px solid #27AE60}\n'],encapsulation:2}),y)},5294:function(e,t,n){"use strict";n.d(t,{qR:function(){return o},VH:function(){return s},Y:function(){return u},o$:function(){return c},U9:function(){return l},Gp:function(){return h}});var r,i=n(6710),a=((r=a||(a={})).FETCH_PIZZAS="[core] fetch pizzas list",r.FETCH_PIZZAS_SUCCESS="[core] fetch pizzas list success",r.FETCH_PIZZAS_FAILURE="[core] fetch pizzas list failure",r.FETCH_PRODUCTS_CATALOG="[core] fetch product catalog",r.FETCH_PRODUCTS_CATALOG_SUCCESS="[core] fetch product catalog success",r.FETCH_PRODUCTS_CATALOG_FAILURE="[core] fetch product catalog failure",r.FETCH_SHOPPING_CARD="[core] fetch shopping card",r.FETCH_SHOPPING_CARD_SUCCESS="[core] fetch shopping card success",r.FETCH_SHOPPING_CARD_FAILURE="[core] fetch shopping card failure",r.SAVE_SHOPPING_CARD="[core] save shopping card",r.SAVE_SHOPPING_CARD_SUCCESS="[core] save shopping card success",r.SAVE_SHOPPING_CARD_FAILURE="[core] save shopping card failure",r.CLEAR_SHOPPING_CARD="[core] clear shopping card",a),o=(0,i.PH)(a.FETCH_PIZZAS),s=(0,i.PH)(a.FETCH_PIZZAS_SUCCESS,(0,i.Ky)()),u=(0,i.PH)(a.FETCH_PRODUCTS_CATALOG),c=(0,i.PH)(a.FETCH_PRODUCTS_CATALOG_SUCCESS,(0,i.Ky)()),l=((0,i.PH)(a.FETCH_SHOPPING_CARD),(0,i.PH)(a.FETCH_SHOPPING_CARD_SUCCESS,(0,i.Ky)())),h=((0,i.PH)(a.SAVE_SHOPPING_CARD),(0,i.PH)(a.SAVE_SHOPPING_CARD_SUCCESS,(0,i.Ky)()),(0,i.PH)(a.CLEAR_SHOPPING_CARD))},5754:function(e,t,n){"use strict";n.d(t,{I6:function(){return o},h2:function(){return u},f1:function(){return c}});var r=n(6710),i=n(5294),a=(0,r.Lq)({pizzas:[],productsCatalog:{},shoppingCart:[]},(0,r.on)(i.VH,function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{pizzas:n})}),(0,r.on)(i.o$,function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{productsCatalog:n})}),(0,r.on)(i.U9,function(e,t){var n=t.payload;return Object.assign(Object.assign({},e),{shoppingCart:n})}),(0,r.on)(i.Gp,function(e){return Object.assign(Object.assign({},e),{shoppingCart:[]})}));function o(e,t){return a(e,t)}var s=(0,r.ZF)("app"),u=(0,r.P1)(s,function(e){return e.pizzas}),c=(0,r.P1)(s,function(e){return e.productsCatalog});(0,r.P1)(s,function(e){return e.shoppingCart})},1197:function(e,t,n){"use strict";var r=n(9075),i=n(7716),a=n(6710),o=n(3572),s=n(7238);function u(){return"undefined"!=typeof window&&void 0!==window.document}function c(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function l(e){switch(e.length){case 0:return new s.ZN;case 1:return e[0];default:return new s.ZE(e)}}function h(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],u=[],c=-1,l=null;if(r.forEach(function(e){var n=e.offset,r=n==c,h=r&&l||{};Object.keys(e).forEach(function(n){var r=n,u=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),u){case s.k1:u=i[n];break;case s.l3:u=a[n];break;default:u=t.normalizeStyleValue(n,r,u,o)}h[r]=u}),r||u.push(h),l=h,c=n}),o.length){var h="\n - ";throw new Error("Unable to animate due to the following errors:".concat(h).concat(o.join(h)))}return u}function f(e,t,n,r){switch(t){case"start":e.onStart(function(){return r(n&&d(n,"start",e))});break;case"done":e.onDone(function(){return r(n&&d(n,"done",e))});break;case"destroy":e.onDestroy(function(){return r(n&&d(n,"destroy",e))})}}function d(e,t,n){var r=n.totalTime,i=p(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),a=e._data;return null!=a&&(i._data=a),i}function p(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:a,disabled:!!o}}function v(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function g(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var y=function(e,t){return!1},m=function(e,t){return!1},_=function(e,t,n){return[]},k=c();(k||"undefined"!=typeof Element)&&(y=u()?function(e,t){for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:function(e,t){return e.contains(t)},m=function(){if(k||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:m}(),_=function(e,t,n){var r=[];if(n)for(var i=e.querySelectorAll(t),a=0;a<i.length;a++)r.push(i[a]);else{var o=e.querySelector(t);o&&r.push(o)}return r});var b=null,C=!1;function w(e){b||(b=("undefined"!=typeof document?document.body:null)||{},C=!!b.style&&"WebkitAppearance"in b.style);var t=!0;return b.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in b.style)&&C&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in b.style)),t}var x=m,E=y,S=_;function T(e){var t={};return Object.keys(e).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}var I,A=((I=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return w(e)}},{key:"matchesElement",value:function(e,t){return x(e,t)}},{key:"containsElement",value:function(e,t){return E(e,t)}},{key:"query",value:function(e,t,n){return S(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){return new s.ZN(n,r)}}]),e}()).\u0275fac=function(e){return new(e||I)},I.\u0275prov=i.Yz7({token:I,factory:I.\u0275fac}),I),O=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new A,e}(),D="ng-enter",R="ng-leave",P="ng-trigger",F=".ng-trigger",N="ng-animating",M=".ng-animating";function L(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:U(parseFloat(t[1]),t[2])}function U(e,t){switch(t){case"s":return 1e3*e;default:return e}}function j(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,a="";if("string"==typeof e){var o=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=U(parseFloat(o[1]),o[2]);var s=o[3];null!=s&&(i=U(parseFloat(s),o[4]));var u=o[5];u&&(a=u)}else r=e;if(!n){var c=!1,l=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(l,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:a}}(e,t,n)}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else V(e,n);return n}function q(e,t,n){return n?t+":"+n+";":""}function z(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=q(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=q(0,X(i),e.style[i]));e.setAttribute("style",t)}function H(e,t,n){e.style&&(Object.keys(t).forEach(function(r){var i=$(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),c()&&z(e))}function Z(e,t){e.style&&(Object.keys(t).forEach(function(t){var n=$(t);e.style[n]=""}),c()&&z(e))}function K(e){return Array.isArray(e)?1==e.length?e[0]:(0,s.vP)(e):e}var G=new RegExp("{{\\s*(.+?)\\s*}}","g");function W(e){var t=[];if("string"==typeof e){for(var n;n=G.exec(e);)t.push(n[1]);G.lastIndex=0}return t}function Q(e,t,n){var r=e.toString(),i=r.replace(G,function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?e:i}function Y(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var J=/-+([a-z0-9])/g;function $(e){return e.replace(J,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()})}function X(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ee(e,t){return 0===e||0===t}function te(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],a=[];if(r.forEach(function(e){i.hasOwnProperty(e)||a.push(e),i[e]=n[e]}),a.length)for(var o=function(){var n=t[s];a.forEach(function(t){n[t]=re(e,t)})},s=1;s<t.length;s++)o()}return t}function ne(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function re(e,t){return window.getComputedStyle(e)[t]}function ie(e,t){var n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var a=i[1],o=i[2],s=i[3];t.push(se(a,s)),"<"==o[0]&&("*"!=a||"*"!=s)&&t.push(se(s,a))}(e,n,t)}):n.push(e),n}var ae=new Set(["true","1"]),oe=new Set(["false","0"]);function se(e,t){var n=ae.has(e)||oe.has(e),r=ae.has(t)||oe.has(t);return function(i,a){var o="*"==e||e==i,s="*"==t||t==a;return!o&&n&&"boolean"==typeof i&&(o=i?ae.has(e):oe.has(e)),!s&&r&&"boolean"==typeof a&&(s=a?ae.has(t):oe.has(t)),o&&s}}var ue=new RegExp("s*:selfs*,?","g");function ce(e,t,n){return new le(e).build(t,n)}var le=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new he(t);return this._resetContextStyleTimingState(n),ne(this,K(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,a=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(e){s.name=e,a.push(n.visitState(s,t))}),s.name=u}else if(1==e.type){var c=n.visitTransition(e,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:a,transitions:o,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,a=r||{};if(n.styles.forEach(function(e){if(fe(e)){var t=e;Object.keys(t).forEach(function(e){W(t[e]).forEach(function(e){a.hasOwnProperty(e)||i.add(e)})})}}),i.size){var o=Y(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(o.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n=ne(this,K(e.animation),t);return{type:1,matchers:ie(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:de(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map(function(e){return ne(n,e,t)}),options:de(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,a=e.steps.map(function(e){t.currentTime=r;var a=ne(n,e,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:a,options:de(e.options)}}},{key:"visitAnimate",value:function(e,t){var n=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return pe(j(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some(function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)})){var i=pe(0,0,"");return i.dynamic=!0,i.strValue=r,i}return pe((n=n||j(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;var r,i=e.styles?e.styles:(0,s.oB)({});if(5==i.type)r=this.visitKeyframes(i,t);else{var a=e.styles,o=!1;if(!a){o=!0;var u={};n.easing&&(u.easing=n.easing),a=(0,s.oB)(u)}t.currentTime+=n.duration+n.delay;var c=this.visitStyle(a,t);c.isEmptyStep=o,r=c}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach(function(e){"string"==typeof e?e==s.l3?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)}):n.push(e.styles);var r=!1,i=null;return n.forEach(function(e){if(fe(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var a in t)if(t[a].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(function(e){"string"!=typeof e&&Object.keys(e).forEach(function(r){if(n._driver.validateStyleProperty(r)){var o=t.collectedStyles[t.currentQuerySelector],s=o[r],u=!0;s&&(a!=i&&a>=s.startTime&&i<=s.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(s.startTime,'ms" and "').concat(s.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(a,'ms" and "').concat(i,'ms"')),u=!1),a=s.startTime),u&&(o[r]={startTime:a,endTime:i}),t.options&&function(e,t,n){var r=t.params||{},i=W(e);i.length&&i.forEach(function(e){r.hasOwnProperty(e)||n.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})}(e[r],t.options,t.errors)}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,a=[],o=!1,s=!1,u=0,c=e.steps.map(function(e){var r=n._makeStyleAst(e,t),c=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach(function(e){if(fe(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}});else if(fe(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,o=o||l<u,u=l,a.push(l),r});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");var l=e.steps.length,h=0;i>0&&i<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return c.forEach(function(e,i){var o=h>0?i==f?1:h*i:a[i],s=o*v;t.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(e,t),e.offset=o,r.styles.push(e)}),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:ne(this,K(e.animation),t),options:de(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:de(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:de(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find(function(e){return":self"==e});return t&&(e=e.replace(ue,"")),[e=e.replace(/@\*/g,F).replace(/@\w+/g,function(e){return F+"-"+e.substr(1)}).replace(/:animating/g,M),t]}(e.selector),2),a=i[0],o=i[1];t.currentQuerySelector=n.length?n+" "+a:a,v(t.collectedStyles,t.currentQuerySelector,{});var s=ne(this,K(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:e.selector,options:de(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:j(e.timings,t.errors,!0);return{type:12,animation:ne(this,K(e.animation),t),timings:n,options:null}}}]),e}(),he=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function fe(e){return!Array.isArray(e)&&"object"==typeof e}function de(e){return e?(e=V(e)).params&&(e.params=function(e){return e?V(e):null}(e.params)):e={},e}function pe(e,t,n){return{duration:e,delay:t,easing:n}}function ve(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:s}}var ge=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),ye=new RegExp(":enter","g"),me=new RegExp(":leave","g");function _e(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new ke).buildKeyframes(e,t,n,r,i,a,o,s,u,c)}var ke=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,a,o,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new ge;var l=new Ce(e,t,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([a],null,l.errors,s),ne(this,n,l);var h=l.timelines.filter(function(e){return e.containsAnimation()});if(h.length&&Object.keys(o).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([o],null,l.errors,s)}return h.length?h.map(function(e){return e.buildKeyframes()}):[ve(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,a=this._visitSubInstructions(n,r,r.options);i!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?L(n.duration):null,a=null!=n.delay?L(n.delay):null;return 0!==i&&e.forEach(function(e){var n=t.appendInstructionToTimeline(e,i,a);r=Math.max(r,n.duration+n.delay)}),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),ne(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,a=e.options;if(a&&(a.params||a.delay)&&((i=t.createSubContext(a)).transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=be);var o=L(a.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(function(e){return ne(n,e,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,a=e.options&&e.options.delay?L(e.options.delay):0;e.steps.forEach(function(o){var s=t.createSubContext(e.options);a&&s.delayNextStep(a),ne(n,o,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)}),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return j(t.params?Q(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(function(e){a.forwardTime((e.offset||0)*i),a.setStyles(e.styles,e.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?L(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=be);var o=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);a&&s.delayNextStep(a),r===t.element&&(u=s.currentTimeline),ne(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,a=Math.abs(i.duration),o=a*(t.currentQueryTotal-1),s=a*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=o-s;break;case"full":s=n.currentStaggerTime}var u=t.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;ne(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),e}(),be={},Ce=function(){function e(t,n,r,i,a,o,s,u){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=be,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new we(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=L(r.duration)),null!=r.delay&&(i.delay=L(r.delay));var a=r.params;if(a){var o=i.params;o||(o=this.options.params={}),Object.keys(a).forEach(function(e){(!t||!o.hasOwnProperty(e))&&(o[e]=Q(a[e],o,n.errors))})}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach(function(e){n[e]=t[e]})}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,a=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=be,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new xe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,a){var o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(ye,"."+this._enterClassName)).replace(me,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),o.push.apply(o,_toConsumableArray(s))}return!i&&0==o.length&&a.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),o}}]),e}(),we=function(){function e(t,n,r,i){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(function(e){t._backFill[e]=t._globalTimelineStyles[e]||s.l3,t._currentKeyframe[e]=s.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var a=r&&r.params||{},o=function(e,t){var n,r={};return e.forEach(function(e){"*"===e?(n=n||Object.keys(t)).forEach(function(e){r[e]=s.l3}):B(e,!1,r)}),r}(e,this._globalTimelineStyles);Object.keys(o).forEach(function(e){var t=Q(o[e],a,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:s.l3),i._updateStyle(e,t)})}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){e._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])}))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach(function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach(function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)})}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(a,o){var u=B(a,!0);Object.keys(u).forEach(function(e){var r=u[e];r==s.k1?t.add(e):r==s.l3&&n.add(e)}),r||(u.offset=o/e.duration),i.push(u)});var a=t.size?Y(t.values()):[],o=n.size?Y(n.values()):[];if(r){var u=i[0],c=V(u);u.offset=0,c.offset=1,i=[u,c]}return ve(this.element,i,a,o,this.duration,this.startTime,this.easing,!1)}}]),e}(),xe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(u=t.call(this,e,r,s.delay)).keyframes=i,u.preStyleProps=a,u.postStyleProps=o,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var a=[],o=r+n,s=n/o,u=B(e[0],!1);u.offset=0,a.push(u);var c=B(e[0],!1);c.offset=Ee(s),a.push(c);for(var l=e.length-1,h=1;h<=l;h++){var f=B(e[h],!1);f.offset=Ee((n+f.offset*r)/o),a.push(f)}r=o,n=0,i="",e=a}return ve(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(we);function Ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Se=function e(){_classCallCheck(this,e)},Te=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return $(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",a=n.toString().trim();if(Ie[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return a+i}}]),n}(Se),Ie=function(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Ae(e,t,n,r,i,a,o,s,u,c,l,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:a,toState:r,toStyles:o,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var Oe={},De=function(){function e(t,n,r){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some(function(e){return e(t,n,r,i)})}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],a=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):a}},{key:"build",value:function(e,t,n,r,i,a,o,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||Oe,f=this.buildStyles(n,o&&o.params||Oe,l),d=s&&s.params||Oe,p=this.buildStyles(r,d,l),g=new Set,y=new Map,m=new Map,_="void"===r,k={params:Object.assign(Object.assign({},h),d)},b=c?[]:_e(e,t,this.ast.animation,i,a,f,p,k,u,l),C=0;if(b.forEach(function(e){C=Math.max(e.duration+e.delay,C)}),l.length)return Ae(t,this._triggerName,n,r,_,f,p,[],[],y,m,C,l);b.forEach(function(e){var n=e.element,r=v(y,n,{});e.preStyleProps.forEach(function(e){return r[e]=!0});var i=v(m,n,{});e.postStyleProps.forEach(function(e){return i[e]=!0}),n!==t&&g.add(n)});var w=Y(g.values());return Ae(t,this._triggerName,n,r,_,f,p,b,w,y,m,C)}}]),e}(),Re=function(){function e(t,n,r){_classCallCheck(this,e),this.styles=t,this.defaultParams=n,this.normalizer=r}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n=this,r={},i=V(this.defaultParams);return Object.keys(e).forEach(function(t){var n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(function(e){if("string"!=typeof e){var a=e;Object.keys(a).forEach(function(e){var o=a[e];o.length>1&&(o=Q(o,i,t));var s=n.normalizer.normalizePropertyName(e,t);o=n.normalizer.normalizeStyleValue(e,s,o,t),r[s]=o})}}),r}}]),e}(),Pe=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.name=t,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states={},n.states.forEach(function(e){i.states[e.name]=new Re(e.style,e.options&&e.options.params||{},r)}),Fe(this.states,"true","1"),Fe(this.states,"false","0"),n.transitions.forEach(function(e){i.transitionFactories.push(new De(t,e,i.states))}),this.fallbackTransition=function(e,t,n){return new De(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},t)}(t,this.states)}return _createClass(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find(function(i){return i.match(e,t,n,r)})||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function Fe(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Ne=new ge,Me=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],r=ce(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=h(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],o=this._animations[e],u=new Map;if(o?(n=_e(this._driver,t,o,D,R,{},{},i,Ne,a)).forEach(function(e){var t=v(u,e.element,{});e.postStyleProps.forEach(function(e){return t[e]=null})}):(a.push("The requested animation doesn't exist or has already been destroyed"),n=[]),a.length)throw new Error("Unable to create the animation due to the following errors: ".concat(a.join("\n")));u.forEach(function(e,t){Object.keys(e).forEach(function(n){e[n]=r._driver.computeStyle(t,n,s.l3)})});var c=l(n.map(function(e){var t=u.get(e.element);return r._buildPlayer(e,{},t)}));return this._playersById[e]=c,c.onDestroy(function(){return r.destroy(e)}),this.players.push(c),c}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,r){var i=p(t,"","","");return f(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),Le="ng-animate-queued",Ue="ng-animate-disabled",je=".ng-animate-disabled",Ve=[],Be={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ze="__ng_removed",He=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var a=V(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach(function(e){null==n[e]&&(n[e]=t[e])})}}}]),e}(),Ze="void",Ke=new He(Ze),Ge=function(){function e(t,n,r){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,tt(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,r){var i,a=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var o=v(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};o.push(s);var u=v(this._engine.statesByElement,e,{});return u.hasOwnProperty(t)||(tt(e,P),tt(e,P+"-"+t),u[t]=Ke),function(){a._engine.afterFlush(function(){var e=o.indexOf(s);e>=0&&o.splice(e,1),a._triggers[t]||delete u[t]})}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this._getTrigger(t),o=new Qe(this.id,t,e),s=this._engine.statesByElement.get(e);s||(tt(e,P),tt(e,P+"-"+t),this._engine.statesByElement.set(e,s={}));var u=s[t],c=new He(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[t]=c,u||(u=Ke),c.value===Ze||u.value!==c.value){var l=v(this._engine.playersByElement,e,[]);l.forEach(function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()});var h=a.matchTransition(u.value,c.value,e,c.params),f=!1;if(!h){if(!i)return;h=a.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:u,toState:c,player:o,isFallbackTransition:f}),f||(tt(e,Le),o.onStart(function(){nt(e,Le)})),o.onDone(function(){var t=r.players.indexOf(o);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(o);i>=0&&n.splice(i,1)}}),this.players.push(o),l.push(o),o}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(!t.hasOwnProperty(a)||e[a]!==t[a])return!1}return!0}(u.params,c.params)){var d=[],p=a.matchStyles(u.value,u.params,d),g=a.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){Z(e,p),H(e,g)})}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach(function(t,n){delete t[e]}),this._elementListeners.forEach(function(n,r){t._elementListeners.set(r,n.filter(function(t){return t.name!=e}))})}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach(function(e){return e.destroy()}),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,r=this._engine.driver.query(e,F,!0);r.forEach(function(e){if(!e[ze]){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach(function(n){return n.triggerLeaveAnimation(e,t,!1,!0)}):n.clearElementCache(e)}}),this._engine.afterFlushAnimationsDone(function(){return r.forEach(function(e){return n.clearElementCache(e)})})}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,a=this._engine.statesByElement.get(e);if(a){var o=[];if(Object.keys(a).forEach(function(t){if(i._triggers[t]){var n=i.trigger(e,t,Ze,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&l(o).onDone(function(){return i._engine.processLeaveNode(e)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){var i=new Set;n.forEach(function(n){var a=n.name;if(!i.has(a)){i.add(a);var o=t._triggers[a].fallbackTransition,s=r[a]||Ke,u=new He(Ze),c=new Qe(t.id,a,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:a,transition:o,fromState:s,toState:u,player:c,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else for(var o=e;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{var s=e[ze];(!s||s===Be)&&(r.afterFlush(function(){return n.clearElementCache(e)}),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){tt(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var a=r.element,o=t._elementListeners.get(a);o&&o.forEach(function(t){if(t.name==r.triggerName){var n=p(a,r.triggerName,r.fromState.value,r.toState.value);n._data=e,f(r.player,t.phase,n,t.callback)}}),i.markedForDestroy?t._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1})}},{key:"destroy",value:function(e){this.players.forEach(function(e){return e.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(function(t){return t.element===e})||t}}]),e}(),We=function(){function e(t,n,r){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach(function(t){t.players.forEach(function(t){t.queued&&e.push(t)})}),e}},{key:"createNamespace",value:function(e,t){var n=new Ge(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(t)})}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=n[r[i]].namespaceId;if(a){var o=this._fetchNamespace(a);o&&t.add(o)}}return t}},{key:"trigger",value:function(e,t,n,r){if(Ye(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(Ye(t)){var i=t[ze];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){var o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),tt(e,Ue)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),nt(e,Ue))}},{key:"removeNode",value:function(e,t,n,r){if(Ye(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t[ze]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return Ye(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,F,!0);n.forEach(function(e){return t.destroyActiveAnimationsForElement(e)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,M,!0)).forEach(function(e){return t.finishActiveQueriedAnimationOnElement(e)})}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach(function(e){e.queued?e.markedForDestroy=!0:e.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach(function(e){return e.finish()})}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise(function(t){if(e.players.length)return l(e.players).onDone(function(){return t()});t()})}},{key:"processLeaveNode",value:function(e){var t=this,n=e[ze];if(n&&n.setForRemoval){if(e[ze]=Be,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,je)&&this.markElementAsDisabled(e,!1),this.driver.query(e,je,!0).forEach(function(e){t.markElementAsDisabled(e,!1)})}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(t,n){return e._balanceNamespaceList(t,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)tt(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var a=0;a<i.length;a++)i[a]()}}else for(var o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(e){return e()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?l(n).onDone(function(){s.forEach(function(e){return e()})}):s.forEach(function(e){return e()})}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new ge,i=[],a=new Map,o=[],u=new Map,c=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(function(e){f.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)f.add(t[r])});var d=this.bodyNode,p=Array.from(this.statesByElement.keys()),g=Xe(p,this.collectedEnterElements),y=new Map,m=0;g.forEach(function(e,t){var n=D+m++;y.set(t,n),e.forEach(function(e){return tt(e,n)})});for(var _=[],k=new Set,b=new Set,C=0;C<this.collectedLeaveElements.length;C++){var w=this.collectedLeaveElements[C],x=w[ze];x&&x.setForRemoval&&(_.push(w),k.add(w),x.hasAnimation?this.driver.query(w,".ng-star-inserted",!0).forEach(function(e){return k.add(e)}):b.add(w))}var E=new Map,S=Xe(p,Array.from(k));S.forEach(function(e,t){var n=R+m++;E.set(t,n),e.forEach(function(e){return tt(e,n)})}),e.push(function(){g.forEach(function(e,t){var n=y.get(t);e.forEach(function(e){return nt(e,n)})}),S.forEach(function(e,t){var n=E.get(t);e.forEach(function(e){return nt(e,n)})}),_.forEach(function(e){n.processLeaveNode(e)})});for(var T=[],I=[],A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(t).forEach(function(e){var t=e.player,a=e.element;if(T.push(t),n.collectedEnterElements.length){var s=a[ze];if(s&&s.setForMove)return void t.destroy()}var l=!d||!n.driver.containsElement(d,a),f=E.get(a),p=y.get(a),g=n._buildInstruction(e,r,p,f,l);if(g.errors&&g.errors.length)I.push(g);else{if(l)return t.onStart(function(){return Z(a,g.fromStyles)}),t.onDestroy(function(){return H(a,g.toStyles)}),void i.push(t);if(e.isFallbackTransition)return t.onStart(function(){return Z(a,g.fromStyles)}),t.onDestroy(function(){return H(a,g.toStyles)}),void i.push(t);g.timelines.forEach(function(e){return e.stretchStartingKeyframe=!0}),r.append(a,g.timelines),o.push({instruction:g,player:t,element:a}),g.queriedElements.forEach(function(e){return v(u,e,[]).push(t)}),g.preStyleProps.forEach(function(e,t){var n=Object.keys(e);if(n.length){var r=c.get(t);r||c.set(t,r=new Set),n.forEach(function(e){return r.add(e)})}}),g.postStyleProps.forEach(function(e,t){var n=Object.keys(e),r=h.get(t);r||h.set(t,r=new Set),n.forEach(function(e){return r.add(e)})})}});if(I.length){var O=[];I.forEach(function(e){O.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach(function(e){return O.push("- ".concat(e,"\n"))})}),T.forEach(function(e){return e.destroy()}),this.reportError(O)}var P=new Map,F=new Map;o.forEach(function(e){var t=e.element;r.has(t)&&(F.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,P))}),i.forEach(function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(function(e){v(P,t,[]).push(e),e.destroy()})});var N=_.filter(function(e){return at(e,c,h)}),L=new Map;$e(L,this.driver,b,h,s.l3).forEach(function(e){at(e,c,h)&&N.push(e)});var U=new Map;g.forEach(function(e,t){$e(U,n.driver,new Set(e),c,s.k1)}),N.forEach(function(e){var t=L.get(e),n=U.get(e);L.set(e,Object.assign(Object.assign({},t),n))});var j=[],V=[],B={};o.forEach(function(e){var t=e.element,o=e.player,s=e.instruction;if(r.has(t)){if(f.has(t))return o.onDestroy(function(){return H(t,s.toStyles)}),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);var u=B;if(F.size>1){for(var c=t,h=[];c=c.parentNode;){var d=F.get(c);if(d){u=d;break}h.push(c)}h.forEach(function(e){return F.set(e,u)})}var p=n._buildAnimation(o.namespaceId,s,P,a,U,L);if(o.setRealPlayer(p),u===B)j.push(o);else{var v=n.playersByElement.get(u);v&&v.length&&(o.parentPlayer=l(v)),i.push(o)}}else Z(t,s.fromStyles),o.onDestroy(function(){return H(t,s.toStyles)}),V.push(o),f.has(t)&&i.push(o)}),V.forEach(function(e){var t=a.get(e.element);if(t&&t.length){var n=l(t);e.setRealPlayer(n)}}),i.forEach(function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(var q=0;q<_.length;q++){var z=_[q],K=z[ze];if(nt(z,R),!K||!K.hasAnimation){var G=[];if(u.size){var W=u.get(z);W&&W.length&&G.push.apply(G,_toConsumableArray(W));for(var Q=this.driver.query(z,M,!0),Y=0;Y<Q.length;Y++){var J=u.get(Q[Y]);J&&J.length&&G.push.apply(G,_toConsumableArray(J))}}var $=G.filter(function(e){return!e.destroyed});$.length?rt(this,z,$):this.processLeaveNode(z)}}return _.length=0,j.forEach(function(e){n.players.push(e),e.onDone(function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)}),e.play()}),j}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t[ze];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var a=[];if(t){var o=this.playersByQueriedElement.get(e);o&&(a=o)}else{var s=this.playersByElement.get(e);if(s){var u=!i||i==Ze;s.forEach(function(e){e.queued||!u&&e.triggerName!=r||a.push(e)})}}return(n||r)&&(a=a.filter(function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)})),a}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,a=t.element,o=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,u=_createForOfIteratorHelper(t.timelines);try{var c=function(){var e=r.value.element,u=e!==a,c=v(n,e,[]);i._getPreviousPlayers(e,u,o,s,t.toState).forEach(function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})};for(u.s();!(r=u.n()).done;)c()}catch(l){u.e(l)}finally{u.f()}Z(a,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,a){var o=this,u=t.triggerName,c=t.element,f=[],d=new Set,p=new Set,g=t.timelines.map(function(t){var l=t.element;d.add(l);var v=l[ze];if(v&&v.removedBeforeQueried)return new s.ZN(t.duration,t.delay);var g=l!==c,y=function(e){var t=[];return it(e,t),t}((n.get(l)||Ve).map(function(e){return e.getRealPlayer()})).filter(function(e){return!!e.element&&e.element===l}),m=i.get(l),_=a.get(l),k=h(0,o._normalizer,0,t.keyframes,m,_),b=o._buildPlayer(t,k,y);if(t.subTimeline&&r&&p.add(l),g){var C=new Qe(e,u,l);C.setRealPlayer(b),f.push(C)}return b});f.forEach(function(e){v(o.playersByQueriedElement,e.element,[]).push(e),e.onDone(function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var a=r.indexOf(n);r.splice(a,1)}0==r.length&&delete e[t]}return r}(o.playersByQueriedElement,e.element,e)})}),d.forEach(function(e){return tt(e,N)});var y=l(g);return y.onDestroy(function(){d.forEach(function(e){return nt(e,N)}),H(c,t.toStyles)}),p.forEach(function(e){v(r,e,[]).push(y)}),y}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new s.ZN(e.duration,e.delay)}}]),e}(),Qe=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new s.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(function(n){t._queuedCallbacks[n].forEach(function(t){return f(e,n,void 0,t)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart(function(){return n.triggerCallback("start")}),e.onDone(function(){return t.finish()}),e.onDestroy(function(){return t.destroy()})}},{key:"_queueEvent",value:function(e,t){v(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function Ye(e){return e&&1===e.nodeType}function Je(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function $e(e,t,n,r,i){var a=[];n.forEach(function(e){return a.push(Je(e))});var o=[];r.forEach(function(n,r){var a={};n.forEach(function(e){var n=a[e]=t.computeStyle(r,e,i);(!n||0==n.length)&&(r[ze]=qe,o.push(r))}),e.set(r,a)});var s=0;return n.forEach(function(e){return Je(e,a[s++])}),o}function Xe(e,t){var n=new Map;if(e.forEach(function(e){return n.set(e,[])}),0==t.length)return n;var r=new Set(t),i=new Map;function a(e){if(!e)return 1;var t=i.get(e);if(t)return t;var o=e.parentNode;return t=n.has(o)?o:r.has(o)?1:a(o),i.set(e,t),t}return t.forEach(function(e){var t=a(e);1!==t&&n.get(t).push(e)}),n}var et="$$classes";function tt(e,t){if(e.classList)e.classList.add(t);else{var n=e[et];n||(n=e[et]={}),n[t]=!0}}function nt(e,t){if(e.classList)e.classList.remove(t);else{var n=e[et];n&&delete n[t]}}function rt(e,t,n){l(n).onDone(function(){return e.processLeaveNode(t)})}function it(e,t){for(var n=0;n<e.length;n++){var r=e[n];r instanceof s.ZE?it(r.players,t):t.push(r)}}function at(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach(function(e){return i.add(e)}):t.set(e,r),n.delete(e),!0}var ot=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new We(t,n,r),this._timelineEngine=new Me(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var a=e+"-"+r,o=this._triggerCache[a];if(!o){var s=[],u=ce(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));o=function(e,t,n){return new Pe(e,t,n)}(r,u,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(t,r,o)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(g(n),2),a=i[0],o=i[1];this._timelineEngine.command(a,t,o,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var a=_slicedToArray(g(n),2),o=a[0],s=a[1];return this._timelineEngine.listen(o,t,s,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function st(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=ct(t[0]),t.length>1&&(r=ct(t[t.length-1]))):t&&(n=ct(t)),n||r?new ut(e,n,r):null}var ut=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&H(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(H(this._element,this._initialStyles),this._endStyles&&(H(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Z(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Z(this._element,this._endStyles),this._endStyles=null),H(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function ct(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];lt(i)&&((t=t||{})[i]=e[i])}return t}function lt(e){return"display"===e||"position"===e}var ht="animation",ft="animationend",dt=function(){function e(t,n,r,i,a,o,s){var u=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=a,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return u._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){(function(e,t){var n=_t(e,"").trim();n.length&&(function(e,t){for(var n=0,r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t="".concat(n,", ").concat(t)),mt(e,"",t)})(this._element,"".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name)),yt(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){pt(this._element,this._name,"paused")}},{key:"resume",value:function(){pt(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=vt(this._element,this._name);this._position=e*this._duration,mt(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),yt(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){var n=_t(e,"").split(","),r=gt(n,t);r>=0&&(n.splice(r,1),mt(e,"",n.join(",")))}(this._element,this._name))}}]),e}();function pt(e,t,n){mt(e,"PlayState",n,vt(e,t))}function vt(e,t){var n=_t(e,"");return n.indexOf(",")>0?gt(n.split(","),t):gt([n],t)}function gt(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function yt(e,t,n){n?e.removeEventListener(ft,t):e.addEventListener(ft,t)}function mt(e,t,n,r){var i=ht+t;if(null!=r){var a=e.style[i];if(a.length){var o=a.split(",");o[r]=n,n=o.join(",")}}e.style[i]=n}function _t(e,t){return e.style[ht+t]||""}var kt=function(){function e(t,n,r,i,a,o,s,u){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=a,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+a,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new dt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return e.finish()})}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:re(e.element,r))})}this.currentSnapshot=t}}]),e}(),bt=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=T(r),i}return _createClass(n,[{key:"init",value:function(){var e=this;this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(function(t){e._startingStyles[t]=e.element.style[t]}),_get2(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(function(t){return e.element.style.setProperty(t,e._styles[t])}),_get2(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;!this._startingStyles||(Object.keys(this._startingStyles).forEach(function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)}),this._startingStyles=null,_get2(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(s.ZN),Ct=function(){function e(){_classCallCheck(this,e),this._count=0}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return w(e)}},{key:"matchesElement",value:function(e,t){return x(e,t)}},{key:"containsElement",value:function(e,t){return E(e,t)}},{key:"query",value:function(e,t,n){return S(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map(function(e){return T(e)});var r="@keyframes ".concat(t," {\n"),i="";n.forEach(function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach(function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}}),r+="".concat(i,"}\n")}),r+="}\n";var a=document.createElement("style");return a.textContent=r,a}},{key:"animate",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=a.filter(function(e){return e instanceof kt}),s={};ee(n,r)&&o.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return s[e]=t[e]})});var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach(function(e){Object.keys(e).forEach(function(n){"offset"==n||"easing"==n||(t[n]=e[n])})}),t}(t=te(e,t,s));if(0==n)return new bt(e,u);var c="gen_css_kf_"+this._count++,l=this.buildKeyframeElement(e,c,t);(function(e){var t,n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(l);var h=st(e,t),f=new kt(e,t,c,n,r,i,u,h);return f.onDestroy(function(){var e;(e=l).parentNode.removeChild(e)}),f}}]),e}(),wt=function(){function e(t,n,r,i){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(e){return e()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",function(){return e._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(e){return e()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(e){return e()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:re(e.element,n))}),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(function(e){return e()}),t.length=0}}]),e}(),xt=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Et().toString()),this._cssKeyframesDriver=new Ct}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return w(e)}},{key:"matchesElement",value:function(e,t){return x(e,t)}},{key:"containsElement",value:function(e,t){return E(e,t)}},{key:"query",value:function(e,t,n){return S(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,a);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=a.filter(function(e){return e instanceof wt});ee(n,r)&&c.forEach(function(e){var t=e.currentSnapshot;Object.keys(t).forEach(function(e){return u[e]=t[e]})});var l=st(e,t=te(e,t=t.map(function(e){return B(e,!1)}),u));return new wt(e,t,s,l)}}]),e}();function Et(){return u()&&Element.prototype.animate||{}}var St=n(8583),Tt=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this))._nextAnimationId=0,a._renderer=e.createRenderer(r.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}}),a}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?(0,s.vP)(e):e;return Ot(this._renderer,null,t,"register",[n]),new It(t,this._renderer)}}]),n}(s._j);return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.FYo),i.LFG(St.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}(),It=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass(n,[{key:"create",value:function(e,t){return new At(this._id,e,t||{},this._renderer)}}]),n}(s.LC),At=function(){function e(t,n,r,i){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ot(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}]),e}();function Ot(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var Dt="@.disabled",Rt=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new Pt("",r,this.engine),this._rendererCache.set(r,i)),i}var a=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);return t.data.animation.forEach(function t(r){Array.isArray(r)?r.forEach(t):n.engine.registerTrigger(a,o,e,r.name,r)}),new Ft(this,o,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then(function(){e._microtaskId++})}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run(function(){return t(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.FYo),i.LFG(ot),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}(),Pt=function(){function e(t,n,r){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&t==Dt?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),Ft=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck(this,n),(o=t.call(this,r,i,a)).factory=e,o.namespaceId=r,o}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Dt?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r=this;if("@"==t.charAt(0)){var i,a=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),o=t.substr(1),s="";return"@"!=o.charAt(0)&&(o=(i=_slicedToArray(function(e){var t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(o),2))[0],s=i[1]),this.engine.listen(this.namespaceId,a,o,s,function(e){r.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}]),n}(Pt),Nt=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck(this,n),t.call(this,e.body,r,i)}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.flush()}}]),n}(ot);return e.\u0275fac=function(t){return new(t||e)(i.LFG(St.K0),i.LFG(O),i.LFG(Se))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}(),Mt=new i.OlP("AnimationModuleType"),Lt=[{provide:s._j,useClass:Tt},{provide:Se,useFactory:function(){return new Te}},{provide:ot,useClass:Nt},{provide:i.FYo,useFactory:function(e,t,n){return new Rt(e,t,n)},deps:[r.se,ot,i.R0b]}],Ut=[{provide:O,useFactory:function(){return"function"==typeof Et()?new xt:new Ct}},{provide:Mt,useValue:"BrowserAnimations"}].concat(Lt),jt=[{provide:O,useClass:A},{provide:Mt,useValue:"NoopAnimations"}].concat(Lt),Vt=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:t.disableAnimations?jt:Ut}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:Ut,imports:[r.b2]}),e}(),Bt=n(9344),qt=n(5754),zt=n(1601),Ht=n(9773),Zt=n(8002),Kt=n(5294),Gt=n(9531),Wt=function(){var e=function e(t,n){var r=this;_classCallCheck(this,e),this.actions$=t,this.productsService=n,this.fetchPizzas$=(0,zt.GW)(function(){return r.actions$.pipe((0,zt.l4)(Kt.qR),(0,Ht.zg)(function(){return r.productsService.getPizzasList().pipe((0,Zt.U)(function(e){return(0,Kt.VH)({payload:e})}))}))}),this.fetchProductsCatalog$=(0,zt.GW)(function(){return r.actions$.pipe((0,zt.l4)(Kt.Y),(0,Ht.zg)(function(){return r.productsService.getProductsCatalog().pipe((0,Zt.U)(function(e){return(0,Kt.o$)({payload:e})}))}))})};return e.\u0275fac=function(t){return new(t||e)(i.LFG(zt.eX),i.LFG(Gt.s))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}(),Qt=n(2694),Yt=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"router-outlet")},directives:[Qt.lC],encapsulation:2}),e}(),Jt=n(3342),$t=n(7556),Xt=function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.toastr=t,this.router=n,this.authService=r}return _createClass(e,[{key:"canLoad",value:function(){var e=this;return this.authService.isUserAuth().pipe((0,Jt.b)(function(t){t||(e.toastr.error("You are not authorized to view this page, please log in first"),e.router.navigate(["/auth"]))}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.LFG(Bt._W),i.LFG(Qt.F0),i.LFG($t.e))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),en=n(5435),tn=n(2996),nn=n(7519),rn=n(8379),an=n(3998),on=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-footer"]],decls:51,vars:0,consts:[[1,"footer"],[1,"row","footer-content"],[1,"our-info","col-md-4","col-12"],["src","assets/images/Logo.svg","width","101px","height","101px",1,"logo"],[1,"txt-gray-1","pt-4"],[1,"row","media-icons","mx-1"],[1,"icon","col","cursor-pointer","icon-facebook"],[1,"icon","col","cursor-pointer","icon-twitter"],[1,"icon","col","cursor-pointer","icon-linkedin"],[1,"icon","col","cursor-pointer","icon-youtube"],[1,"icon","col","cursor-pointer","icon-instagram"],[1,"our-links","txt-white","col-12","col-md-2","mt-5"],[1,"list-group","pt-4"],[1,"pb-3"],["href",""],[1,"stuff","txt-white","col-12","col-md-3","mt-5"],[1,"our-feed","txt-white","col-12","col-md-3","mt-5"],[1,"d-flex","flex-wrap"],["src","assets/images/ourfeed_1.png","width","68px","height","68px",1,"m-1"],["src","assets/images/ourfeed_2.png","width","68px","height","68px",1,"m-1"],["src","assets/images/ourfeed_3.png","width","68px","height","68px",1,"m-1"],["src","assets/images/ourfeed_4.png","width","68px","height","68px",1,"m-1"],["src","assets/images/ourfeed_5.png","width","68px","height","68px",1,"m-1"],["src","assets/images/ourfeed_6.png","width","68px","height","68px",1,"m-1"]],template:function(e,t){1&e&&(i.TgZ(0,"footer",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._UZ(3,"img",3),i.TgZ(4,"p",4),i._uU(5,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla nec scelerisque vulputate est iaculis bibendum curabitur."),i.qZA(),i.TgZ(6,"div",5),i._UZ(7,"li",6),i._UZ(8,"li",7),i._UZ(9,"li",8),i._UZ(10,"li",9),i._UZ(11,"li",10),i.qZA(),i.qZA(),i.TgZ(12,"div",11),i.TgZ(13,"h4"),i._uU(14,"Our Links"),i.qZA(),i.TgZ(15,"ul",12),i.TgZ(16,"li",13),i.TgZ(17,"a",14),i._uU(18,"Menu"),i.qZA(),i.qZA(),i.TgZ(19,"li",13),i.TgZ(20,"a",14),i._uU(21,"Contact"),i.qZA(),i.qZA(),i.TgZ(22,"li",13),i.TgZ(23,"a",14),i._uU(24,"About us"),i.qZA(),i.qZA(),i.TgZ(25,"li",13),i.TgZ(26,"a",14),i._uU(27,"Help"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(28,"div",15),i.TgZ(29,"h4"),i._uU(30,"Important stuff!"),i.qZA(),i.TgZ(31,"ul",12),i.TgZ(32,"li",13),i.TgZ(33,"a",14),i._uU(34,"Terms & Conditions"),i.qZA(),i.qZA(),i.TgZ(35,"li",13),i.TgZ(36,"a",14),i._uU(37,"Privacy Policy"),i.qZA(),i.qZA(),i.TgZ(38,"li",13),i.TgZ(39,"a",14),i._uU(40,"Careers"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(41,"div",16),i.TgZ(42,"h4"),i._uU(43,"Our Feed"),i.qZA(),i.TgZ(44,"div",17),i._UZ(45,"img",18),i._UZ(46,"img",19),i._UZ(47,"img",20),i._UZ(48,"img",21),i._UZ(49,"img",22),i._UZ(50,"img",23),i.qZA(),i.qZA(),i.qZA(),i.qZA())},styles:[".txt-red[_ngcontent-%COMP%]{color:#eb5757!important}.bg-red[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-red[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-orange[_ngcontent-%COMP%]{color:#f2994a!important}.bg-orange[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-orange[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.txt-danger[_ngcontent-%COMP%]{color:red!important}.bg-danger[_ngcontent-%COMP%]{background-color:red!important}.border-danger[_ngcontent-%COMP%]{border:1px solid red!important}.txt-black[_ngcontent-%COMP%]{color:#1f1f1f!important}.bg-black[_ngcontent-%COMP%]{background-color:#1f1f1f!important}.border-black[_ngcontent-%COMP%]{border:1px solid #1F1F1F!important}.txt-white[_ngcontent-%COMP%]{color:#fff!important}.bg-white[_ngcontent-%COMP%]{background-color:#fff!important}.border-white[_ngcontent-%COMP%]{border:1px solid #fff!important}.txt-yellow[_ngcontent-%COMP%]{color:#f2c94c!important}.bg-yellow[_ngcontent-%COMP%]{background-color:#f2c94c!important}.border-yellow[_ngcontent-%COMP%]{border:1px solid #F2C94C!important}.txt-gray-1[_ngcontent-%COMP%]{color:#333!important}.bg-gray-1[_ngcontent-%COMP%]{background-color:#333!important}.border-gray-1[_ngcontent-%COMP%]{border:1px solid #333333!important}.txt-gray-2[_ngcontent-%COMP%]{color:#4f4f4f!important}.bg-gray-2[_ngcontent-%COMP%]{background-color:#4f4f4f!important}.border-gray-2[_ngcontent-%COMP%]{border:1px solid #4F4F4F!important}.txt-gray-3[_ngcontent-%COMP%]{color:#828282!important}.bg-gray-3[_ngcontent-%COMP%]{background-color:#828282!important}.border-gray-3[_ngcontent-%COMP%]{border:1px solid #828282!important}.txt-gray-4[_ngcontent-%COMP%]{color:#bdbdbd!important}.bg-gray-4[_ngcontent-%COMP%]{background-color:#bdbdbd!important}.border-gray-4[_ngcontent-%COMP%]{border:1px solid #BDBDBD!important}.txt-gray-5[_ngcontent-%COMP%]{color:#e0e0e0!important}.bg-gray-5[_ngcontent-%COMP%]{background-color:#e0e0e0!important}.border-gray-5[_ngcontent-%COMP%]{border:1px solid #E0E0E0!important}.txt-gray-6[_ngcontent-%COMP%]{color:#f2f2f2!important}.bg-gray-6[_ngcontent-%COMP%]{background-color:#f2f2f2!important}.border-gray-6[_ngcontent-%COMP%]{border:1px solid #F2F2F2!important}.txt-green-1[_ngcontent-%COMP%]{color:#219653!important}.bg-green-1[_ngcontent-%COMP%]{background-color:#219653!important}.border-green-1[_ngcontent-%COMP%]{border:1px solid #219653!important}.txt-green-2[_ngcontent-%COMP%]{color:#27ae60!important}.bg-green-2[_ngcontent-%COMP%]{background-color:#27ae60!important}.border-green-2[_ngcontent-%COMP%]{border:1px solid #27AE60!important}.txt-primary[_ngcontent-%COMP%]{color:#eb5757!important}.bg-primary[_ngcontent-%COMP%]{background-color:#eb5757!important}.border-primary[_ngcontent-%COMP%]{border:1px solid #EB5757!important}.txt-secondary[_ngcontent-%COMP%]{color:#f2994a!important}.bg-secondary[_ngcontent-%COMP%]{background-color:#f2994a!important}.border-secondary[_ngcontent-%COMP%]{border:1px solid #F2994A!important}.footer[_ngcontent-%COMP%]{height:451px;background-color:#f2994a;border-radius:0 340px 0 0/0 285px 0 0;position:relative}.footer-content[_ngcontent-%COMP%]{top:101px;position:absolute}.footer-content[_ngcontent-%COMP%]   .our-info[_ngcontent-%COMP%]{padding:0 3% 0 9%}.footer-content[_ngcontent-%COMP%]   .our-info[_ngcontent-%COMP%]   .media-icons[_ngcontent-%COMP%]{width:83%;padding-top:20px}.footer-content[_ngcontent-%COMP%]   .our-info[_ngcontent-%COMP%]   .media-icons[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{padding:0;color:#333;font-size:35px}.footer-content[_ngcontent-%COMP%]   .our-feed[_ngcontent-%COMP%]{max-width:22%;padding-right:15px}.footer-content[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}.footer-content[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333}@media (max-width: 991.98px){.footer[_ngcontent-%COMP%]{height:auto}.footer-content[_ngcontent-%COMP%]{background-color:#f2994a;padding:0 15px}.footer[_ngcontent-%COMP%]   .our-info[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:block;margin:15px auto}.footer[_ngcontent-%COMP%]   .our-links[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   .our-feed[_ngcontent-%COMP%]{padding:inherit}}"]}),e}(),sn=[{path:"",redirectTo:"/auth/welcome",pathMatch:"full"},{path:"",component:function(){var e=function(){function e(t,n,r){_classCallCheck(this,e),this.router=t,this.authService=n,this.authStore=r}return _createClass(e,[{key:"activePathUrlSubscription",value:function(){this.activePathUrl$=this.router.events.pipe((0,en.h)(function(e){return!!e.url}),(0,tn.j)("url"),(0,nn.x)(),(0,Zt.U)(function(e){return"/".concat(null==e?void 0:e.split("/")[1])}))}},{key:"setMenuItems",value:function(){this.menuItems=[{name:"Menu",url:"/menu"},{name:"About Us",url:"about-us"},{name:"Contact",url:"/contact"},{name:"Login / Sign up",url:"/auth"},{name:"Help",url:"/help"},{name:"",url:"/shopping",icon:"icon-shopping"}]}},{key:"ngOnInit",value:function(){this.setMenuItems(),this.activePathUrlSubscription(),this.initUserStateListener()}},{key:"initUserStateListener",value:function(){var e=this;this.authService.initUserStateListener().subscribe(function(t){t&&e.authStore.dispatch(rn.mQ({payload:{uid:t.uid,name:(null==t?void 0:t.displayName)||"",email:(null==t?void 0:t.email)||""}}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(Qt.F0),i.Y36($t.e),i.Y36(a.yh))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-layout"]],decls:7,vars:4,consts:[[1,"main-nav","position-relative"],["src","assets/images/Logo.svg","width","121px","height","121px",1,"logo"],[1,"menu-container"],[3,"menuItems","linkActive"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i._UZ(1,"img",1),i.TgZ(2,"div",2),i._UZ(3,"sb-header",3),i.ALo(4,"async"),i.qZA(),i.qZA(),i._UZ(5,"router-outlet"),i._UZ(6,"app-footer")),2&e&&(i.xp6(3),i.Q6J("menuItems",t.menuItems)("linkActive",i.lcZ(4,2,t.activePathUrl$)))},directives:[an.Z,Qt.lC,on],pipes:[St.Ov],styles:[".main-nav[_ngcontent-%COMP%]{display:flex;z-index:100}.main-nav[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{top:42px;left:102px;position:absolute}.main-nav[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{top:62px;width:56%;right:132px;position:absolute}@media (max-width: 991.98px){.main-nav[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{display:none}}"]}),e}(),children:[{path:"auth",loadChildren:function(){return n.e(106).then(n.bind(n,106)).then(function(e){return e.AuthModule})}},{path:"home",loadChildren:function(){return Promise.all([n.e(930),n.e(366)]).then(n.bind(n,9366)).then(function(e){return e.HomeModule})},canLoad:[Xt]},{path:"menu",loadChildren:function(){return Promise.all([n.e(930),n.e(316)]).then(n.bind(n,9316)).then(function(e){return e.MenuModule})},canLoad:[Xt]}]},{path:"**",redirectTo:"auth"}],un=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[Qt.Bz.forRoot(sn)],Qt.Bz]}),e}(),cn={projectId:"the-good-pizza-club",appId:"1:705243269757:web:eac1dea0e1c7a1a690bf14",storageBucket:"the-good-pizza-club.appspot.com",locationId:"us-east1",apiKey:"AIzaSyCcAC85Z1L19XUe3o3UgR_NfAH5ST88IAE",authDomain:"the-good-pizza-club.firebaseapp.com",messagingSenderId:"705243269757"},ln=n(3071),hn=n(127),fn=n(6643),dn=n(2329),pn=n(5869),vn=n(209);n(3854),n(5452),n(5601),n(6034);var gn=function e(t){return _classCallCheck(this,e),t},yn=function e(){return _classCallCheck(this,e),(0,fn.vb)("auth")},mn=new i.OlP("angularfire2.auth-instances");function _n(e){return function(t,n){var r=t.runOutsideAngular(function(){return e(n)});return new gn(r)}}var kn={provide:yn,deps:[[new i.FiY,mn]]},bn={provide:gn,useFactory:function(e,t){var n=(0,fn.JM)("auth",e,t);return n&&new gn(n)},deps:[[new i.FiY,mn],hn.Ot]},Cn=function(){var e=function e(){_classCallCheck(this,e),(0,dn.KN)("angularfire",fn.q4.full,"auth")};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[bn,kn]}),e}();function wn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{ngModule:Cn,providers:[{provide:mn,useFactory:_n(e),multi:!0,deps:[i.R0b,i.zs3,fn.HU,hn.z6,[new i.FiY,pn.nm]].concat(n)}]}}var xn=(0,fn.u3)(vn.n,!0),En=n(1304),Sn=function e(t){return _classCallCheck(this,e),t},Tn="firestore",In=new i.OlP("angularfire2.firestore-instances");function An(e){return function(t,n){var r=t.runOutsideAngular(function(){return e(n)});return new Sn(r)}}var On={provide:function e(){return _classCallCheck(this,e),(0,fn.vb)(Tn)},deps:[[new i.FiY,In]]},Dn={provide:Sn,useFactory:function(e,t){var n=(0,fn.JM)(Tn,e,t);return n&&new Sn(n)},deps:[[new i.FiY,In],hn.Ot]},Rn=function(){var e=function e(){_classCallCheck(this,e),(0,dn.KN)("angularfire",fn.q4.full,"fst")};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[Dn,On]}),e}();function Pn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return{ngModule:Rn,providers:[{provide:In,useFactory:An(e),multi:!0,deps:[i.R0b,i.zs3,fn.HU,hn.z6,[new i.FiY,yn],[new i.FiY,pn.nm]].concat(n)}]}}var Fn=(0,fn.u3)(En.ad,!0),Nn=n(8939),Mn=n(4466),Ln=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e,bootstrap:[Yt]}),e.\u0275inj=i.cJS({providers:[$t.e,ln.K,Xt],imports:[[Mn.m,r.b2,un,Bt.Rh.forRoot(),Vt,a.Aw.forRoot({app:qt.I6}),zt.sQ.forRoot([Wt]),o.FT.instrument({maxAge:25,logOnly:!0}),Nn.hO.initializeApp(cn),(0,hn.hX)(function(){return(0,hn.ZF)(cn)}),wn(function(){return xn()}),Pn(function(){return Fn()})]]}),e}();(0,i.G48)(),r.q6().bootstrapModule(Ln).catch(function(e){return console.error(e)})},4762:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(o,s)}u((r=r.apply(e,t||[])).next())})}function a(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function u(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}n.d(t,{_T:function(){return r},mG:function(){return i},Jh:function(){return a},XA:function(){return o},CR:function(){return s},ev:function(){return u}})},8239:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)})}}n.d(t,{Z:function(){return i}})}},function(e){e(e.s=1197)}])})();